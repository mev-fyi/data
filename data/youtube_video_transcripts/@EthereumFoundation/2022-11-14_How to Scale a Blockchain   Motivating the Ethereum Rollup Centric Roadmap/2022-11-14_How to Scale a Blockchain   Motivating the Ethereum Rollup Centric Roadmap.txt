foreign [Music] I'm going to talk a bit about scaling but I want to start first just with a very quick apology in case you were here to hear about multi-dimensional resource pricing I had a bit of a hard time to make up my mind which of the two talks I wanted to give so for a while on the website both titles were on there so if you're really into multimeter resource pricing which you should be I can only recommend I gave a talk earlier this year about it in the ethereum context which um is quite interesting I think and then also with eip4844 we are about to introduce a there's an open PR to to update the fee Market there and hopefully fingers crossed this will be the very first time that we start moving to multi-dimensional Resource pricing in practice on ethereum like in this case two-dimensional so do have a look um but today here I'll talk about scaling and specifically um um Roll-Ups why Roll-Ups um first one I want to talk more more in on the theoretical side why really is a roll up so fundamental to scaling and then um bring it back and and talk about ethereum's uh future place in that world basically um so first why why roll ups um uh and and I want to start by uh with something that I call execution chains it's basically just blockchains as you know them so uh Bitcoin of course was the very first ever um special purpose execution chain uh special purpose just because it's only for payments and and money uh ethereum the very first a general purpose execution chain in general all these chains of course they want to have maximum functionality maximum throughput um but that that's attention with needing to guarantee security and decentralization and to illustrate that kind of the tension um I created this little uh final graph so basically uh on the on the x-axis you have the cost to run a full node and on the y-axis you have the the throughput that your network can have um and with the Bitcoin and ethereum basically uh you are in this nice Zone where they're down there where basically everyone wants to can run their own chain locally I don't run my own Bitcoin chain right okay okay so it is Bitcoin but I could it's just a trust trade-off that I'm I choose to make um but that does mean that these chains are fundamentally Limited in throughput right by by uh basically the minimum consumer Hardware capabilities and and kind of the key Insight you release that like everyone validating everyone's transaction doesn't scale but of course we we don't want to give up you know security by by kind of moving beyond this so like the very first thing you could do and I I picked Solana just as an example and this is not meant as a slide at all actually I think uh in a second you'll uh kind of see how in a way they're kind of moving in an interesting Direction here but but basically what they're doing what their version of scaling is just to basically go further up this diagonal um and that does give you a higher throughput but of course it means that now running a full node is it becomes really expensive so that's one way of just increasing a throughput the problem is what if you don't run your own full node and there's some sort of disagreement right some some malicious attack some some chain Fork uh you only have two choices either you go with a majority in which case 51 of the network can always rewrite all the rules take away your money everything right all the other the other thing you can of course do is how Halt and recover via the social layer but that's um very slow of course so whether we want to end up on that graph that's basically this what I call the Unicorn Zone up there where everyone could you know trustlessly validate the network but we still have like really high throughput um so how how can we basically find a way to to to get there um and and that's basically where roll ups come in and why do Roll-Ups come in there um to explain that as you might be aware you probably are aware there are like two different flavors of Roll-Ups optimistic and ZK Roll-Ups the easier to explain in this context is optimistic rollups so uh to talk basically to to kind of get any tuition for for how optimistic will have solve this this kind of this dilemma here and we can look look again at the at the Savannah case and as I was talking about right if if there's a disagreement and even if you don't run your own full node you always have the of the option to just Halt and recover by the social layer and the optimistic roll-up kind of idea here is what if we could just massively speed that up right instead of running that kind of um this this fallback mechanism on human brains where whenever something goes wrong you have to actually go on Twitter and whatnot what if we basically just automate that right like we replace the human brain with uh with software and in particular with fraud proofs and and um and that's how you how you get optimistic growth so kind of trying to keep with my little picture some symbolism so so their optimistic rollups are also basically a form of an execution chain they are their own blockchains basically um the way they work is that they apply the changes optimistically um and anyone can submit a fraud proof uh so so the only basically the only guarantee you need is that there's someone in the system that notices if something goes wrong but one of and honesty assumption is a way way way less severe restriction than a majority honesty assumption um and then these photos they are automatically resolved on some sort of settlement platform um yeah that you need and then the alternative as I was saying ZK Roll-Ups they are just cryptographic magic right so in that case you don't have to to do this retractive fixing of problems instead you just have any state update come with a cryptographic proof that no one did anything wrong and again you need some sort of settlement platform um where you can where you can resolve this um one more a little caveat here is that um basically with Roll-Ups we're moving away from this world where like everyone needs to run their own like full node to ensure Integrity right like I could basically only follow the settlement chain um and still basically have all the guarantees about the roll up um but one additional uh thing thing to to ensure is that we have to also pay attention to data if you run your own full node for a chain data is implied right because you actually download all the data and execute it locally but with follow-ups you don't do that anymore so now we basically need explicit data availability mechanisms um and and that's what I put this little kind of database symbol there um yeah and and with that basically once you have you have like an explicit settlement system and you have an explicit data availability system now basically you you can break out of this of this kind of graph of of um of this um full node uh versus throughput um uh basically trade-off and uh and how can you actually use this now to kind of to build full blockchain systems um that's kind of what the what the second part is about like how how do you actually turn this into into something useful um and this is going to be very picture heavy because I kind of I don't know for me it's mostly about giving good intuitions here um for like I don't know my mental models around this basically that was that was my motivation for the talk um so again this is like an execution chain I drew a little box around it it's basically in its own box there it has its own security um and that's that's the world as it used to be the blockchain world we had a lot of these boxes like a couple years ago right and now we're adding these exciting new tools um to the picture we are we're adding settlement and we're adding data availability um and how do they basically change the picture well first we kind of have to bundle them in some like we have to kind of put them into some useful form uh the way we like to think about it is bundling them into what we call a settlement chain which is its own blockchain there you can see it has its own security and it's not the only way to do to do this like if you for example know Celestia which is a really really interesting other um kind of project that that basically works with similar kind of models and they keep data and settlement separate um but for us the the way ethereum kind of likes to approach these things is by combining them into into a settlement chain so now so now we have these these two separate chains how do we basically now actually make use of them well the way to do this is by and that's what the arrows are for by basically having turning the execution chain into a roll up um it kind of functions as it did before but now it uses this the settlement chain for for for data availability and for um settlements so you need some sort of fraud-proving mechanism or it needs some validity proofs attached but other than that it still feels like a normal blockchain basically um the simplest way to do this is what what we call like an in try and roll up so in that case you'd have like one settlement chain and one roll up on top and it's basically like a one one to one and really relationship and in a very simple way you could imagine basically this process playing out in the blockchain world is um and I guess that fits well into this kind of the multi-chain vision would be where every every blockchain that wants to basically go hyper scaling and just adds their own little settlement chain um underneath them um and that would basically bring you to this to this picture um with multiple different uh blockchains um they are that would all know have their own settlement chain the the downside there is um that for one you have fractured security right each each settlement chain has its own valid data set or its own miners or its own however you you get your security as your as your chain um and it basically some some of those will be higher security some will be lower security and that also affects Bridges uh I'm maybe some of you have seen kind of metallics right up a while ago about how basically if you bridge multiple chains you always end up with the the weaker secure the weakest security of all of them right if you basically if you want to use assets of like 10 different chains if the security of one of those breaks like that specific asset just basically is is broken for you right and if you have some sort of defense system where all of this is interconnected basically everything Can Crash and Burn um you really don't want this minimum the worst of all security kind of situations and also um I guess that's less of a severe thing but also in this picture you're kind of duplicating a lot of complexity um for each chain so what would be an alternative Vision how do we think the future might look like uh that's what we what we call like a shared a settlement chain so in this case you have one big settlement chain and you can have multiple Roll-Ups on top of course probably realistically the future will look some sort like some sort of hybrid you'll still have some blockchains that's prefer to do their own settlement chain but but we predict that like this will be a big chunk of it basically like a shared settlement chain and why is that advantages um well two main points really um one is the shared security um I like to think about it like shared pools security it's not quite free security sometimes you hear people talk about how if you if you turn your chain into a roll up you just get the the security of the base chain for free and that's not quite right I think because actually if uh say you have 10 Roll-Ups on top of a settlement chain then they basically all put additional strain on top of that settlement chain right like now the incentive to attack the settlement chain is 10x as high so you you don't just get like security doesn't just you know isn't just created for free um but it is pooled right so so now basically you have to break the entire combined system instead of just being able to take the weakest link and what that also gives you is then because you have like one shared trust um trust Zone basically that all the bridges between those roll ups if implemented perfectly you know in front caveat um it can can be you can be fully secure um okay so with that kind of bringing it back to ethereum of course I guess the last slide they're heavily hinted to where we want to end up with at but where where were we in the past where are we today and how how could we get to this shared settlement layer future so kind of starting with ethereum a few years ago uh in the early days basically ethereum also was a pure execution chain we had approved work security robs weren't yet a thing that was kind of a happy place to be in for for a couple years um at some point of course like ethereum always wanted to figure out like how do we actually scale to billions of users uh it took quite a while quite a few years of iterations in in iterations just because I like kind of research archeology and I would encourage you if you ever have some free time and nothing else to do uh go look at all research posts it's always fun so to basically just illustrate that a little bit I've like picked like three that kind of accompanied our way kind of towards this this rural Vision the first one is if you look April 2019 it's it's really quite amazing kcd Trio phase one and done is two as a data availability engine nowadays I think these this technology like everyone would just nod and be like yeah sure thanks shouting but three and a half years ago I think that was quite visionary um then uh a year later a year and a half later we had vitalik for the first time confusing this term roll-up Centric roadmap where basically we we finally realized that yes there is no other way to scale like you really need this decoupling of the execution of the settlement otherwise like you you basically as I was saying earlier right you can't break out of this dilemma so so we really like Roll-Ups are the way to go here um and then just uh third is the a fun little one um that uh my colleague Matt um uh wrote a couple weeks after vitalik's post um looking back at our early his two plans and it actually turns out that uh basically this if you remember the early chatting plans um if I just go back a couple slides if this works uh actually what we what we were planning back back in the day with all these different charts was kind of this picture all along right it was just that we wanted to have all these charts be like super enshrined and and at some point and try and roll ups basically and then someone we realized it's just much better if we open this up for for General Innovation if we if we don't build or basically if we're the only parties building Roll-Ups um and so yeah this this basically just you know it's a little history kind of tidbit so so this is kind of how we how we got to where we wanted to move move move forward with ethereum so that kind of brings us to to the kind of the pre-merge state where we already started to use the ethereum chain as a as a settlement chain as well but of course it still has execution so it's like kind of like a hybrid chain it's still proof of work security of course before the merge uh and as I was saying right settlement chains need the settlement aspect which you kind of get for free when you have a general purpose chain but then you also need data availability and data availability on the existing ethereum chain is really quite expensive it was never meant to provide data availability so what it's kind of basically right now kind of hacked in you just basically just dump data into into ethereum transactions and then never actually use them um which works but but it's just very very um expensive as a source of data availability uh of course we started having rollups on top um really exciting if you ask me I think Roll-Ups have been making a lot of progress over the last two years um and then you know pre-merge we had this this Beacon chain just an empty little box nothing in it and but much stronger proof of proof stake security right and then of course as of today we ended up you know merging and now we have have this uh basically same same situations before but but much higher security um and just as a maybe quicker side I I think I have the time for that uh why does proof of stake actually give higher security I always I mean it's not really kind of part of my talk but just because I always see a little bit of confusion about that debate on Twitter and I think it's it's really quite quite simple actually like um the the way I would think about like moving from working to proof of stake in terms of security one it's just more efficient right and that is because you don't you basically with mining you actually have to pay for the entire cost of the operation you have to reimburse minus for both the mining hardware and the energy right like they have to make all of that up with the income whereas in proof of stake you only have to make up the lost interest on your money so basically you can get away with with paying way if your rewards for this for the same security uh in in improve stake and and then the other one it is also that proof stake security is just fundamentally more effective so that means that if ever there were to be a failure which of course hopefully they will never be but if they ever were to be like an attack or something um the attack is attributable and so you can you can just you can go in and selectively punish people improve work once someone like an attacker has 51 of the resources you basically just you know your change is just lost nothing nothing to be done improve stake it's really not a big deal actually right it's a little bit annoying for maybe a day and then afterwards you're just done with it and so so that's really really uh neat I think and then also like I couldn't couldn't quite help myself um maybe this one esoteric maybe but um another interesting mechanism in terms of security that I really like is this um ultrasound uh money one where basically the idea is when you have an normal mining rewards that means that we have as the asset has this much improved monetary properties which in long run might you know might or might not turn into a higher expected monetary premium higher total eth market cap and we can just buy more Security in absolute terms but again you know this is esoteric totally fine if you don't buy into this that the first bullet point is the more important one here um okay so this is ethereum today uh where do we want to go uh how do we actually get to this full you know settlement chain uh how do we get full data availability all of that kind of thing so first thing is next year hopefully a fingers crossed um looking good I have to say uh prototype starting erp4844 that we've been really actively working on just earlier today there was there was a session on this um where basically uh we I don't know if you saw that but like the data pick the data symbol there just become became way bigger because you just you know you you add better data availability to the ethereum chain for the first time data availability is an explicit service we provide it's not just something tucked on but it's an explicit service and so it's just more effective and then of course uh you've you've probably all heard about that tongue sharding soon TM afterwards uh that could be two years from now hopefully like maybe maybe it'll be three years but but soon um uh and and that's really where we get like Ultra scalable data um and and and with that we will be for the basically we will be able to to um to host multiple of these really high throughput Roll-Ups so this is kind of in terms of scalability this is really the end game um that that we as ethereum basically are are aiming for um and basically kind of with those pictures in mind I kind of wanted to then for the for the last part talk a little bit about where does this leave us like this I I hope that kind of gave it like intuition wise like a good idea of where we're moving and why but but what implications does that have so the first first thing I wanted to briefly talk about what does it mean for the existing well it one we used to call it it one chain like basically what now is the execution chain with within the beacon chain what's the future of that and um they are basically multiple different um potential future Visions for it that you could you could you could see the first one would be that you it basically stays this hybrid execution settlement chain or the roll-up settle on top of it but also still you know it has some default on it whatever for high value transaction it can still be used as an execution chain so that would be kind of the default case um then we we could we could have the scenario where it really turns over time one more primarily into a pure settlement chain so that means that really more and more of the user activity migrates layer twos and and layer one is really just becoming more more just just a rollout management layer and then the third one it's more like a fun thought experiment it's not really kind of planned or anything but just wanted to kind of illustrate how this modular architecture is really lends itself to to all these these different different ideas what we could also do is that we could uh it basically add in an additional separate set of pure settlement chain to to the beacon chain and turn is one basically into a well you would say you could say a roll up right so in this case if you if you look at that picture you could just think of you know like one of those roll ups being it one so that's again I don't I don't think that's likely that that we'll go that way but you know it would be almost I don't want to say trivially but it would be very feasible to to go that route because we now live in this in this in this modular World um the other one I briefly want to talk about was the the future of the evm so um first I I do want to say is by no means certain that kind of the future of high throughput execution chains will be VM based right I think ethereum as the settlement layer will will always use the evm I think it's just good enough uh for for that and but it's it's not not yet decided like it could be that you know I don't know Solana or something has the Deep dominant uh winning highly scalable uh VM um uh solution it could could be could be the evm it could be some some of these other competing um new ones this is yet to be seen I mean we are very optimistic for the evm in in in that um scenario as well and I think I do want to point out um because that sometimes misunderstood uh the the reason why ethereum only has the limited to put it has is not the evm that's not the limiting factor it's really that we want to keep the resource requirements for validators low the mom the moment you are a roll up and you adopt the evm you can still go far beyond the throughput constraints of the base layer and so and there are many possible evm improvements that we just never bothered to do on the base layer because the data is not relevant for us but that layer twos are very actively looking into it so I think there's a very good chance that the evm will turn out to be to be like the winning or one of the evening and height throughput VMS um yeah and and but but of course uh whether like like the the outcome of all of this process will have like big implications that clients will clients basically say the existing evm clients will they be primarily settlement clients only or will they also be used for Roll-Ups at some point maybe they'll want to focus on Roll-Ups even um how does that look like for programming languages for the evm uh whatever tooling all these kind of things right um so I think this is this is going to be like one of the the main interesting kind of technological debates of the next five years um and in particular I wanted to briefly very briefly talk about evm equivalents because that's just a topic that I I personally am really interested in so for these layer two layer Twos for these Roll-Ups that choose to go with the evm and the question is do they go with the the the exact evm or do they just go with something that looks kind of like pvm right and if you remember say optimism for example they started out with what they call the Optimus optimism virtual machine or something OBM which was basically an Adaptive version of the evm and now they're back at using basically the EVMS is so the question is in the long run what what is the way to go should you go with evm equivalents or not and so just briefly basically the pros that I see would be of course um standardization right like if if you use the evm just all the tooling works out of the box you have multiple existing client implementations which again for security having multiple clients is just really really uh helpful but also really hard to achieve so this is like a big win you can you can get with evm equivalence and this the the third one is a bit more speculative but we could definitely imagine in the future that we have some sort of specialized settlement functionality around evm that we offer for Roll-Ups of course that would not be mandatory right if you want to run your own like fuel or Solana or something on top of ethereum you can do that as well but we would have special special support for for these evm based ones and one really interesting one especially I think in the last few months people have more noticed how governments can really be a liability and and if you actually follow the evm as is you can just defer to to layer one um governance and follow their changes basically and then what are the what are the cons um um why might you not want that well of course one it's just like if you if you're if you're stuck with the layer one evm that does come at a cost of slightly slower iteration speed right we have to really vet every change that goes into the VM quite severely to make sure nothing ever breaks um you might just need some layer two specific functionality it's just harder to add that um if you really don't want to you know kind of mess mess with with evm um and also and I feel like that's the one that's the most relevant in the context of my talk here if we expect layer one and layer 2 to really operate at quite different scales in terms of throughput maybe having identical VMS is just not the the ideal way to to to to to to go and just as like a potential promise you or having the Best of Both Worlds idea to that I want to leave you with here is one that I think might actually be quite exciting to explore in the future um what if we could maybe get the Best of Both Worlds by having a dedicated version of the evm specs for layer twos that's still standardized across all the Roll-Ups that want you know to opt in um but is is able to over time depart from layer one and really focus on on optimize for the layer 2K so I think there's a good chance that we might end up in that world and and I think that that might actually you know um be the be the best way to get us to to High scalability um and yeah and I think I hope if I remember correctly oh I do have a summary slide so let me briefly go through that but then then we're done so you know traditional uh blockchains you always have the trade-off between security and scalability uh Rob solve this ethereum's Vision we want to become the primary settlement chain we're still at the very beginning of this transformation ethereum well likely this this is the last point I I had the likely because who knows right but we we do still with the evm also have Ambitions for for execution chains we do not just want to be to be a settlement chain yeah and with that um thanks [Applause] 