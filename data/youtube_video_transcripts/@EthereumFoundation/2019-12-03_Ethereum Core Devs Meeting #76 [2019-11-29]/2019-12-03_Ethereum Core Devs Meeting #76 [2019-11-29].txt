[Music] [Music] you hey everybody and welcome to today's core developer meeting it's number 76 and this one might be a short one today we're gonna see because we only have a few agenda topics so the first one is the Istanbul hard fort community call a networked lava from the etherium magicians came up with the idea to have a Istanbul hard fork community call next Wednesday at 2:00 p.m. UTC so the exact same time as the core developer called it's on Fridays but this would be on Wednesday and it would be a live stream where various people involved in the Istanbul hard fork various core devs and community members and others would be on for a little bit for questions about Istanbul and just kind of talking about the hard fork process and pretty much whatever else we want to do we can kind of make it what we want so we're open to suggestions if you go to magicians you can leave suggestions there anybody who's normally on the all core dev calls is welcome to be on the actual call rather than just sign in to the live stream and we'll be taking questions on the etherion magicians forum and on reddit and probably on twitter so a lot like a hashtag or something so we'll see how this goes and yeah that's pretty much all for that announcement are there any comments or questions about it okay next up on the agenda we have the ice age hard fork and there is a comment made both and zoom and on the issues page for the quartet meeting 76 that show the EIP and the proposed meta EIP so we'll discuss today if we want to go forward with that I'll go ahead and hand it off to James are hard for coordinator to have him kind of walk through it and all that stuff you I had a sound on the YouTube stream you do not are you do yes sorry I just noticed as well I'm working on it Hudson if this is your zoom call it might be we're just like recording - zoom I feel like it okay like the Mac OS catallena thing there's like a bunch of permissions that have changed I think this is what's kind of screwing it up so yeah sorry about that thing I'm trying to get it fixed that's okay I can just post this later on YouTube so if you get it fixed that's fine if you don't that's fine too we'll just I'll just tell the chat that we're gonna do it that way let me just grab the chat real quick and have a post from there that's weird that it's not doing it was it doing it for the song or not I think it was it was working for the song but for some reason it's like the whole audio capture thing so I've enabled all the permissions oh oh oh and OBS on the audio thing in the middle there is let me pull it up real quick there should be like a little box looking thing by the mute button and if you open that and go to properties you can switch the device okay let me check that it looks like a little speaker icon yeah so it's the right device I don't know it feels like there's something that just broke since the update keep looking into it but yeah sorry about that no problem yeah we can just put the recording up it's not an issue right James go right ahead okay so we have a couple things to get through today as far as the difficulty mom and a hard fork related to the difficulty Bob happens to just intro for the community inside of the the tarp the retargeting algorithm like for that helps keeps block time stable for aetherium there is something called the ice age built in that after after a certain blocks at increments up and at some point it starts it starts to affect block times which is been happening on the network for the last three weeks about and so to update that we have to push back the ice age in the clients which is fairly trivial to do and then and so that's kind of where we are today we can start with e IP two to three eight four which is we getting let's get consensus on how far to push the difficulty bomb back we discussed pretty extensively on Gitter but I'd like to just hear from people here that we have an option of pushing all the way back which is 9,000 blocks back or what we did last time was 3,000 blocks back three million blocks back this time it would be five five million blocks back which is about as far back as we can go James yep yeah please some discussion about this as far as I can see there are a couple of different suggestions that have been made one is to make a rewind kind of like we've done before which is what 23 84 is other proposals have been to replace the difficulty calculation with something else maybe something linear or yeah whatever it hasn't it's been kind of vague but something else and a third suggestion has been to basically immediately remove the difficult bomb and before we discussed the particulars on 23 84 I would just like to hear if there's anyone present who feels that no we should not do it like we've done previously we should instead the one of these other more yeah not done before options so I guess I would just like to add a bit of information to that essentially the all the problem here is not that the difficulty that we need to decide what to do with the difficulty rather that the ice age is really really coming really fast which means that ideally it could be really nice if we had a solution that we can roll out at the beginning of January and that means that given that there's a crisp holiday season Christmas season whatever in between we can't really expect people to be available starting from maybe one or two weeks from now which means that if we want to have any update for the exam Network we need to kind of release next week kind of so as soon as possible and because of this there are kind of three possible solutions on what we can do with the ice age the question is which is riskier and which is less risky because from my perspective up until now we've delayed the ice age twice so delaying it a third time is kind of like a no-brainer effort so just do the exact same thing that we did previously modify one parameter and done whereas with the other two we have the question mark of how involved it is and does it have any or does it pose any risks that we haven't haven't been thinking about so I guess that's kind of what we need to discuss yeah I totally agree I just wanted to check if there is someone who wants to voice their opinion that we should do one of the other options I had a question about that Martin would it be possible for us to roll it back now because that's the one that we know works so we wouldn't have to do testing on it I'm guessing so I guess two questions if we do things like disable it or change it to a linear formula how much testing would we have to do and then second question could we in theory do change to the difficulty balm after the rollback so we have this heart fork and then after it we do another change to the difficulty balm say and whatever Berlin is yeah I mean we could definitely change to difficult the formula at the at the next hard work whenever we want regarding how much testing yeah we probably have to do quite a lot of testing but the thing is the if we do it like we've done previously there is already I mean there are already it's pretty easy to generate tests for this I mean that if up and a couple of hours later I had produced test vectors and I think must be she or another mind one of them verified that yes it's got the same result it was very trivial to produce test case for that one if we replace with something else it's going to be need more thorough testing yeah I get to feel that we can start on the discussion that James started on and I also want to remember that in the get er chat it came up that the ice age is also somewhat of a changes to that should also be brought to the community a little bit more than we have with this opportunity because we have to act more quickly to get a change out so doing what we've done previously is already what the community has has approved and any further changes should takes should take some more time and some polling to make sure we understand the values for everyone I think that's a good point the one thing I'd add to that is if we're changing the formula we probably don't need community support because that's more that doesn't change the fact that we do have a bomb or an ice age so I think that yeah I think that if we change the formula it wouldn't matter but if we take it out it would matter so I'm curious to hear it and one who if if it's sufficient 23 84 or we should roll back more because of this period thingy which seems to have an further accelerated effect yeah can we actually do that as if we're going back nine million that is the beginning of we would start putting you know 4 does not go back 9 million it says the fakeblock to you 9 million and rolls it back four million yeah if I'm rich dude if we were to do the current proposal of 9.2 it would put us in a second ice age block which would be adding I think to difficulty per rather than 2 billion difficulty per 4 million back relative to how we to now but it pushes it back 9 million from the beginning of the chain or as far as the fakeblock number is concerned in the difficulty calculation it's essentially like we're starting over block 200,000 if we go to set of a clock in nine million yeah that's a better way of saying is there any other thoughts on should that number be differently like should we try to push that back further or should we have it be eight million nine million if we could have it further back is it better I think this gives us at least a year and a half before the next ones show up we've already had some discussions on get her as well so the if there aren't any more thoughts on this then we should just accept nine million I would say works for me all right so then we'll push it back nine million as far as I'm Eric CIP two three two two three eight four is concerned we should does this mean we that means we should move this into temp and to accept it right or we should move it to be such for Elam or inclusion I would say we can move it to accept it I think what Alex and others would think it would be nice to have a block number - yeah that's right let's not move it in to accept it till we have a block number okay we'll do that at the end of the call then it's just a good time to maybe bring up the other question of which was raised on the the channel that some of the even Istanbul a I piece they're still in draft and whether they should be just might final or go to the last call I guess it's a similar question which applies there I say stuff yeah I think they are pretty much final I mean just now nobody's going to change themselves yeah that's kind of the argument I made with will who brought this up and I think what we came to from that conversation is that switching them to last call would be doing process for the sake of process or I should say that's not what we came to the conclusion of that's what I came to the conclusion of for my personal opinion on that so it would just be doing a lot of PR changing and I mean it would open up a vector for someone to stop the process really but I doubt that would happen at this stage in aetherium that is a risk though but I think process for the sake of process is stupid so his argument was that the last call isn't a very special position on the EAP repo for one single reason that there is an RSS feed on the IPC 200 org for the last call VIP is only there was a proposal to extend that feed to have separate feeds for each of the statuses but the only one which exists Israa last call and his argument was that if something is moved into last call that could show up in the RSS feed and maybe some new people gonna be notified about it and they could find some issue this late in the process I'm just replying or proxying his argument that's not a bad point what others think missile for me that's a month ago yeah and I missed Oracle ecori IPS haven't gone through the last call process I don't know if that was meant to happen or if it just sort of happened and the new IPs the eligibility for inclusion having the RSS feed a better way of doing what last calls trying to do I would say is having the RSS feed pull out a IPS that are marked is eligible for inclusion so community members know to look at those as the core devs have already looked at them and took taken that seriously you yeah I think I mean I guess it'd be easy to do last call and switch it to final really so I just have only heard one person who wants it really so that's kind of where I I'm like not as enthusiastic about changing it we could certainly see it absolutely does not matter just whoever is an editor just do whatever you wanted it's fine yeah I think maybe we'll do the PR for it I'll have to check generally I think it would be a good idea to maybe do this last call even four core hardwork GIPS because if it gives us a chance to reach out to more people that's always good but in this particular case I'm not sure it's gonna make any difference if you're talking about putting it into you last call for a few days because then we need to market final and I'm not sure if if there is any any any possibility to to get any result out of this but as an editor I'm happy just to market last fall in a market final I'd say don't bother but if you do I mean that's that's pretty nice then it will pop up in there in the feet and then it will become final isn't that's pretty nice yeah I guess that from a process perspective that looks nice and from a letting people know that looks nice it's I actually don't have a strong opinion on it so Alex if you don't mind doing that I guess we can it's not going to hurt anything yeah yeah I can do that I guess the only remaining question that is the only one he marked this last call is the gas reduction for the coal data bytes and everything else is miked final already oh yeah I don't think it will be and pragmatically we would need to mark all of them last call just so that it shows up and then mark all of them final that's something you can do or is that something the champions or authors have to do I can do it if they agreed it that's it's a good gesture and maybe next time we kind of follow the the Lascaux process they'd get more useful but we could even do it right now just to give the chance okay when you do it right now anybody else on this one we could certainly do it 423 84 and 2387 as well it says from moving forward yeah that's a good idea especially once we have the block number 423 actually block number proposed isn't there yeah do we want to discuss that now or just go with it yes we should discuss it because the the block number written is nine million two hundred thousand which is the next time the difficulty BOM increments wid should be first week of January January fifth or sixth or so the the last bump just happened not too long ago and I meet you I'm just looking at my notes right here so if we did or nine million two hundred thousand that it's right before block time should be hitting 25 30 seconds which should be is in quotes because I don't know exactly what the next increment will be it could be at some point the block time start doubling but I'm not sure if we've hit that part point yet right now it's about 15 second block times from looking at the ether scan so we bet we kind of have two options either we could go straight for when the next increment happens which is January 6 ish or we could push it a few weeks into the next or a week or so into the next period for the Ice Age and just have the network ID be a bit slower for that week they don't have strong feelings either direction I think the sixth sounds nice I don't see why we should do it for like delay at an extra week unless people think there's a bad like a chance of non adoption it certainly would be nice to get it in before the next bump as far as community is concerned balanced with making sure that it gets adopted sufficiently before that time which we that's five weeks from today is five and at five weeks yeah it sounds like people are good with whatever I'm I'm hearing like 9.2 is okay if anyone has strong opinions otherwise or weak support otherwise I support it Thank You Martin I support Martin okay now we're that now we're good to go so let's agree on nine point two as the walk number and also it include that it gets pushed back the nine million blocks I may have missed the first half of the call just to confirm this agreement that the ice age is its own hard work called the mountain glacier and Berlin is going to happen afterwards oh yeah we haven't discussed the name yet or we that didn't come up but we are talking about 2387 it really seems to be it's not Berlin it's something else yeah it's I would support that it should be considered something else it's from a narrative perspective it is something different than we had expected I agree there and I guess just to be explicit we should move this to last call as well right like it seems like there's no strong objections against any of the numbers a question on there it has to be defined for the other test nuts I guess only rob stone is the one which could could be added the others are not using to pee away so they don't need this but do we need to set numbers - no well actually there's an interesting question I would so what we need to decide is that is this hard fork does this exist so to say for the other networks or does not I would say that's not the reason I mean and specifically want to spill it out is because we have at least we have this fork ID thing that we created a while ago which tracks which Forks are applied as which blocks and that means that if we apply an no op fork on rinkeby for example that does not do anything then even though it functionally the network is the same as before the fork ID will change because it thinks that something was upgraded so my suggestion is to explicitly spell it out that this fork does not happen on on the VOA networks so there's a different account of blocks on the POA networks of forks on PA networks and there is on Mina peoria networks don't have difficulty right but I'm just thinking for Ford when we go to Berlin do we presume the validation would happen with Berlin on the PIO anniversary did they have it every account of work blocks I'm not following so what's what's the question so the Stork identifier you put in the the numbers of the four sequentially so there's going to be one more fork in main net than there would be and the other ones because I think what we did with the other ones we said that they wrapped together at the same point you know you don't fork it in twice I don't know that that's reflected in the test codes I'll need to check the yep II know so the for kiting only cares about the numbers when when some fork happens if the form doesn't happen then that's fine so the networks don't have to have the same number of forks you can have arbitrary different Forks on different networks yeah so I can have as I just mark down of adding that the po8 s nice can especially don't need this but we still do need to decide about Robson and Robson has previously applied the exact same adjustments right to fake difficulty it's like fake block number adjustments as Manor so right so we're not gonna get the same value testing as we would other changes because it's going to go to 0 or if the clients have implemented poorly and negative ice age period say that last part again Danno so if the clients haven't implemented properly the difficulty calculation it floors at zero and they take the max value of the period so it would be zero if we go to block nine million for a few million blocks on Roxton so there are test cases that cover this that Martin put together to make sure everything's zero below then but if you know the concern of why we did just do block fifty billion for the Ice Age was we were concerned that some clients might have that floor incorrectly and accidentally go negative it was a hedge against risk so what so what I'm hearing is Rob's turn it has different block heights so that the same numbers could have a different effect if they didn't implement declines correctly yeah so the thing is if we activate Rob's turn now which is I don't know six million then we and the fakeblock number is minus nine million and it's made the floor which should be fine and I guess it has happened previously when we did the previous changes so in the 21:24 test cases it had Petersburg going in at the same time as his temple looks like well the first last yeah it had it at zero length block length for these four then for what was calculated for those we could also just use a block number on Rob Steen that's different than the nine million that just pushes it back to the same starting 200,000 block or not I would vote against having a different lock number because then all of a sudden that means that the fork so the fork is that will be defined by its own block number rather is also has a parameter and then for example gas does not have a capability to configure parameters for Forks and I don't want to add it and I don't guess rock so that it looks at which fork which network and then do something so I would rather if we keep it dumb and simple yeah okay so the EIP will be the same but it's just a matter of choosing a block height to implement d yeah a matter I mean since we're not gonna get in a test coverage from the Robson rollout we don't actually have to bother to me it happens I don't know three weeks before the main at one because it won't give us anything anyway so we can just spit out some number that sounds good we can just scare it and do it with Berlin does that make things easier a whole lot easier wouldn't that mean that we change the final VIP with the block number when when we have the block number for Berlin or does that mean that tcpip is not final until then I actually don't think it makes it simpler because other dissonance between what the forks are a minute and the test nut we already have one with Petersburg and Constantinople and why do I intentionally add another one wherever split split up into phases or maynot then we have it lumped together awesome so I don't know about Rob salute we could potentially roll out something this next week is that what is possible or people are saying I mean release client as well they're released so we can release Rob's tune and the client at the same time well so I would kind of argue that if you want to release something out Roxanne - then let's pick a block number that's about a month at least out there's absolutely no value from a testing perspective but there's no point to break people's does not work just just because we want to so let's try to keep it a bit stable sorry okay I can hear you know I don't you know if you're talking though no no I'm not talking where did we wind up decide on a block number Robson as well so it's it's at six point eight million six mile eight seven million right now he's doing the math what would end of December be for that or a like January 1st or 2nd why is it important to be January the first a second I would be a week before I found glacier what happened well yeah but you know we know that it doesn't matter it doesn't have a value and I mean you don't want to fork on New Year's Eve because I'm sure there will be somebody using Robson for something and at least I won't be available to tell people that they need to update or how to fix it and so we can target the same time period then yeah for instance back in - do we need to do the number I guess we it would make sense to do the number right now so it would for January 6th in Robson's - peridot I Oh shows that there is thirteen point two three seconds per block right now so I haven't but while you're calculating I altered in to prepare t way are you guys on board with this sorry for the so I Sayed right yeah yeah but so the block number is nine point two million right yep yep right we are 39 days as far as the name goes for Alec Alex's thing we should have a discussion on that as well I just put that in as a name I saw your point on using something like near your glacier or something that an ice age that has a glacier that has been receding so I just like I'd like to bring up the topic of name for a moment while I'm calculating yeah it's not a one having a differing suggestion what's the receding one mirrored well oh sorry what is that when someone else suggested I think I heard mirrored or mirrored like how do you spell that the second named suggestion believe it was Alex that and uir it's a glacier in Alaska that and we have photographic evidence that is pull back all the way from some inlet from the it's pull back quite a bit that's why they like that one for global warming time oh oh cool this could be kind of a political thing [Laughter] I'm joking [Music] you have any more thoughts on that Alex I know that you had brought that up you had written you had written written a suggestion so I wanted to make sure I that that was heard by the group yeah it's not all that important I just like the idea naming it after a receding glacier because that's what we're trying to do here but it's only not that important that we should spend you know this I like that name personally that name being oh well actually thinking about a little more mere great glacier will people be confused how to pronounce that is that that might be the only thing but that might not matter either where's the let me see what yours what would you call yours mountain gleams mountain glacier what was the target date of Robin again really quick January 6 the Monday I'm doing yeah January 6th is the first Monday yeah I'm a name let's do Muir glacier because it actually has a meaning and that'll be neat to talk about in the future anybody else have an opinion is it being politically charged something we want to have be a part of this let me see the Wikipedia page to see if it's like actually well I don't see anything political on the Wikipedia page on global warming it's pretty political I guess I'll say yeah I don't think another goal is that that's so concerned about the discourse of Michael one later when we talk about delaying the difficulty bomb or eliminating it people who want to eliminate it they call it climate change deniers because it's gonna blow up and I'm just accused about secondary name-calling they would go on with it yeah specially since we're giving ideas on this call uh let's go with the original one then I'm only making decisions cuz no one else is I'm new I'm trying to do math and talk at the same time which hasn't hasn't worked out quite well has anyone else got a block number for the January 6 I got someone else 6,500 which is not a number that's possible it's just multiplication right 39 days from now what's the Robson block time thirteen point two I got a two hundred fifty five thousand blocks from now my vote for America later all right I'm good with that and Paul says good name I don't know which one for marination oh I see okay okay I will update the VIP for that just multiply the block time by the number of blocks and then add that to the current block number do we want it literally to happen at the same time as Mina I mean it doesn't have to be exactly the day but we can guesstimate it toward the exact date sure I did the Monday before just so it would at least roll out before I want it okay why about block numbers on raphson are really unstable so I don't think it makes much of a difference which day to aim at it's good it's going to be on with something else anyway I got nine to eight for eight to nine on my spreadsheet it's going to happen at thirteen point two five on one six and eleven nineteen at thirteen and a half on one seven 2016 at fourteen it'll happen on 110 at 410 so what's with the block number nine to eight for eight to nine make make make money mean nine to weird lock six million now oh yeah nevermind did I pick the wrong oh my goodness I shoulda taken the day off man good catch yeah I mean we have the the main at number and that's a big important one that's just to the robson on on twitter okay my suggestion is seven one seven one seven one seven somebody calculate oh I'll go back and check that we'll call that good for now okay cool was there anything else with the ice age where's my agenda okay so we're just hiding robson for con get her right yep we got the name we got the main net stuff and so we can start sending out emails for that okay anything else on Ice Age I had it included a that we included in the AIP a how do you say it like a declaration of intention to fix part of what's happening so either to make it something that's easy to model to effective the network and easy to predict when it occurs so I think that's something we should look at as a group in the next few months or so I felt it was important to include so as a response of hey the blog signs are getting along what are we gonna do about it for next time let's see it's at the bottom of the EIP I don't think we need to go into it now look I plea to talk about it on get her yep but I did want to note that that is also in there okay next up we have testing updates Demetri or anyone else the other testing update hello yeah I would suggest to update he is a test develop branch and see there are some new tests set so better to run the tests from develop branch not from the release um so also there is a file in a test 3 poem called peer log so you could see what does a recent updates the pull request done to the repo so see maybe there was some new test audits you could run for example there was a new team wallet test and also a keystore test for my crypto file and some difficulty tests added recently so yeah just track the peer log dot Indy file and develop branch was at a stripper okay sounds good to me anybody else yes so I served in the old quarter channel we now have four EBM some fussing and I just checked and it's done 435,000 executions so that's a pair to give and Alice and never mind who has all implemented lists and adjacent outfits and tracing so they can run state tests and outputs traces which are then compared between each other every step of the execution and so the stack values are compared not the memory contents but stack values and the operations and the gas counters and the resulting stay true that the tests result them and yes I think I've got pretty good coverage and the posture that I'm running now is particularly a nest or nest load and there's a lot of calls and suicides and calls back between just creation of contracts and calls them ancestors and there's a lot of weird things yeah that from the processed thing anybody else can you post a link to that documentation I had to get on data in the call notes sorry post again what how to get into the first testing what needs to be done documentation is this the hide stuff or is it something else this is something else and yes I can update and post it's posted somewhere but I think it needs to be updated so I can revise that and post it and we can edit the call notes after the fact Dino if you want that in there we can get it from Martin all right think that's about it for testing the next topic let's see-oh eligibility for inclusion VIP review I don't think there's any that we're going over today let's look though do you know of any that are go that we need to talk about today James no there nope we're good okay the etherium improvement proposal the EIP IP meeting hasn't happened yet I was waiting until we had the etherium cat heard her call to talk about what we were gonna do more and we had that call on Tuesday so I'll try to plan for the meeting as soon as I can plan for it but then the date for that will be out a little bit Thanksgiving happens so I got distracted and so yeah I'll be doing that soon and then review previous decisions and action items from the call looks like the IP 23:48 is first call not eligible for inclusion and AIP 1803 is eligible for inclusion and last call Oh 1803 was last call that's the one that was like a really simple one right let me look it up yeah rename op codes for clarity so it's been two weeks does anyone have any final anything on that I edit eight new suggestions to it on the magician's discussion URL okay would you like to restart the last call process then or do you think it's pretty clear that people are fine with this I don't think anyone looked at it it was only added today you go okay we can wait two more weeks then I'd say I would say restart the clock okay so make note to check on that if you care about it it's in the magician's thread for EIP 1803 so I can post that link consume wait where's oom here we go also Alex you asked if 2834 was accepted yes it was accepted am I right on that James 28 34 yep tiny gray stained 2380 for deep delay specification was accepted SS or are there any any changes required there weren't any changes we should go I'd say we as a group officially move 2387 and 20 384 to last call or I motion that unless you had something on the on 23 84 Alex that we hadn't gone over no no I was just curious yeah so I would motion I'm that we move those into last call and then have the date that the clients are released B when we update it to final yeah I I agree with that I think we should do it that way so I know this 123 884 it's already been merged so any comments that are made should we do that on the original or comment only on the forum just some mythix I have I would say the discussion URL it's where everything should go after merge thank you okay that is the last decision and things to go over right now so that's done there's no other agenda items did anyone have anything else they wanted to bring up or say two weeks from now will be December 13th and we'll have a meeting then and then we probably will skip the meeting after that because it'll be Christmas week unless we really want to have a meeting on the 27th that kind of depends on what you all want to do but some people will be traveling I know and we can just be thinking about that we can decide that next meeting and I think that's it thanks everyone see you in two weeks Thanks are you ready sorry about the livestream issues that's okay Tim it happens [Music] [Music] [Music] [Music] you you [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] [Music] 