hey guys can everybody hear me okay AEG perfect okay cool it looks like oh one more thing I gotta fix okay someone from the conference call tried talking again it's my work okay try one more time problem one more time it's working thank you guys alright I'll just make sure so this is going to be a short meeting so yeah we have Jan in the back we have the challenge I'm so sorry so yeah we're at Cornell right now doing a week-long boot camp and yeah that's pretty much what's going on let's see oh it's fine now okay volume up a little bit more trying to deal with the neutral box complaining about volume I only heard hey guys please help us why why should I help you the troll box is fine okay so yeah first item metropolis so we were I've talked to like the testing team I've talked to some of the devs and people are saying that II I P 86 slash 208 should be should be changed to two hard Forks so I just wanted to get everyone's opinion on that just to see like what everyone thought so I think let's just start with this room so what do y'all think it seems for me personally it seems like it seems like a very reasonable idea okay Steve um yeah I'm in favor of deferring it and getting something more like EEP 101 next one which is deep 101 oh that's freaking awesome a big in arithmetic eighty eight which is probably don't want any friends yeah so Casey just said e IP 101 so that's like 86 but like 86 where I just push it to the agenda perfect oh that e IP serenity currency and crypto abstraction okay without the currency abstraction part just the crypto abstraction oh right oh right yes yes yes okay right which is since then turned into ap 86 which has since to enter it into 8208 so which parts of 86 would we take in metropolis and which parts would we defer probably wants to get other people's opinions on this because like Ritu does introduce this like contract contract code mutability and look just in case like some clients are designed in such a way that handles that like two animals that terrible you know way that might lead to look inside this failure that's like basically I just want to make sure there's enough test cases for it especially since like the the one thing that may be a bit more concerned is that in the process of implementing VIP 98 in Python which has the media on intermediate State word removable ID I ran through I ran across one bug that I didn't have before which arised from basically from the fact that in a can't look if you um don't commit if you don't commit the state from higher theorems cache every time a transaction ends then and it could get suicided and and then revived and like Pisceans it it handled that well so basically on my I mean like I do think he happy 98 is very important because this is a significant performance improvement but I do you want to make sure that there's like enough testing on that particular side of things so like one particular testing would be to turn off committing the state during after every transaction for existing clients and just make sure you can sink the entire blockchain so but so the only thing that could make it as petrópolis from from 86 is clear to is is create to use so much useful on a stone better way to create contracts in some cases because thank you and so what what so one particular way in which I create to a superior to create for example is that if you have a contract on a theorem chain and you accidentally send eg seats about address then I know that doesn't work because EDC is not going to support create - but if it did then it would be easier to like do the Kriya it will basically be easier to recreate the exact same contract in on another chain if you wanted to well that's a fairly small benefit I think only including we might be harmful because that allows an easy way to cause address regions and the clients behavior when address origin happens is one of the under tested where with Sun different clients behave it very differently until like three days ago under I haven't got enough confidence mmm I'd be fine with like basically deferring all of the AP 86 yeah I think that's better it seems cleaner to not subdivide 86 through different hard Forks because that just seems complicated but almost organizationally at least for me you know so if we were to not do 86 /to 22:08 what we would be doing is the rest of the e IPS which include all the cryptographic primitives for the case narcs the 90s wait 96 and 98 or so 96 and 98 are they like pretty much done like or is there any complications so 90 98 shouldn't be too hard except for like as I mentioned the testing just testing you just in case yeah 96 all we need so I wrote these for that you would need the hunk of code that you would stick into the block cache contract and I wrote a version but then Nicklin I came in one and said that he could make a better version and I've been pretty much waiting for that ever since so if if that's dumb and we could use it but if that's not done then like I'd neither option is to just go ahead and use the one I gave okay so then Nick what's the status on that we I discussed that in previous accordions and somebody else was keen on taking it over and it slips my mind momentarily here it was I'm just gonna look up the relevant a IP the anyone can remember what number it is you said 96 right mm-hmm yeah that's block Ashford factoring so yeah on the main yeah yeah so this is something that really should be doable within like an hour or two so I'd recommend we just like get together and get it done today okay that that's perfectly fine so that sounds like and get what I'm looking for when I'm going through these VIPs is there is there anything else similar to 86 that has very outstanding questions because basically by hopefully the end of this meeting I want to say these are and an EIP level formal and accomplished right okay removal of intermediate state routes so I remember there was an EIP where we wanted to think Nick wanted to replace the state word was something else so I think the idea this is the latest yes I I just updated the pull request only yesterday to propose what the telecom the conclusion is Alec I came to which was that we should only store the status code in that field so basically like you would in that in that field you would store a one if the transaction the outermost call in that transaction returned success and zero for return failure yes also to go back to the block hash thing pull request six four three is paddles attempt at refactoring with lock hash stuff I've just linked as much air six four three yeah okay 96 okay so it's just a few that's just a few changes to the original the IP or is this a totally new IP I think I got lost it's a new pull request on an existing the IP I'm trying to pull it up oh I didn't go to the latest one you know I don't know I actually like the 10 lines so what anything that Nick did a while back even more than either of these do you remember what idea what I'm talking about like there was one that just like did this like yeah I do remember yet I mean if you want to like that's because it looks simpler than like either of these circle things because it just like probably doesn't move instead of like having lots of different like if statements yeah I agree um you mentioned earlier just getting together and doing it do you want to be a coder afterwards oh sure well and early enough we'll have some time mm-hmm okay interesting all right yeah so we all can get together after that and Paul's solution here does it seems complicated but is it more efficient potentially or not some point we're not in the court like no others do great okay so we'll have Nick and metallic and people stick around after to help with that anybody else who wants to help so where was the list of the IPS here we are okay the next one would be I think we've gone through all the other ones is there any others that anyone sees that may have some outstanding things I think to 14 and to 11 are finalized everything else looks finalized can anyone pull up the list and it just everyone can take a minute does anyone happen to know of any other outstanding things with these most of them are implemented already in clients go through all the okay so 86 we're deferring 96 we can do in 98 is just like removing a common thing out of line and then making sure you pass tests 100 I think it's done 140 is fine 196 197 198 we think we have tests for and what is the status of the C++ tests for like all for all three freaking files which compiles the 196 once at 187 188 this was the elliptic curve and again stuff so after after cppm passed the test from Vitalik there's been no progress no additions we have I remember the one thing that we got stuck a bit on is that for modular exponentiation which some people wanted to do he was like karate above for determining gas costs I remember one thing but that one thing was sort of a long time ago how was that solved a long time ago I'm looking to you right now my problem is I thought all the time ago that I don't remember worth it yeah I think it was it was just the one we're today and this was Daniel Maui yeah it was a June 2nd comment and then look at the carrot Suba method mm-hmm and then I don't know what we just I I think Robert from parity might have done some estimation after that compare is what it's looking like Danny's told me that he began generating some tests and but he actually never actually showed me the test themselves but as far as I know he did write a test generator and the test suit maybe I wrote this big function where I wrote is I have a couple of proposals and then I have like this simpler piecewise quadratic function than something else and then I'll paste a comment in the chat yeah sure yeah and this follows what we've been just talking about all right the one thing that concerns me is that like between all of the kind of bits like the bit based pricing and this I feel like the gas schedule for 198 is getting a bit complicated mm-hmm like it's a little really more complicated than the actual exponentiation like I don't know this seems slightly concerning something that matters Daniel did thumbs up your comment you know look he's not here to say no no just like the facts that like the gas schedules getting this big just makes me a bit uneasy mmm are there other comments like either Christian everybody about gas schedule nope mmm I feel like this is the other thing we might want to talk through today and finalize mmm for you for 198 yeah so then we're fine with 186 187 can we go back to the oh yes she will love in return data sighs return data copy and 214 static whole and I think we're all fine there those were those were finalized yeah okay okay I don't think we're fine anybody else have anything from the accepted E ip's list again we highlighted 86 as being deferred to a second quote second metropolis fork 96 and 98 being basically finished today as well as 198 getting through concerns about how we're going to be doing it okay let's see the next thing is we have the gas cause specified for the elliptical addition multiplication alright yes so this is the other thing that we were supposed to talk about that there is a bunch of benchmarking that happens and this was supposed to feed into like to gas us for all these freaking piles so Martin did some gas estimation I believe it was based on gas and I believe Arkadiy also did some based on parity I'm not sure it was for that particular that particular opcode but Martin said I'll try to consolidate the get benchmarks for objects lighter on not much need to report since last time okay so you just run more tests and then the parity teams on a retreat and they don't have any updates they said so what we can ask them later for the gas cost estimations but that's something that is less vital to find out today or does that affect some of the things was well it's just the number gets probably safe to change it even two weeks before okay sounds good i pasted a link with martin's numbers that he generated about i think two weeks ago so I'm not sure how relevant they are I figured I'll just share thank you okay I think if we get benchmarks for I think hasn't been discussed before that if we get benchmarks for death and parity those are the two primary ones we can compare compare I guess to try to get it as close as possible and I mean would this be something where we could change this on hard fork too if we find out that it has been miscalculated or miss estimated um totally okay great [Music] okay we've gone through the CIP list any other comments about this particularly no great so section B and the agenda is updates to testing I think here each is the only one in here yeah somehow the focus is okay so the interesting the thing is now implemented state Kitchener state test go atrium and he found many many things that can be improved in the test formats and the testing infrastructure so the airports and the focus is somehow shifted to the infrastructure in these weeks in this one or two weeks so Felix was working for the last week or so together with the c-class busting to support all the tests to it over to go with um so that we can actually run it as part of our CI infrastructure which entails rewriting but mostly all of our consensus test infrastructure and it's mostly done I think what they are kind of ironing out the quirks and thank fear are the weird corner cases that are really hard to deport over to other projects sacré not no problem so now it's great that the go atrium client can run the general Stata test format and with respect to adding a new test cases for metropolis when I see the Google spreadsheet of test occasions it's 75% or 80% of the lines are already green saying implemented okay that's very promising so and that's is that just for general state test or across all of the metropolis test across all of the metropolis tests but yes we have more progress in the general state of tests that involves only one transaction we are not so that the progress on the more complicated cases involving much Pro transactions this is not as good okay great any other updates with regards to testing ihe I'm not from you ok thanks a lot it's really helpful welcome Jan okay the next is the updates from the client team's parodies done get it look I think you're according to the PR you're all done did you have any comments or questions Peter well so basically we have a follow up PR which which we began just to polish up and even after that we decided to split up the different IPS and separate for requests so we're currently working on separating them and just making sure that each of them looks okay on their own as far as I personally would start merging already the the finalized the IPS but we agreed with Felix that we're kind of waiting for tests to make sure that it kind of looks like it passes all the tests so it's we're in the face of if we consider that the tests are looking good and our code passes the test that we are starting to merging so that's bad that's horribly great do you mind in the comments of the agenda posting if the PRS are organized don't worry about it but if they are some of the follow ups you were talking about if you could post that that would help me keep up with it sure thank you all right CPP aetherium any updates worth mentioning there are some minor bugs being discovered your intestine George you fixed several of them these weeks you cut out on the last part Andre could you say that again I learned that about from several minor fixes we did through these two weeks there's no way most people okay perfect and I see that in your PR you've also Paul actually added the Google Docs link to each test that you are implementing so that's nice yeah probably Dimitri was who aided them oh so the next thing is yellow paper yuuichi I think he said there was just like one outstanding issue last time no that was just a cast host and then after that eeep 86 changed a little bit I reflected a change so it's up to date okay great pie attempt that would be the talent or jammed or both I think mm-hmm he updates worth mentioning or nothing she works been shooting the accepts just bad I mean we did release like PI aetherium 2.0 a while back so it's more modernized and it's like a cleaned up a bunch of tests as far as they polluting metropolis go so we basically just been waiting and Tulsi boss lots of testing out of stabilized more so if they have stabilized enough much we love the thing they want to wait for it also lets this finalizing the IP in 96 and VIP 90 the 98 gas schedule and once we have that then we can use like run through a test and make sure we're still passing them back when I was checking I remember when we were passing most of them except for a few and the few that we were pat we're not passing was because he plus plus had some bugs in it although I think you had been working on them fairly recently so now I'm seeing many errors on hive even if poor metropolis so I want to clean this stuff because otherwise yeah problems will be hidden among many other problems so yeah I mean some clean estate hmm would someone like Piper from the Pyatt team could work with yuuichi or something yes yes I don't about this he's debugging orienting the client so yes it's interesting Thanks okay great is that pretty much the end of the pious app updates yeah sweet no other clients are in the room I don't like so that ends the updates from the client team's the other so another agenda topic is determining the gas price for new op codes and pre compiles Martin left a note saying I'll try to consolidate the gas benchmarks for op codes later on not much to report since last time and then Arkadiy from parity said no updates so we'll get that information from parity in the next meeting and hopefully compare metrics are there any other comments on the gas price for the new op codes great so the last part review time estimate for testing and release we've been kind of going with an August or September like very rough estimate since we are delaying 86 I think that's gonna help either speed things up or keep us on track it doesn't what have any opinions on the timing of when things should happen I guess now that we delayed 86 what I still don't know is now how many of the metro post-metal police tests I can go SRAM and the parity with success sundar how much failure are there I that I'm missing okay so that's something where we'll be able to have a more concrete estimate once they are passing the test for that beehive yes so some outstanding number of failures and the speed of the decrease in the number of failures this will be kind of indicate this will be an good some indication of our readiness okay sounds good so ideally let's I'd say August through September but obviously that's gonna be pending all the testing changes so we'll just keep that in mind for now any other comments on that okay cool I want to post a link I did I'll go ahead a good question so I guess I'm gonna test if we decide to post on the accounts traction and also I'm wondering do we want mix proposal Nick CIP about adding the success code or failure code to an transaction receipt do will we do that for metropolis for the first forged metropolis and if yes when can we expect tests for it which I P is that or is it more of something that would be added to one so it's Nick CIP I'm the modifications are 98 I'd say you should just bring that into metropolis part 1 or part 2 part 1 okay if that's the case you need to jump on that and get that the IP updated to talk about adding that and then we can plan the attest for it I don't know how extensive that is well my point being that if we modify the receipts then basically it means we're modifying the block caches which means all of the testing by the country it's not much work for general state whether you can run general state tests already feeding or blockchain tests in the counts of days but general state tests can be updated totally even if the transaction receipt format change okay so is something that now that we've delayed 86 would be something he'd be in favor of yuuichi as I mean it would be additional work in the grand scheme yeah we this additional work I still prefer the delay of 86 oh yeah no I'm still really talking about how much extra work would be put on for the changes to the the block hash they were just describing or to the hash okay the change the transaction receipt but we be already changing receipt formats and we have been we have updating but it's in the motto dates so it's not a broker okay that sounds good in that case who should be responsible for editing that AIP to add that but that was 98 correct no I think that might be the tower yeah I can do that hold on okay I think it's already in a comment from Nick or someone we can just add I actually wrote 615 as a replacement to 98 so I think with 615 we don't need 98 you said 6:15 yes okay going on 615 is sub routines and Static Jones sorry one sec Sam 658 so it's literally a copy of a 98 that with your addition clicking are chiming 98 just to just suggests removing the intermediate state field and 658 suggests replacing it the status code so it should be possible to just obsolete 98 in a place at the 6:15 sorry 668 yep many a replace with 6 56 58 yes great I think metallic might be just adding it to 98 since everyone's kind of already gone there I think implemented so we'll do either one yeah that's the content that matters not remember yeah so either way we all agree on that and we'll just add it to one of them and then push it forward if we obsolete it I'll make note of that and the readme ICU so Nick you have a single byte whereas I'm the way I'm writing it up is we have 32 bytes zeros with or or 31 bytes zeros and the one pretty much you okay I guess there's trade-offs there one is that having the having it like that reduces the migration is of clients but it also introduces 31 bytes of pointless overhead right but in the one term the 31 bytes of pointless overhead is going to have to be removed once we add some kind of proper network protocol compression yes yeah which we have to do anyway because like the gas schedule depend of assumes that we were assumed that we had network protocol conversion since day one yes I think it won't entirely alone but it will learn to such at least yeah their problem with just doing one no it's basically if you have if you keep it in 32 bytes then like the format of the data types if they're totally unchanged interested to get what Peter and dollars thanks to alternatives and to be honest I'm on anymore so I see the benefit one of them is that you Lions become a bit simpler if you don't if they don't have to care about two different formats on the other hand retaining 31 zero bytes till infinity also seems a bit wasteful of course they it will be compressed in a database and hopefully soon sooner rather than later it will be compressed that twice to so it's not such a huge issue I don't know to be honest I I can see the advantages of both and I guess clients are going to have to branch to determine how to treat that field to be how much block it's included in any way so the over here is was decoding it differently may not be high well yes and also in theory so if I'm running for example a client so I just attached a remote mode and I want to be it would be nice if I'd not have to care about the block on that perspective made on the other hand it's not such a big difference Andre you're Christian you'll have an opinion on this yeah I don't know anybody else okay so yeah um what do you say Vitalik oh yeah that's good enough for new okay so just you're saying do the one buy or not be though what did you mean them the one vibrates 32 bytes that's not like I'm gonna talk about pretty much I like personally I don't clearance from Python perspective either one it's trivial but I you would get them they already thing I guess I'd say if everyone's ambivalent about it then go through one bite because it's at least marginally better yeah and I mean we're getting a lot I don't know I mean we could say like we can fix that later but why not now right okay sure one is all right one buy it for that one cool I lost track what were we doing that's why we have an agenda we go I have too many tabs guys I don't know where my agenda is oh here it is okay so uh oh yeah so as far as the time I guess the other thing that kind of goes with this item is if we do so we are doing two hard Forks we're taking out all of 86 for the first one and that's gonna go in the second one what and this is super early so we don't have to go into a lot of detail in this but what other AIPS would we consider for the second metropolis fort which in my opinion should probably not be until 2018 just with the next few months in us getting metropolis out we can any if anyone wants to do it faster that's fine but we'll be going pretty hard and then there's Def Con and stuff so maybe January or February would be ideal for the next one but any any thoughts on that just initially mmm once we're once the first hard fork looks like it's being close to finalized you can figure out like exactly how much we wants to do on this next one like what and what what it will entail I mean it would be a pretty significant change to a bunch of feral a little a little bit structure so it's worth thinking more about than know what could go along with that to kind of help yeah Jack would okay and there's also some other interesting ones like minor reward which I feel like that being change in the second hard fork makes more sense and we're going to change it no the money reward had I mean it makes the most sense to change it at the same time it's me I cut off the bottom and the bottom has to get cut off in the first one okay I forgot where we landed on doing that for this hard Forks so if there was any IP somewhere it's a pretty trivial one is it 186 no Yankee 100 because basically I it's deep 649 and pull requests like 69 that's the that's just the difficulty bomb right yeah we're talking about the minor oh that was a reward reduction I didn't know where that one was and the reason for that would be oh so the other reason for the minor reward reduction happening at first is because the difficulty bomb wouldn't change and so doing it on the second hard fourth would make less sense well I mean it is one of the miners been reported right yeah in general this team is like look in my opinion it seems weird just like blood loss Awards be really really high for two months and then like shut it back down yeah is anyone unintentional eyes it's very straightforward yeah can someone figure out how much to reduce it and all that other stuff cuz there's been so many debates on it I can't really keep up anymore I think the informal consensus was to reduce it to a Gruffalo so that the rewards per second or roughly unchanged one of the bottom gets defused I think it was the administration's fish I had lived three blocks yeah the reel is like the ergot approximation okay or do we want to calculate it based on whatever the four kids I think it's much cleaners for justice it an integer number of a school is only know okay hmm I mean you know it makes me want to make a pie or something let's make a coffee by 3/4 of a pie yeah depending on how hungry we are you can make it 3/4 or a whole pie yeah well it would lead to some great articles on coin disc with net mm-hmm pie talk reigns and all core dev meeting okay so that's straightforward so between now and next time let's just make an EIP for that I'll put that I might to do VIP for minor ward reduction that's pretty universally liked by the community okay the other issue with this is it would be nice to finalize it fairly quickly because again it impacts all the tests I mean I can just write a comments to us 669 the difficulty bond delay no yeah just like for issue how did you add an expense reduction yeah yeah that can go with it Tom DeLay one okay yeah that's actually a good pairing Temba and that's an EIP that can be quickly finalized but at least we'll have the speck in there if you write that in right now that'd be great and that'll just have a day or two to for people to discuss but it's pretty much been decided in previous meetings let's see I did a reddit thread the other day where I said DAP developers what is the maximum time that the block time could be more before it affects your decks and I was trying to aim for getting stuff like casino DAPs and other ones that rely on low block times to kind of let me know what you know that's there in production what they're doing right now and the wide consensus is that most of the DAPs are favoring us doing metropolis right versus getting the you know the Ice Age fixed faster I guess are like putting in the hard work more quickly and there's more there's a few apps that rely on block x being under 45 seconds if anything it just makes it a little bit annoying for minimaps so above 45 seconds it starts to get a little bit more difficult for some some of them especially the ones that deal with like casinos and like ether Delta decentralized exchanges because a lot of people can put up there wow you know I'm a big I'm not sure how relevant this is what so so I can imagine a few apps that it would be smoother if the if the block times are 15 seconds you don't guarantee that's your transaction you still have to count with that annoyance yeah all I was doing by doing this thread was to say you know if metropolis goes out and like we have problems and then it gets pushed in October where it could I didn't run the calculations but I think it could get to 40 45 seconds by October how much would that affect the network as a whole and it sounding like it wouldn't be the end of the world so so basically if we go 45 seconds but at the same time we against limit then in theory yeah yeah that would be that would be in theory depending on also you know if the network with all the you know I like the coin distributions recently like how many transactions are filling blocks that slowed down a lot though and so no one can predict the future but I would would reckon that we don't have like huge like full block delays like we've had with recent point offerings beyond the end of the year or before the end of the year so yeah and then I guess the miners can just yeah just the block cast on that what were you saying there I was about to say exactly what Peter said great just wanted to throw that tidbit in there do you have any numbers Vitalik or anyone else on block times like between September and October I'm sure I can run that scripted just rerun this the execution I did about two days ago okay and while that's happening out I can just wrap this up we're pretty much done okay so we can expect we can expect blog time just ahead 21 22 seconds at the end of July then we can expect them to go up to 27 seconds on August 26 and then we can expect them to go up to 35 seconds on September 27 okay so it sounds like it'd be 40 to 45 with an October it goes up to 45 on November 6th oh all right yes because like as the block time gets longer the periods also get longer so the Block in the long run the long time increases actually linear that's actually even better than I thought so this isn't going to be as much of an issue we there shouldn't be any way that we would get metropolis out later than November and shouldn't even before then okay cool that was the last item is there any other comments topics stuff like that you okay great so I have a list here we basically need to do 96 wait sorry yeah 96 98 and 198 are the ones with outstanding problems that I wrote down the people who were going to help with that after this meeting were nick and metallic other people can stick around if you want I'll probably turn off the livestream but yeah specifically 198 for the gas schedule and then why are we we're just finalizing 96 and 98 with a few different things just making it specific so yeah let's get to that cool if there's no other comments good meeting and just everyone who wants to stay on the call stay on the call and we will work through those three di Peas well alright thanks everybody I still have to see what it means to really help I'm just interested okay dang I mean 