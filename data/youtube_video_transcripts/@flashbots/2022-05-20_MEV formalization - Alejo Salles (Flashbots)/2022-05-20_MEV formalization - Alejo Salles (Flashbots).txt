all right uh welcome everyone to the dark mode um [Music] so when i um when i've given talks about mev in non-mav specific context i always start with a some explanation of what mav is i have this slides with colorful emoji or have the dark forest but here i don't really think i need to explain movie to you all it's a pity i like using these lights but yeah not needed here yet i would say that we don't have a definition we all agree on uh in around maybe so this is a definition you already saw in field stock the definition the og flash what's papers and we use the total amount of ether miners blah blah so here you already have like one thing that you know stands out ether right there's mvb in other chains so uh we know that so this is already outdated right and miners in particular is going to be outdated soon so perhaps another more recent definition goes mev is a measure of the profit and minor but wait there we're talking about profit the i was more talking about value extracted so revenue so are we talking about profit are we including costs or not here in the definition another definition um this is from mvp explorer mav is a measure of the total value that can be extracted permissionlessly permissionlessly we haven't been talking about that before is it permission is it permissionless uh what are we talking about here so these are subtle differences right but i'm taking all this this is an og paper second one is from mv and me by charlie noise third one is from uh flashbot semiv explorer so all these are like mains or what i would call mainstream definitions of maybe if you venture like far out there you have like statements like arbs are not mev um yeah i don't know what they had in mind here really uh what definition they have in mind in this case but anyway what i'm saying is like uh it's to me apparent that we have do not have yet a consensus on on on on definition and like if you look at the acronym even there's no consensus on what that means right it was minor extractable value we rebranded it to maximal extractable value so uh which is it so uh and this i'm talking about the colloquial definitions but if you want to answer research questions important research questions as like does this certain fair ordering protocol eliminate mav for instance right this question requires a formal definition right i want a theorem to like i want given protocol p that implies mv equal to zero right for that i need a formula for what mbvs we don't have that right now it's my claim um other questions that we're interested in is like which decentralized exchange design minimizes mvv exposure again we need a formal definition for this right so we don't have like a colloquial one much less we don't have like a formal one that we agree upon uh but wait we have data right we have this in maybe explore you want to explore you see these numbers 600 million dollars extracted mev and we have plots that how that changes in time and so on so so what's going on here you like computers still prefer symbols to natural language right so there's something certainly a formula we're plugging in there to compute that and yeah certainly enough if you click in if you hover with the mouse you see that i there and you click on it and that's like extracted mev includes successful maybe transactions without rem anyway that's something like an attempt of an explanation of what that number is uh then there's a like a data page there that you can go and certainly after the formulas there but i'm not sure if all of you have checked those formulas i'm not sure if all of you you would agree in that those formulas up there are what you think about when you think about mev right um so anyway there's again several things one can talk about uh when talking about maybe and so in this talk what i what i will attempt to do is convince you that there's no consensus around what muv is in particular the formal version of it and try to give you a few a few pointers of why this is why it's difficult to to to get a consistent definition of emi or what are the caveats one has to take into account to get to a a definition right so first for thing i'm going to do i'm going to separate between two different concepts that we sometimes mix together and these are the the concept of mav on the right hand as a theoretical entity uh the extractable value the total extractable value that's a very much theoretical thing is the one we want to minimize uh or like yeah we're going to talk about in this these formal questions like which decentralized exchange design minimizes something exposure that's like the big set uh and attainable if you will that we want to talk about in in theory right but then on the on the left hand we have this other quantity the one more tied to the graphs i was showing you before that i like to call realize extractable value that's the actual value that's being extracted right what of that mev is actually realized in extraction this is a bottom sub uh approach right we in me explore if you look at the code behind that that's me being spec and there's like inspectors there and okay they look they see an arb okay they add up to the countdown they look around they see some liquidation they add up to the camera so this is like sort of growing set of uh value that's that that we are taking into account again expanding into this vast thing that's the theoretical extractable value that's out there so i think it's important to make a difference between these two things because again when we saw the graph we're calling that mev but that's very different from the theoretical notion of extractable in principle so i'm going to talk a little bit about each of these um i'm going to start with uh the realized extractable value a few words on that um so realize exactly what you think you have like let's see some like schematics here we have like a chain right and and a p is a producer minor now in proof of work that's extracting value from the chain so this is the simplest um simplest setting right there's an arrow of value flowing from the blockchain to the um the pro the producer so this could be thought of as okay is this blue rod realized extractable value perhaps but we know that in practice the picture is a bit more complex right it's typically not the producers that uh particularly with flashbacks right it's not the producers who extract them maybe directly but uh searchers who do the extracting so there's searchers extracting mev and then searchers uh paying some uh cut of that med to producers right so there's a red arrow going to from the chain to the searchers and then some like red blue arrow going from searchers to producers right this already makes a picture more complicated because which is the realized extracurricular value this is the red arrow is it the sum is it the subtraction of the arrows so you have to choose right and define it uh if you dig a bit further it's actually more complex right producers are actually paying an opportunity cost to include like an mvv extracting transaction as opposed to a vanilla transaction from from from the mempool right so there's an arrow that's flowing out right so what do we do with this arrow again and we subtract it do we not uh again more complex picture in actuality if you think about priority gas auctions there's other searchers perhaps s prime also trying to extract mav and are fighting with s to get the opportunity and they they sometimes lose uh so they don't get the mev but they still pay a minor fees right so so it's another arrow here flowing from searchers to producers should we include that should we not okay so my approach here um is to think about the total mvv activity in the network uh with three terms right there's the the realized extracurricular value for the searchers and these are the red arrows so the arrows going in enter the equation with a with a plus sign and the arrows going out enter the equation with a minus sign so it will be the red arrow minus the red arrow going out for revs that's a realized extracurricular value of four searchers there's a realized external value of four uh proposers that's again arrow going in with a plus are going out the opportunity cost with a minus and this and on all of that is the rev i know that there's two arrows the blue and red there that cancel each other because they enter with different signs right and so this is the total realized extractable value in this in this picture and then there's a separate arrow that i choose not to include in reality extraordinary value that i call the extractable value cost note that this arrow is only there because there's mav extraction going on right we have this process of me extraction and that that sort of uh yields this this new activity that searchers paying uh miners for something they're not getting right so this queen arrow only exists because there's extractions so i don't think this is part of the actual extracted value but it's an extra thing and this is exactly what uh what imposes a cost to the network right this is what penalizes users this is what blows the chain this is what raises gas fees and this is ultimately i believe flashwatch was uh successful in in reducing right this cost for the network uh you know this pga now in flash rods if you use flash rods doesn't happen right so you don't have this extra arrow that that's bad for the network right um so anyway if you're interested about this i have like a write up i i did a while back so i'm more than happy to discuss this these ideas with anybody interested okay so that's in the um rev uh front so now i'm gonna talk uh a little bit about mev so um first let me say that as phil mentioned in his talk just now uh there's no formal definition in the og flash boys 2.0 paper which some of you might find surprising so i'm going to start quoting the clockwork finance definition field already explained here it's a rewritten a little bit uh to simplify notation but uh conceptually is the same right and i'm not going to dip to the uh i'm not going to dig too deep here because phil ray explained it and essentially what you have to take out here is that that it's a difference of balance it's right the the extra value essentially it's a difference of balances that a certain player can attain by choosing a certain set of blocks right so uh so phil said like some people disagree that there that's the definition and probably referring to me i disagree i don't uh i think there's problems with this definition as there is with any definition out there really so so what's the problem with this with this definition because again it's it's tricky to get one definition that that works so to me the main problem with this definition is the idea of player so what is word p there in the equations above is a player but in in that paper they don't like elaborate really on what a player is and if you think of it there's like at least three distinct notions of what a player could be um and so the first one is uh a negan there are intertwined but i i think they're distinct and we have to clarify that a little bit further so first first meaning possible meaning of players a player as a transaction signer right an ethereum signer with an like an address and an and some balance in it okay so that's one meaning in which p can be a player second meaning is the player as an actor in the protocol game a player like a node operator that has uh some stake and is validating and so on and yeah and has ordering rights or doesn't have them in like where they're it's their turn to propose or not and third even third uh notion of player is a player as a node operator right players as a peer-to-peer part of a peer-to-peer network that has to think about latencies and so on so this is yet another possible meaning and again these are all tangled together but it's not explicit what are we talking about when we talk about that i think we have to make it explicit so this is one problem uh but more importantly i think there's a problem with permissionless remember that that idea and one of the definitions that mev is a permissionless value i think that's uh critical righty to me uh mvv is about the permissionless extraction because think about what would happen if a player here has a pending airdrop to claim right this definition of mvb would be very different for that player than for other players simply because they can claim an airdrop and there's value for them there so i don't think this is actually mev i don't think mav is what we're talking about when we are thinking about a pending airdrop right so so to me we we could use a notion of mav that's permissionless that talks about like what can any like player in the network actually extract right so anyway i think this is a a problem with this with this formulation and and i think we can we can do better and deal with the player better so um i'm gonna list a couple of um other caveats so i talk about the player and and the potential dependence on the player i think that's something we have to think about uh deeper if we want a good definition of mav a second point is uh the treatment of reverted transactions i touch upon this when i was talking about realized extractable value right we have like transactions that are reverted and are there only because of mab extraction how do we deal with those in the mev definition do we include them do we not third one is a transactions or blocks versus state transactions here all the definitions we're talking about uh transactions and blocks uh when we want to think about other domains like centralized exchanges phil mentioned this idea of like okay centralized exchanges might have a lot i mean we don't know about so but they probably don't run on a blockchain right they have different type of databases so perhaps we want to make a definition that's more flexible and that wants to do something more general than blocks and transactions so perhaps we want to move to state transition transitions instead um another point is the unit of account here i've been using implicitly the unit of account of the native domain right but as phil mentioned in the cross domain things get trickier right we have like different native units of account in each chain we're going to use pricing functions to map one to the other right and in particular there's another thing here that's a context dependency how does the mav in one domain change because there is maybe in a different domain because or because even another domain is present there this is a super important question and yeah it's going to be a talk by alex soon on context dependency so and across chain and maybe in general so i i encourage you to check that but this is a very important topic that we certainly want to cover in our mav definitions another one is revenue versus cost i already also touched upon this very briefly but are we talking smeb revenue or are we also including the the the costs incurring extracting this this mav is it like a profit or the revenue right and and one tricky thing here is that the revenue is typically thought of as the revenue in the scale of which you have extracting rights right in a block typically whereas the cost one typically thinks about in unit of time right if you're a miner you're not thinking uh how many dollars it cost me to mine a block because there's like a stochastic dependence between two right because there's a storage processing by which you get to mine a block this is a random process so typically you think of unit of time how much it does it cost for me to operate this rig per hour or something right so so anyway the fact that's a stochastic process linking this these two uh is it's it makes it a bit tricky and another decision to make where we include that or not in the definition um final consideration i i have here is a a single block versus multi-block right and these are like two different types of of mvv there's reorderings in the sensor in the single block but there's a reorgs in a multi-multi-block and that touches finality and so on so what what do we want one definition to encompass too but how do we deal with this so for me like the best way to deal with this is actually think of mbv as like a have a definition of like given ordering rights so we we consider the the ordering rights uh granted and then we can uh think of the multi block mav as a distribution over the the this rights right you can it's independent of how you got those rights and then you think about that as a separate question right um i'm gonna explain that in a second so um so with this i will wrap up i'll just to be a bit more constructive i will give you some more thought-provoking definition i don't expect this definition to be the like the final mv definition and there's certainly points that do not work but just again food for thought so this is the extract of extractable value still depends on a player and i'm talking about states as opposed to blocks this is i don't feel too strongly about this but i think it might be good to have a more general definition and again it's essentially a difference in difference imbalances we have the balance after the change of state and that's what you the the players still p and there wants to um maximize right this is the external value the maximum difference in balance they can achieve by changing the state and here the crucial part in this definition is that the player is an ethereum signer or any chain signer that has uh it has granted ordering privileges right so in the definition here i think okay we give the uh the ordering privileges and then what maximum value and it doesn't matter and they might have the ordering rights because they're a proposer they might have them because they bribe proposers they might have them because they bought like mining rigs whatever right i don't care and then for the multi-chain multi-block case we simply are like average over like the probability of getting uh many blocks of averaging rights uh depending on the process of how this player is getting those those rights but that's a sort of push aside it's a separate problem let's separate the problem how i got the the the ordering rights and and the actual extraction right that's what i want quantified in in the extractable value so this is the extracted value and finally a minor extractable value is a formula where i uh and this is the provocative part uh because it's a maximum but i take a minimum right and this minimum encodes the permissionless nature right by minimizing over players i'm taking the mev to be the extracted value that the least privileged actor in the network can can get right and this is is certainly tricky because say you have like a smart contract which sensor some opec addresses right so you like this for these so back addresses they won't be able to interact right opec sense or others so they won't be able to interact with the with the contract so for this the extracted value will be zero right so so the whole mev will be zero for that setting so so and it's it's tricky uh but it's like one approach with dealing with permissionless and here like one final comment is i i reintroduce the player here but this parameter k k is the capital of the player right so i i i did not want to uh the the thing the mav to depend on players but i'm reintroducing a dependency in a parameterized way right because we know that capital is a very important parameter in mav activity right we in particular expect this definition to be monotonous on the amount of capital right the more capital a searcher has the more mv they will extract typically or they will be able to extract so that's why we want to include that and and choosing capital again is it's very much a a choice right it's very much a design of what we think is important in mv terms if we just put a p there it's vague because again we don't know what we're talking about so my approach here is like okay let's be deliberate let's choose how to model a player let's choose the parameters that are important for mav and plug those in the formula but only those right and we can and of course we leave out other things like okay if the player has ethical considerations and they feel like okay it's they don't feel like extracting some kind of mav okay for them it will be different right but my claim is we should be explicit about those those choices and so anyway provocative definition i don't expect this to be the final definition of mav but at least to sparkle some thoughts about the the the problems and the difficulties with with arriving at a mutually consensual definitions and i have a write-up of this too uh welcome to check it out and and and reach out for me uh for uh yeah discussions so that's all i had uh today so thank you very much for tuning in [Applause] 