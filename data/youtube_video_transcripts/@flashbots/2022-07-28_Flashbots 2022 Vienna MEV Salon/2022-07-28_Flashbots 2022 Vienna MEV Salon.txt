gives them an opportunity to like censor everyone like I'm going to extract even more revenue from the chain 51 attack the chain and I just do way more nasty stuff so the you know basically to the extent that like some amount of Mev is not removable um the PBS is like a better mitigation strategy because uh instead of sort of putting it into the same box where you just uh like you risk valigator centralizing you put it into this other thing where that thing being like being centralized and unfair is less harmful um and once again like this is not yet that part of that part of the presentation but later on in the presentation like I will talk about some ways of uh potentially kind of reducing the harm of like someone's on muting in the Meg Market uh Market even more um and like you could even um I guess this is a bit of a spoiler you could even have designed a thing that that wins the med Market where that thing itself is like some kind of decentralized system so okay this is uh getting ahead of ourselves uh but uh section one of three done so happy to take care of questions um we had um wanted to speak so okay um now yeah yeah I'll I'll do it super quick is going crazy um I think everybody agrees to explicit um auction to avoids but if you look at the PBS on the table I'm actually concerned about the loss of the mempool there's no longer there's no peer-to-peer propagation of transaction at least not to defy transactions because if they propagate this way they get screwed so all the transactions will be sent directly either two blocks are out or block native or flashbots the hawk Builder and I just wonder if the harm is bigger than the benefit I don't know that it is but that's a concern from my perspective even if prison is more dangerous in some absolute sense like this if prism has a low market share they're still kind of incentives like or as long as it's failure is kind of not correlated then there's an incentive to kind of push toward it or another example might be if lots of people are fake are staking on ewas then like you have an incentive to not take any love to us and even if you want to sleep in some other cloud like you would have an incentive to just choose a different cloud provider just because right so or another one it's like if there's lots of staking in China then whether it's in your interest instead sleeping India or whatever um so the goal is to try to kind of encourage people to also decentralize on all of these different levels as well so continue yay okay um what's showing okay what kind of PBS this is the next uh topic well right so for poster Builder separation right is this idea of separating out what we call the block proposer which is the the validator that happens to be randomly chosen to be the one who kind of does the finishing step of the block proposal process From the Block Builder where the block Builder is the uh entity that kind of actually constructs the block and choose as a transaction by transaction uh so the the way that DBS is generally structured is kind of it's generally all the same right so step one each block Builder makes a bid for the next slot so they say hey I can make a block for the next one and I'm willing to pay 0.22 East for that for that privilege someone else might say hey I'm willing to make a block to the next one and I'm willing to pay 0.23 East for that privilege and so you have like a bunch of these bids floating around and the blog proposer's job is just a very easy one they just choose the the bid that has the highest number on it right um the block Builder once once the purpose are kind of use this event or only the winning Builder publishes the corresponding block so a three-step gain right step one bid a step two accept step three publish but as we'll see there's lots of different ways to fill in the details of this game um so just as to kind of motivate why this is hard um here's two of the Key properties that we want to preserve so one property that we want to preserve is we want to make sure that the Builder cannot cheat proposers right so the Builder can't but we do not want the Builder to be able to refuse to publish their blog and deny the proposal of their reference right and so this would be one reason why just like a very simple mechanism where um you know it's like step one people publish people publish their bids step two to proposal accepts and then or and the proposal publishes the block header and then step three the block Builder like releases the block quality and that's it like this is why that kind of that kind of mechanism is not sufficient right because in like that kind of very simple mechanism the block Builder could choose to not publish the blog and will NATO publish the block uh then they have basically deny the job what proposer the ability to get the revenue and there's a lot of different reasons why they might want to do that for example they might be colluding with the next proposal and they want to get the that Mev in the next lot instead and so it's generally not something we want to allow right so that's one property another property is we don't want the proposer to be able to cheat Builders so this is more subtle because there's like more subtle kinds of cheating going on but one simple example is like we we don't want the proposer to be able to look at the Builder's block and what we do what we call our strategy stealing right so like let's say the builders block contains a transaction that goes to takes uh Justin Sons a CDP um and that grabs 100 million dollars from it because it's can be liquidated we don't want the the block proposal to be able to like basically run their own automated algorithm agreement right so this is so like one straw on the end that kind of satisfies option one but does not satisfy or satisfies criteria N1 but does not satisfy Criterion two is well what if it required the bids to just contain full block bodies there's actually two reasons why that doesn't work one reason is that it just makes the whole mempool very clogged um because you know you could have potentially hundreds of like full lines floating around and the other reason is because it's vulnerable to strategy stealing right so like step one uh publish bids step two accept bid step three uh publish a full body or it doesn't work and step one publish full blocks and step two proposal accepts a full block also doesn't work so you have to be more sophisticated so uh so this is um the kind of this approximate design of the flashbot's LED boost which is the thing that the flashbots team is uh helpfully working on and it is a kind of Federated semi-trust plus but semi-trusted solution uh to the PBS problem that does not rely on any changes to the ethereum protocol but that does rely on distrusted actor in the middle that we call a relayer um so the way that this works is basically um that the Builder first sends their payload which means sends their full block body to a relayer then the relayer sends their adjust the block header to the proposer um and uh this is a header it also contains a bit right so it says the header in the bid to the proposer The Proposal chooses the highest bid they send their proposal which is like the block header of their block that includes kind of the hashes of the of what the builders said that they would include and it includes the proposal signature and then once the real layer sees this then the real layer publishes the full body right yes right now in the Griffith really stands back to the proposal right yes so the real layer needs the ability to broadcast that because you don't want the proposal to be able to watch either achieve the Builder uh but uh yes that's uh it's a good optimization what is the difference between the relay tonight oh okay um the yeah so the Builder and the real layer can be the same entity and like in some cases they will be but the idea is that like this allows people to basically just run open source relayers that ex that accept anyone so like um you know if the um you know the the Tay you've been uh decide that uh you know they have once the leverage their reputation as a nice trusted actor um and uh you know they they want to decide they just want to be a real layer um then like the process to the of them doing that would just require them to just like run a computer um and have you know a couple of um RPC endpoints and just that maintain a node right so if they don't need to do sophisticated buildering themselves uh but and then what that allows you to do is that allows you know some let's say for example some random person from China who um let's say people uh like you know in in Europe don't trust and they've never heard of and they've never heard of any of the of any of the people that he claims as references um and so he can basically you know just uh create what bodies and you know go through this kind of real uh this real air uh and that way you kind of overcome the trust Gap right because um you know the yeah the proposers don't have to kind of trust us the Builder that they've never heard of but the Builder also has this uh ability to participate despite kind of not being plugged into this Global gun trust graph right and I think in general like the the other the goals here is that we don't in order to prevent centralization of validators right remember proposals here are just like ethereum validators what we we also do not want to require the validators to have to like frequently update their configs right and we expect like Builders to come in frequently we expect there to be lots of Builders and it would be annoying if proposers had to like constantly update their trust lists um and so if you just have like real every layer in the middle uh where that relayer um is look there's a specific set of relayers and when the proposer just like start like starts up they can include like a list of trusted real ears into their config once then the API Builders would then the builders can use any one of those real layers and kind of things will be more stable for the proposal okay yes okay so the so going back to the two problems right so the reason why the Builder can't cheat the proposer I mean this model right is that achieving The Proposal basically means refusing to publish right but in order for the relayer to be willing to send the bid to the proposer the real layer has to have the full body um and so if the proposer like accepts a bid then the proposal knows that the yeah the block corresponding to the bed is in the hands of the relayer and so the relayer like if they want to they can publish or if they want to they can send to the proposal and answer the proposed to be published so then again the proposal should be used is the Mind relay or whatever that's right something red I mean the proposal I think the proposers like the intended design is that a yeah like when you set up an ethereum validator like as part of your content you would have like a list of real errors that you're willing to trust um and uh you know you just like make that list once and you'll uh you're willing to trust them yes that are much more released right now right exactly yeah the like the idea like the ideal is that okay what like I personally don't want there to just be um you know several dozen non-profits around the world running a real layer and like it should be this is profitable there are incentives that's the reason why there's only two right that's true I mean personally I think like flashbots should just give grants to do this or like maybe the ethereum foundation be apprehensive I mean if no one else wants to even I could give rants free if anyone wants to run a real player um but yeah like it is I mean remember Mev boost is like not perfect and it does rely on like some social incentives it's quantity in that way um so it is a stop Gap but while we have to stop the app like I think we should try to make it work as well as we can obviously working in a non-profit Manner and his infrastructure intensive because you have to accept blocks that usually by the builders you have to verify them only then make sure like it's kind of um it opens a few venues for the ending and do I think like it it's a little bit tricky introductive to run it's not yeah it's it's quite hard to run and there are no incentives and requires the knowledge to yourself I feel like there's a lot that can be done to make it cheaper like uh let's not even being done like uh like this the whole spam thing like you know you could require uh Builders to like actually like register on chain somehow um you know so like in general I think we should be trying to sort of Leverage the kind of the sophistication of Builders to try to reduce the level of sophistication required on the real air side ideally uh and uh there are kind of sgx based tricks that could reduce the amount of trust that needed in the real layer but like we'll also talk about that later but this is kind of the approach that doesn't require protocol changes and it's uh basic but you know it requires this extra stress assumption and like it requires this extra kind of community work diminishes trust assumption but like it is what we have for now so in protocol PBS right so there's uh this is the I think more more likely candidate for uh in a protocol PBS and the basic idea is like very simple and dumb it's a two slot system right basically in even numbered slots uh you just have a system where the block proposal chooses the bid and then in odd numbered slots essentially whoever won the bid is the proposer NH and they uh proposed what the Vlog is very simple um so that's uh the the benefit of this kind of approach is like you essentially the chain becomes able to detect kind of like discriminate between three scenarios right like one scenario is that the uh the proposer was missing um the second scenario is that the proposal was there but the Builder is missing and then the other the third scenario is that the the proposers there and the Builder is there right um so the reason why the Builder can't cheat the proposer is because if the proposal is there but the Builder is missing then the fact that the Builder is missing gets recorded by a test or is in consensus uh and so the attest uh once that happens like the consensus rules can basically say well um whoever won the auction has to um has to pay the bid anyway uh despite the fact because the fact that is it not publishes their own fault um and so the proposal still gets the exact same Revenue they would have otherwise gotten right and the Republican just say I didn't get it um no so right so the proposer can The Proposal can refuse to like can disappear over here right but [Music] oh I see no sorry it's not the proposer's job to check uh who um to check whether or not the block was published there's like an entire Committee of attestation so it's like all the validators do it okay um and then the Builder the proposer can't uh cheat the Builder because well the the blocks are only published after the auction is uh is one um and in fact the Builder only publishes the block after there's a proposal and even after there's a round of attestations on the proposal so even if the proposal kind of equivocates and lets themselves get slashed even then uh you actually get like they can't uh kind of grab the nav in switch and switch over uh through the uh or which which block is going to get proposed which is like a really nice and strong property right so it's a very nice it's a very robust system the main weakness of it is that the Salat time instead of being like 12 seconds has to be like potentially about like it's almost double now you can avoid it being exactly double because you can basically say that the number of people testing here can be much smaller the number of people you're being a testing here so you could say instead of being 20 like instead of 12 seconds this is a lot of time is 20 seconds but it's still like kind of not very nice right the delay comes from um yeah so the reason why we have to have a SWAT time is because like you need is to have a like what we need to have a fairly conservative assumption on networking delay um and uh like basically so what we can prove that as one of these actual latencies within the networking delay the whole chain kind of converges and everything is safe um and the reason why the kind of like the time between blocks well doubled here is because you need two slots instead of one to accept every block so once a lot PBS is this kind of alternative design that I came up with um and that hasn't seen too much enthusiasm and possibly it hasn't seen too much enthusiasm for good reason but like I figure it's worth mentioning for completeness uh the basic idea is like the ethereum chain acts as a decentralized relayer or basically a tester is act as a decentralized real layer right so the goal basically take MVP boost take out the real layer and you replace it with like a threshold thing consists of like 128 random investors uh so step one Builder sends the header um and they split encrypt and sends the different chunks of the payload so basically they secret share the payload right they take this so the payload is like the full block body they take that body split it up into 100 pieces use Erasure coding to extend that to 200 pieces and erase your coding basically means that like if you can take any 100 of those 200 pieces to reconstruct the original block um and then use separately encrypt each of those pieces to a different Committee Member and then each Committee Member tries to decrypt and if the thing that they decrypted matches the commitment um so you would use like some polynomial commitment here to kind of because polynomial commitments can kind of verify that the even the original coating is done correctly so if they see that they have the correct chunk then they just send a signature uh and then if you have enough signatures from the committee then the proposer would receive that bid uh and then the proposal would take the best bid they send the proposal and then when the committee sees the proposal they would kind of decrypt the chunks and they would broadcast right so it's like the same thing as the Navy boost except it's like decentralized Med boost where um instead of having what the function of the real ear is done by this kind of like basically threshold photography but it's kind of done in a decentralized way by some randomly selected set of validators um so the reasons to be scared of this kind of model are I think but one is that it just adds kind of more cryptographic assumptions in another and this is like the reason why I personally have generally been kind of skeptical of adding Correctional encryption like other things into ethereum right which is which what other teams are sort of more aggressive on this right so like polka dot as I remember is a kind of proud of having sort of in like in a protocol secret sharing but the reason why I'm scared of this is basically because uh 51 attacks like totally can happen right um and 51 attacks against a threshold encryption are much worse than 51 attacks against consensus because they're invisible right like if 51 of the validators collude uh to a sensor people or to uh do like some like attack where they reverse revert the chain and revert finalize blocks that's something that the community can detect the community can pick up on it like either they get slashed or the community does some soft work where they get penalized and they lose a big part of their deposits but what if on the other hand 51 of stakers quietly accept the bribe to uh kind of give their um kind of feed their uh their decrypted shares to the NSA then UBC is going to be able to front-run everyone and like no one's going to see that this is happening uh so that's uh the re so that's the reason why I think in general like people are scared of that like or at least like I'm scared of relying too much on threshold cryptography and a lot of other people are because like you can 51 attack it's silently um so those are kind of the three different approaches none of them are perfect um creating something that's even better is an open research problem uh so um you know if you want to work on this there is uh you know there is there is a research community that would love to see the answer um if you create and publish something amazing then I hear that publishing Amazing Ideas as often a path to getting hired by the ethereum foundation uh but uh yeah this is a you know open fun challenge um so that's one of the rabbit holes that we can go down on in the question of like what kind of PBS we should have right like basically it's like different technical approaches to trying to solve the problem of like prevent making sure proposers can't cheat Builders and making sure Builders can't cheat proposers right um and the reason why I think it's important to kind of make sure the different side that both sides can't cheat the other is because once one of the sides can cheat the other then the other side has an incentive to rely on reputation and reputation is much easier to have if you're like a big and sexualized actor and so it starts creating centralization pressure right like I think we want to create a world where any random guy with 32 East can be a competitive seeker and any random person with some cool algorithm comes out of some random Village in China and be an amazing Builder um even if you know and you know another dimension of research is uh do Builders have to pre-commit the blood contests so this is the show here right like basically the way that some of these existing designs are built um so basically the way that all three of these are I think I conceived um is that the bids contain the block hatch right so the bid basically says I wants to produce a block and the block has this particular hash so they're committing to the contents of the blog and I'm willing to pay 0.32 if you let me include this book um so that's one approach another approach is you might say if you give me full freedom to create the next block then I'm willing to pay 0.22 East for that privilege so it's a very subtle difference between these two models uh I think one of the Practical consequences of this difference is that basically the question is like when the end what information the Mev collected is based off of right uh so if like I think this this diagram here is really helpful right like basically if you require the bids uh to uh publish their bids over here um where and where those bids include block hashes then the time look the the times that they have to figure out what's uh what to include is over here right and the information that they have that they can work off of is uh is going to be over here um and so the kind of price discrepancies that they can Arbitrage off of are going to be like basically the Priceless gravity between over here um and over here right um so in but on the other hand if you let Builders just have free reign to choose what what they build and they could actually the they would be able to choose their block contents over here and so they would be able to kind of choose Mev based on like anything that happens over here based on any kind of Crisis preferences that happened over here based on any transactions that get published over here right so it's like in both cases you have a two slot window of like stuff you can extract maybe off of but in one case the wind the end the win the window kind of ends over here and the other case the window ends over here right so this does have some pretty practical consequences um one of the Practical consequences is that um if Builders have to pre-commit the blood contents then Builder profits become deterministic and guaranteed right because the Builder's bid is uh like a number in its part of the bid and the profit that the Builder can get is also going to be from the blog contents where the blog contents are also going to be committed right and so the Builder knows like hey I'm bidding 0.22 and this block is going to be able to give me 0.223 and still get to get a profit of 0.003 right yeah it's it's not in this is not entirely true because if the Mev depends on like say um like buying uh arbitration on binance then like they would have to be able to their kind of complete cycle would actually depend on you know being able to uh actually go and finance as soon as the block is confirmed to make the trades and like maybe prices will move a little bit between when they make their bid um and uh when they're going to be going to be when they'll be sure whether or not they won uh so it's not entirely deterministic but it's like pretty deterministic but on the other hand if you're just auctioning off salots and you're saying you know you have I pay 0.22 each in exchange for kind of free reign in this figuring out what happens in the slot then you only have half the transactions and half the kind of price information that you need right because it's because basically yeah what's going on is that you're making your your you're making your bid over here um and the previous block was made over here and when you're making of course where the previous block was made over here and so you're making your bid based on transactions that have happened over here because the price movements that have happened over here but you also know know that when you actually make your block there's going to be more price movements that will happen there's going to be more transactions that will come in right so being a builder becomes a more probabilistic thing it becomes like a thing that requires more sophisticated algorithms it becomes like more professionalized in a lot of ways um and so it does become kind of more Capital intensive and potentially more like sophisticated economy and the economies of scaling but there are also benefits to giving block builders for kind of free range that depends on being the Builder saying both on ethereum and on optimism then you record it or on it both on ethereum and on like Solana for example then you could do something clever that basically says I am going to um compete to be the block producer both on this side and on this side and knowing that like I will uh be here or if um I win then I will be able to kind of choose the blood contents based on the fact that I want in books so if you don't allow this then like it becomes harder to do this right people like if you don't if you don't allow people to like build a conversion have free reign then this becomes harder to do right because I'm like you have to pre-commit to the contents before you know whether or not you've won and so you have to recommit to the contents before you know whether or not you've won on both sides so you can't really do across domain stuff and so like there's still a benefit to being a proposer and to being in this kind of activist proposal that does Sophisticated stuff right so like in this way if cros like to the extent the cross community is a big deal uh then Builders having free reign is more decentralizing uh another fun one is that winning Builders could offer pre-confirmation services right so like what you could do is you could say I send a transaction where that transaction has a priority fee of like let's say two play but then I also add on top another priority key that says if you respond you the Builder responds to me within 500 milliseconds with a with a cryptographically enforceable promise that you will include this transaction then I'm willing to pay an extra five um and like obviously this uh problem is likely can't be enforced by the blockchain itself because the blockchain is kind of tick time is 12 seconds and you're what we're talking about guarantees in 500 milliseconds but you could imagine like a system based on chain link that does this right and you know if chain linkages look good enough and it works almost well enough that or you know you could even write it on Solana just like you know you could imagine a trusted time stamping actor like you you could imagine something that's like has reasonable enough assumptions that works um and in this way like basically transactors could pay extra for this kind of extra privilege of getting really fast confirmations and this would be this kind of really nice backdoor Way by which ethereum users could basically get their transactions confirmed within 400 milliseconds and um you know like ethereum would sort of in some ways be competitive with fast chains which I think is kind of cool um okay how to improve PBS right so this is the section where I talk about some of my downsides um or some kind of subtleties of how BBs works today and like in some ways to improve it anyways let's find water mine okay can I have a water I just want to like take a take a water break before I get back to uh blabbing [Music] uh quite uh trying to be mindful of our audience they were kicked out by Alpha software of let's spatials a couple times [Music] wait is this this one is uh also made fun perfect no it's yeah yeah can you just like dump more water into my tea and like uh like I don't care if it's cold I just yeah oh amazing uh uh yes look on my favorite word in the German language I love you yeah you know the community totally can collude with the proposer the argument is that like this is not as big of a risk because the community is randomly sampled and so you need like 51 of the validators to be involved so like properly pull that off but like as I said right like the arguments against us like well you know actually 51 of people can't like can and will cover it if they can do it silently without if there's like you know it's we're talking about like five or ten pools and they know they're not going to get caught so it's a good argument against anything with threshold based random selection um like the some like ran down in the previous slot interesting um that could happen um yeah I guess like binance can be better at Urban binance than anyone else um now there are I will talk about Alternative Market like kind of like what some like other possibilities are for who for who ends up winning the Builder market and so this is actually yeah part of the third section uh so this is basically the third section is like basically it's all about mitigating Builder centralization right so this is like the section that I think a lot of people have been waiting for we got a request for anyone who asks questions in this room to be loud there has been I think like seven or ten people pop up into space and each time you've been having a lot of fun although we needed all of them so when they're trying to speak I think I can figure out what's the problem but there's also a lot of compounding problem with space yourself we'll we'll deal with that after this presentation oh by the way I appreciate the time on the computer being UTC time One waterproof oh yes certainly okay yeah so um I guess so talking a bit about censorship in PBS right so censoring transactions in PBS is um still expensive right and this is the kind of arguments about why right like basically if there is one transaction that a winning Builder and even let's say a hypothetical uh Builder that's like so good that they're winning every slot um wants to censor and that transaction has a priority key of X then the winning Builder like basically has to pay X every X in every in every single slot that they censor right so the griefing Factor if you're censoring is like Theory against the sensor like the sensor has to pay like potentially hundreds or thousands of times of times access they want to like really censor the transaction properly right and the reason why is um like basically that um the United like the non-censoring builders right like if the transaction has a fee uh a fee of P they would be able to without the transaction they'd be able to win M uh or they would be able to bid M and with that transaction they'd be able to bid um M plus b um and the attacker um has like some advantage that's M plus a right or this is a is like the advantage between the attacker and like let's say the best honest Builder that's not censoring it could be less than p a could also be greater than P it so the math actually works out to be the same in all cases right so if the um a is less than P then V it's because the attacker has this constraint that they have to censor then the attacker just loses because they get outdated by the non-sensoring builders right or potentially the attacker has to lose money like basically the attacker has to build a kind of go over here and bit higher um and so instead of the attacker bidding and bidding like a bit higher than admin getting a b Tacker has to bid a bit higher than M plus p and they lose P minus a right so instead of a winning a the attacker loses P minus a so the attacker kind of loses P um and this um and this basically happens kind of every single slot that the yeah during which they uh keep uh trying to block this transaction now if a is greater than P then basically instead of the attacker when like when being able to bid a little bit higher than M the attacker has to go a bit a little bit higher than M plus p and if a is greater than P then like the attacker is still making a profit but every slot they're going to make a profit that's like only a minus P instead of being a right so it's like if I send a transaction whose priority fee is like even five cents and then if you censor my transaction and you have to just keep on paying five cents every single slot and if you want to censor forever you have to keep paying five senses a lot forever um so the economics of censoring are still not very good for a real layer that wants a sensor but I think you can make a strong case that plug this is still not good enough right so like for example if you only care about censoring someone for 20 minutes uh because let's say you want to do something about to them in a defy platform or you have an on-chain vote and you want to prevent them from voting in the vote only the last 20 minutes or whatever then you know there's a lot of applications where delaying people by 20 minutes is like still very harmful right um and uh 20 minutes is 100 slots so like it's still a griefing factor for of a hundred to one but like there's a lot of cases where um you know you could imagine people being willing to pay a hundred to one degree thing back there right like um you know I don't know like the US government would totally be willing to pay hundreds of one grieving factors against that or exotic for example right um so the uh basically the question is like can we get censorship resistance to be able to kind of back to the something closer to the level where it is today right and the reason why censorship resistance is like very good today is because today um if you want to censor someone you have to not only kind of outbid them in every block but you also have to create full blocks like double full blocks where um so instead of 15 million gas like 30 million guests where all of those transactions are full of like basically have a priority fees that go um that go above workable in the pay and so like and then you have to just kind of keep on letting the base key go up and like get go up to the point where like whatever amount that you're willing to pay for your transaction the attacker has to be willing to pay that fee at times 15 million gas every block so it's the griefing ratio is like it's not even like one to one times the number of ones it's like once in the number of blocks times the size of a block divided by the size of your transaction so to delay someone by 20 minutes instead of the briefing Factor being 100 to 1 it's like ten thousand to one right so that's that's kind of the the by the way in case you missed it like greeting factor is like this is a term that I think people in a crypto sometimes use like the griefing factor is x when in order to force someone else to lose one dollar you have to lose X dollars right so like if the yeah in this case the like the reason why we're talking in terms of like forcing people to lose money is because the assumption is like the yeah like people can always uh people who are being censored can always raise their fees um and so the question is like well how high how much does the sensor have to lose in order to kind of push the amounts that the victim has to pay to a level higher than what they can afford right so status quo The Briefing factor is like ten thousand to one like if I have a transaction and I'm willing to pay five dollars to get it included you have to pay like fifty thousand dollars to censor it for 20 minutes but with PBS like it does decrease to about 500 to one um and the remains is like this is going this is going to happen anyway uh because if PBS didn't exist then the validators were would eventually start to have their own infrastructure and that infrastructure itself could like start accepting bribes to not include transactions right so it like basically censorship is kind of decreasing or the the griefing Factor decreasing is an equilibrium to some extent um but we want to try to fix it right so we have two ideas for trying to fix this one of them is this concept of secondary blocks where you basically have like many block many block bodies that the proposal accept in parallel so instead of having one auction first one imagine like 20 different auctions first one and normally if the first auction would be the only one that like really has anything non-empty but if transactions are being censored then other people will make secondary blocks where they offer to include that transaction and those like if you want to censor someone you basically have to outbid not just the primary option but you would also have to outbid all of the secondary options and so this is one of the ideas um you have um Lori would like to counter you okay so um okay oh no music can someone speak um it's that is can someone speak can someone speak [Music] um he is speaking but we can't hear him um we unfortunately you may have to rejoin uh this happens with spatial where individuals somehow get uh randomly muted um without you doing anything you may need to quit and rejoin hmm can you guys can you guys hear me now yeah [Music] but no music still stronger okay um [Music] and basically the tip that a builder would make a significantly smaller significantly smaller than the cost of his own transactions also basically all Builders are somewhat incentivized are to ignore all non-defi transactions push the base down so their own bundles either their own bundles are cheaper or other people bundles are more profitable I'm right I mean this gets into like the the EAP 1559 debate I mean I would say no uh because like EIP 1559 in general has this property that like unless close to 50 of participants are of like validators are participating in a collusion to make empty blocks then like they're not going to decrease the BC at all right like it's not even like a slight curve it's like flat until some point and the reason why is because um like if a transaction does not get included in Block n it'll just get included in blockchain plus one right and so the yeah the long run effect on the on the equilibrium basically is just going to be exactly the same um so in right yeah so like basically yes censoring isn't uh like and then the other thing is like if you censor a transaction for a really long time then like that would reduce the base fee but then that also kind of changes the economic equilibrium and then it makes it worth it for other people to for like some other person to transact right because there's kind of this long run law that uh like the target is like is going to be 15 million guests right because like so the basically decreases until it's until uh blocks have 50 million gas on average and so if you're censoring then you are right well okay no sorry the the equilibrium right it does right it does push down the base speed by a bit uh but that's not going to increase priority fees right like the thing that could increase priority fees is obviously if like builders start all um censoring everyone that doesn't pay a really high priority fee but then if they're just censoring for economic reasons then is the like just because the economics of censorship are so on uh are so unfavorable like you would just need one honest Builder to be able to out-compete them I think so so um um right but in order to make their own words others to pay a higher fees yes and you just make your own bundles and more problems and you know all the other block buildings does making the base be cheaper make your own bundles more profitable like I guess it does a little bit for one block because of like the supply curve but it's not like if the BP goes down by five way like you can earn the five way right no but if every bundle yeah so I include a transaction which costs ten dollars and if I can push the base fee down it would have cost me five dollars so the bundle is more profitable it's more profitable well no because like validators are not going to increase their priority fees um just uh just because the base key went down right it's like if the base like basically your your Revenue as a as a block Builder is dependent on what the priority fees are and priority fee is like priority fees or just priority is what yeah they're not going to increase just because the basically decreases no no no you're missing the point yeah but there's a base fee in English and that would be cheaper the bundles would be more profitable would be more profitable but why would it be like the the base key is just something that goes straight from transactors like straight into the ethereum pool like how does it make them on the more profitable right but like that would be it right a little bit right it's like if yeah yeah right it's like it's like arbitrages are going to have like a very fat tail it's like the first five arbitrages you make it's like 99 of your Arbitrage is so small right like I don't like I don't think it's even well the other thing is I don't think it's philosophically correct to even like think of the basically as being cost like you as a bundler pay it's just uh like it's cost the transactors pay but like a transactions right right okay so the cost of right so the cost of doing front running and back running um decreases but I think but like in general the front running operations like they're yeah I think like I I guess like it depends on like what the market structure actually looks like but I definitely have this Instinct that like there's a power lock on and if you reduce the cost of a front run by like 10 like you're not going to get 10 more front running Revenue like you might get one or two percent right yes but you'll make a lot more money yeah [Music] no but the difference between the front runs that you can make at a basically a 50 wave versus the front run so you can make it a basically a 45 way is also nothing it's five times more than the tradition if the tip is one Z-Wave right you can get an extra five way of Prof of uh revenue from front runs but like front runs are only a small portion of blocked contents as well right like you're not going to have a block full of like 5 million gas of front runs right so basically it's a debate between ingredients actually with one's action or ignoring them for a day and then go back to consensus sorry the equilibrium so if you ignore one single transaction for a day the impact on the basically is going to be negligible but the amount like you would have to pay like that like that basically over the course of that entire day foreign okay then I'll move on to idea two for now um so idea one right basically secondary blocks so you have like multiple options in parallel so as a sensor you have to like outbid on all of them um so like I think the argument is like whatever your opinions are on how viable it is to win the auction or how viable it is for a sensor to elevate like if there's eight parallel secondary options it increases by factor of eight or does it means marginally lower secondary blocks well well they would have to submit a second year or to censor one transaction they would have to submit a secondary block that that loses money that like has a that has a higher bid on all of the channels right so like in order to bid um in order like if the transaction pays extra sensor DFT 8X plus one okay so idea two is what we call censorship resistance lists or CR lists um so the idea here is that proposers create lists of transactions that they've seen um with a rule that the Builder has to include those transactions unless the block is too full through and glue right so this is like actually this gets back to the question of like well as PBS can uh just uh destroy the mempool this is basically saying well no we're actually going to keep the pimple and we're even going to give people a reason to use the mempool uh basically because if you send a transaction then as soon as a proposer sees it and they include it in ACR list then like that Transit action has to get included in the NX block right so there's the like there's even this added incentive to use the to use the mempool to send things um so very simple proposal right like basically if you um if the proposal The Proposal just has a list of transactions that they've seen and the list doesn't even have to be limited it can be very big and The Proposal kind of publishes this list in a day like and the bids have to reference that list and so the blocks have to include all um not necessarily like either include all of the transactions or include some of the trends those transactions and not have enough space to include any more of them right so in the long term what basically that means that like either this that's the CR list gets included in once a lot or blocks are like a double full until uh that until the CR list does all get included um so V8 this is just leveraging altruistic proposes right like even if 10 of proposers are altruistic and they can have non-mccr lists then e-transaction is going to get included you know within 10 slots um like I mean potentially you could even do some kind of really mean stuff and like extend it and you could have like weird logic where a testers are only willing to um attest to uh proposals if that proposal has a big enough CR list so you know you could even expand it further if you want to uh but like this is the the general design right so basically I mean it basically what it allows is to kind of be altruistic and desensitive resistance backstops if they want to but even if they do that like those proposers would still be able to plug into the PBS market and they would still be able to get the highest revenue from any honest Builder um so why why do you think why don't like think this is adhere to be extreme and like mandate because every transaction is the artist well you can't mandate that like every transaction has to be in the CR list because we don't like you don't have network-wide agreements on what every transaction is like you could have transactions that are like published close to the deadline and you could have sort of lack of consensus about whether or not they were published early enough to be eligible right but this is like the same same problem S as well well no because in this case the proposer um just like include like is kind of like a bottleneck that kind of uh like the proposer chooses what the list is um and so it guarantees that everyone sees them yeah and why not just let the ghost do the same thing but Force the builders to only pick things from the CRS oh I see it I mean if he wants to you could do that um I think oh the reason not to do that is because like we want the builders to be able to special to kind of do specialized things that require adding their own transactions so like you want Builders to be able to like you know front-run unit swap for example right um which requires the builders to add their own transaction uh because if the builders do like if the builders can't do that then that crew like then you're just bringing back the incentive to be to be a proposer that that's running these like you can't see algorithms yourself yeah I think the downsides are I mean one is that it does kind of it works to the extent that it relies on honesty right so like if only 10 of proposers are um honest then um you know you have to wait 10 slots which is uh not optimal maybe there's ways to make it better um and other oh there's actually a much more subtle downside which is uh there are actually benefits to removing the concept of like an in protocol man pool uh basically the downsides have to do with like account abstraction and stuff like erc4337 like basically smart people being able to use smarter contracts as wallets um you that becomes something that's like very easy to do if you don't have like a protocol level concept of like a transaction meaning a user operation uh because uh you could just create Layer Two mempools that kind of work with different kinds of smart contract bullets and if you have a censorship resistance design that's based on secondary blocks then it just like it's it doesn't have to be aware of transactions they can just like work with whatever but if you have censorship resistance lists then CR lists have to be aware of what the concept of a transaction is what they have to be aware of this concept of like an objective user intent and so in order to do account obstruction in order to make like erc4337 fit into this model you have to do a bit of extra work you have to maybe even enshrine like not all of yours a34337 but like some parts of it so that's but like that's a yeah a disadvantage that's like like that's an advantage of like literally getting rid of the member and getting rid of ethereum being aware of transactions so like if you think that is a net good then like like you basically already think or like if you think that public member is continuing to exist as a net good then like you are I think you already think that that's uh advantage or that disadvantage is outweighed by the other advantages and CR lists are probably better um okay so those are just like some ideas for improving censorship resistance and for kind of keeping up an incentive to have in the and I continue to use the public Temple um so next we can talk about internally decentralized Builders right so the Hope here and I think this is a hope that's like like strongly felt by like even like a lot of flashbots people is that you could the the the Builder that wins the market that wins the market might even itself be a builder that is um internally decentralized and there are unique advantages that built that internally decentralized Builders have right so the dream is basically that you have builders that decentralized internally where the Builder is a system that accepts bundles from an open market of actors that are called Searchers so searchers submit bundles bundles are sets of transactions and those bundles like a bundle could be one transaction a bundle could be an entire block a bundle could be a collection of transactions a bundle could be a collection of transactions plus the requirements of that bundle appears first right so you could have like many different kinds of bundles um and the job of the Builder is to take the bundles provided by Searchers take the ones that pay the highest fee I kind of arrange them in order um and uh just publish that as a uh like just as a block body right so instead of the Builder being like a single tightly coordinated actor the Builder itself is this kind of market so what is the kind of Mark like what's the benefit of this right and what's the reason why this might conceivably be able to win the market the reason this basically that Searchers become like a become an open market right so instead of just being like let's say James Street being a builder or binance being a builder um and uh they hire a hundred of their own employees to do all of the kind of searching for MVP opportunities that no one else can participate you have an open market and you have like you know random people all around the world that all create their own strategies to specialize in particular things so you might have like some Searchers that specialize in binance Arbitrage sub Searchers that specialize in collecting liquidations some Searchers that uh specialize in um you know giving people um a guarantee is that their transaction will be included and doing that really quickly so you could have different searches that have different roles um and so you could have like this really big set of Searchers that's much bigger than the number of employees a single company can hire and the open market can kind of aggregate all of them and would basically be able to create this combined block offer that can bid higher than a single company that only has like a limited set of strategies can bid the key challenge in this design is how to prevent Builders and other Searchers from cheating Searchers right so if I'm a Searcher and I have some strategies that make me really good at binance Arbitrage or make me really good at collecting liquidations then if you're running this building this Builder Marketplace then how how can we prevent you from being able to look at my bundle um and like basically um you know search and replace my address for your address and try to kind of steal my strategy so it's the same challenge as Builder proposal separation but kind of one layer back right so it's like we're basically going from a block of construction being like a one layer task to being a two layer task and then to be even being a three layer task and like if you really wanted to you could even have sort of meta Searchers that aggregate different searches um so the general solution path that I know about is like Searcher bundles are encrypted until a block is locked in right so like a search researchers publish encrypted bundles the Builder operates only over encrypted bundles and the like that can everything is encrypted until the moment where the block proposer agrees and to make it even more robust it could wait until after the block proposal agrees and a testers agree so even the block proposal can't select equivalent gets flashed in cheat people I mean only then does everything get decrypted and this the block proposer publishes and everyone sees what's going on now the question is like how to do this magic encryption right so the magic encryption has to have two properties one is it has to have guaranteed decryption when the block is of when the proposal agrees and when the block is locked in and two you have to be able to combine partial bundles right like you have to be able to combine different sets of transactions um you might even want to be able to kind of verify like proofs that the transactions are valid and what if some of the transactions are not valid in the context of other transactions and so you might a Searcher might even have to prove that they are making keys in a way that is kind of not dependent on ordering um so one way to do this is to have each trusted Builder and basically to have a builder that's like hey I'm the Builder trust me and I have a look I'm an angel I have a halo over my head and you can trust me so this is like pretty close to what flashbots does today the second strategy is to use sgx right to use trusted Hardware so basically all the Searcher bundles get encrypted to a key Pub uh to to a public key or the private key only is accessible inside of an sgx module or you could use other trusted hardware and uh then the uh you would have well basically the entire system that actually combines bundles and like creates blocks and all of that would just live entirely inside of sgx and everything would be like you would not be able to see any bundles in nuclear then we'll see the they would only see the final blocks um or you know you could have uh instead of sgx you could also do multi-party computation but that probably has overhead that's way too high now order you might be able to do it if you have like Fast ZK snarks right like you could have Ezekiel snark that says like hey these are three transactions and if you apply these transactions then you have a uh like the these three transactions in the last transaction includes like this payments to the Builder and and like you basically have like in sets of encrypted transactions that come with proofs that they're encryptions of something valid um and then you just kind of have lots of these and the builder then once the proposal proposes the Builder sort of decrypts all of them and the only thing the Builder has to do is uh compute a state route at the end right um and that computer witness uh so this I think it does require kind of snarks over encryption it might require snarks over the evm actually I haven't fully thought through this maybe there's a really clever way to avoid requiring starts over the evm but the good news is that like starts over the evm are something that's uh increasingly getting better and better so uh you know it might even might even be viable right so maybe there's a clever way to avoid a trusted Builder and avoid sgx but like this is a research problem right but like in general you know if we can make a decentralized uh Builder and you can make a decentralized builder that's like actually good then this will be another way kind of out of uh you know the world where binance controls um 60 of ethereum blocks and Jane Street controls the other three another 35 so uh multiple you know more paths to the same goal right so you know we can talk about like PBS in general it ensures validator decentralization by sort of pushing all the centralizing stuff to the Builder there's the question of like well what happens if Builders become hype and centralized one way to do it is to mitigate the censorship externality and the other way to do it is to like try to create a decentralized builder that can be Delta centralized ones um and uh try to sort of fight for the reviews selfless people can never offer computers okay I mean right so like apart from all this very complicated similarious stuff um like he still was working separately right they kind of always miss the opportunities the centralized pardon uses all of this and you can run this all in one way to well right but on the other hand the argument is that because the decentralized Builder is an open market it's going to have access to a much larger number of people that can that can find any of the opportunities so yeah I mean it's this is it's an open market structure question for a couple questions but he's afraid of echo so Francesco you could try you can try to unmute yourself um yeah I yeah um [Music] but I don't really understand why how could we get to a point where uh [Music] [Music] um so um [Music] that's uh yeah definitely a very good question um I think the argument here is basically that in order for a builder to be able to plug into Searchers it would open market of Searchers it would need to be able to convince them that it's not strategy stealing and it's the only way to convince them that it's not strategy stealing basically is to do this sort of thing where you use encryption of some kind and so even if the thing lives in a data center like you still have this property that the Searcher has privacy and like that actually already is like enough decentralization right because if we're selecting about censorship resistance then like the Searcher would be like basically any technique that's good enough to prevent strategy stealing would also be a technique that's good enough to prevents the yes or allow the Searcher to include transactions that the centralized Builder would want to send go ahead yeah so I don't know like if we imagine we have this magic encryption whatever thing like then we could also do like just to encrypt transactions order them by a fee and um yeah please give it up instead of all the other things so I like this is right then we have like the complete well it depends right so the encrypts transaction thing is like it is a bit limited right because uh it like so you would have to include you could encrypt the contents and you could have some mechanism where like in some future block you can like the next honest proposer just includes decrypt the decryption key and they can kind of collect these from it or whatever um but the problem is like what that you would still have to keep in plain text who the sender is um and like the verification logic because ethereum would have to like somehow know that whatever the thing is that it's including it will be able to pay a fee right so if you want to censor a particular like a particular operation you might be able to censor but if you want to censor or you might not be able to sensor but if you want to sensor an Azure SEO and still be one slowly censor it but you could prevent someone from sending anything and so that's like one way in which uh just encryption by itself is not good enough I mean like you could if you really wanted to get around that with like a wrapper transaction where you have a transaction that can like basically one of the things that it does is it doesn't like a call um internally uh but then that's like like that that uh that's the sort of technique that could be done in like in any other system as well I guess right so at that point like the question is like how is that better than um you know just proposal censorship resistance lists right like basically yeah it's more like they're also great if you can also solve all these problems there you can just build a much simple system this is my crazy point like for example if you see this trusted Hardware box then you can just right well I think the the issue is that there's a lot of fancy cryptography that people are willing to put into Layer Two but they're not willing to declare one uh because that fancy cryptography is like like trusted Hardware especially right like it is likely to break and like if you really use it you'd have to be ready to frequently update it um and uh even like a lot of those fancy ZK stuff like it might be complicated and in a way that like layer one would not be willing to do it uh but uh Layer Two can because the consequences of things breaking at Layer Two are smaller um so like often I think the the rationale for ncrm doing things in these layer two-ways one theoretically it could like bake everything into layer one uh basically is just that like ethereum strives to have a similar base lawyer and so the complexity has to be shifted earlier too sometimes you know um no he said right makes sense and no what they do is um searches proposed families which I think right yeah so right okay so this is that's a that's a good one um I mean one you one thing you probably could do was like you could do fancy said in your intersection stuff with like proposer with a sender addresses but that would be hard and that might break things I think the more realistic approach is to just do a hard work to modify ethereum so that transactions that are invalid for like sender announced reasons they are valid they just like don't do anything I mean so that way if you have like bundles like you can always concatenate them and they're still valid in order second transactions right basically yeah the like basically the argument is um like the it's the searcher's responsibility when the Searcher makes the bid in their bundle uh to kind of be comfortable with the fact that um you know maybe there will be something else in some previous bundle that can flexible their bundle and uh they just have to be okay with taking the risk of uh paying the fee for their bundle but not getting the benefits all right so I guess uh kind of challenges in the PBS space in general like one is to kind of agree on the end protocol PBS design uh so which is like two challenges right one of them is that like you know there's a lot of different designs and there's possibly other designs there's that haven't been considered yet there's even like more moderate designs like like I've I've heard people that propose things like so you know most of the Mev actually comes from the first five transactions in a block and so how about we just let the uh like we just have a proposal Builder market for the first five transactions and we want the proposal choose all the other transactions um right so but then like I would I would argue that that particular idea like is probably worse than just doing a CR list and the CR list has like basically the same effect but like the point is there's still like a space that you can think in and there's still I mean to the extent that this existing uh designs have weaknesses there's still kind of room to think through and try to come up with some approach that doesn't have those weaknesses um and also the second issue is that the PBS design may depend on changes to a future ethereum consensus right so we're actively researching this concept of single slot finality where instead of the chain finalizing after epochs which is 64 so I've serve about 13 minutes the chain would finalize after so I have a full consensus round kind of tender mint style after every single slot um and this has a lot of advantages in making the chain more robust but it does mean that uh um like what we saw in the two slot design right like how the um any the design the PBS design is like very closely interval interwoven into the consensus right like uh the and if you want to properly optimize and kind of reduce thought times then uh you know you are going to have to sort of design the consensus around the PBS and design the PBS around the consensus to some extent and so it may well be possible that we'll only end up just like getting all both of these things at the time so that's one challenge um come up with about like maximally solved censorship resistance so like they figure out you know secondary blocks CR lists um modifications to erc4337 to support cros semi I wrote up a document on that recently um so if either user want to make a transaction which should be a problem right no no ability to do that right well I mean the current approach is you could um you know do like send it through flashblocks protect um and I guess the Hope in the future is that there will be Searchers that like specialize in this task of uh they create like you send the main transaction and they just include a bundle that just contains your transaction and the only thing they do is just like not show it to anyone yeah yeah whatever well right yeah right I think this is something yeah I mean I don't know I agree um I mean there's definitely like an assumption baked in here that um like users are going to fall not users but like wallets are going to get more sophisticated right so like one of the ideas I mentioned is this idea that um you know users could pay extra priority fees for the privilege of like getting a promise of inclusion within one second and if you do that then uh like that requires the wallet to understand it that requires the wallet so like understand them you know which like which mechanisms for proof for um verifying these that promises I trust some and so forth or if um you know you want to do a kind of front room resistance thing then you would have to choose you know which search your marketplaces you trust like actually you might not even have to trust a search or you could even just like you as a user could just create the the one transaction bundle yourself and just ship it straight into the decentralized Builder Marketplace uh so but then like to do that like you know you'd also have to kind of trust sgx or trust fancy witness encryption uh to kind of degrip things automatically or whatever right so um that's um yeah so like basically the the idea here is that like the like wallets are probably one of the things that's going to end up sort of complexifying a little bit as a result as a result of this transition and but the uh kind of positive thing that will come out of that hopefully is kind of better protection for users consensus resistance um make it like explore this idea of make of building Market winning internally decentralized Builders right so I think these are kind of the the two um tracks for how to mitigate like how to make the world where binance creates 60 of the or constructs 60 of the blocks in Jane Street creative constructs the other another 35 kind of as like as a non-dystopian as possible one of them is uh solve censorship resistance as using some kind of backup layer and the other one is uh beat them both with a uh Builder that's internally decentralized and better and like basically like make it good enough to present the case for why um by Nance and genes which should be Searchers instead of being Builders um how do we find internally decentralized Builders the idea that like a builder instead of uh being a uh sort of like instead of being a firm in the uh yes kawasian sense of the firm like is itself uh some kind of Market place that has open participation and so that would be one definition another kind of very pragmatic definition uh would be that in internally decentralized Builders he Builder that accepts bundles from the outside and has the property that it doesn't know what it's accepting until after or basically like basically it has like it accepts bundles from the outside and has some kind of mechanism where even if the the like whoever's operating in the Builder doesn't want to but they um they might still get forced to accept uh to accept some other transactions so they can't censor right so like yeah so practical like so definition one like instead of being a firmed there are Marketplace definition too they can't censor um and uh definition three they can't strategy steal um and then another one another challenge is like more exploration into this trust for me an energy issue because trust domain video is also going to affect um like what what the optimal designs in a lot of these cases are yeah and I think uh this is roughly where the space of uh dealing with Mev centralization is that yeah yeah very interesting thanks a lot yeah thank you that's the most I think this is the most oral PBS talk you or I've been to like although like it's been yeah I mean it's the first one that like you're allowed to be like Collide like you know [Laughter] to our bus right yes oh we forgot we have audience sorry oh there are people jumping and clapping oh okay thanks for jumping okay um yeah so uh I think next we have a discussion around uh map booth and um there's no uh slicer presentation um but uh if you can uh if we can all see the uh hakan zdoc I have uh referenced all of the existing um uh documentation that is uh there is on map boost as well as a map boost um uh the GitHub repo um it's live on testbed so um do we want to take a quick Break um and get some water um yeah five minute yeah five minute break and then we'll be back all right let's get started um metacris what uh what would you uh like to uh share the screen um uh I think just uh go to the the map which one okay yeah you you can have control over this although like is uh displaying on multiple screens all right yeah that's going to keep okay let's keep this then a little bit shorter like an hour but I was thinking now is it really good time to just uh give a quick overview to see the things at flashbots at the development that boost the relays and then maybe we can discuss a few parts about the relays themselves there has been a very interesting uh build up so far and they released himself it pulls a strong trust requirement that they have trust requirements from the builders from the proposals and there's a few like I would like to mention a bit a few of the risks some mitigations that we have in mind yeah and then where to move from here I hope people in spatial can also hear me um I will just leave this open there's also an API spec draft of the relays that includes API for the proposals as we've worked them out with the EF guys in the filter specs that also includes the apis for Block Builders and also includes some data apis that seemed pretty important to get data out of the relays about what payloads have been delivered to proposers specifically but also kind of what beats have been received by Builders and and a few other events so for instance okay currency the things let's keep it real short thanks to a lot of collaboration with people from all over from the consensus clients from the EF Lifetime and so on the specs they are finalized boost is basically feature complete and is being tested on all the networks and I think the last thing is that a few consensus clients are still wrapping up implementation so Technical and prison have full implementation load star is also just getting done and uh Lighthouse has an open PR that that's a little bit on secondary priority to get this I think and Nimbus is also in the process of of finishing it so all in all this side of things looks pretty good uh we have our relays yeah yeah sure I mean yeah you can now run it there is like some a PR that you can build yourself and then some guides to how to do that and run it so so the function is there um but yeah they will be there are you planning on uh University there is available people will just switch back again then we end up with the same problem that there's uh yes absolutely but the good thing is that we can like wholeheartedly recommend taco so yeah yeah the concern maybe for online participants is that um if not all contented clients are ready then this will lead to a mod option of those clients that have the bill of specs implemented and is not helpful for the client diversity but from the current point of view everybody's like in the final stages of implementation and this seems to be fine there is not too much time left I would say but um at least three out of the five are currently being tested also in the shadow Forks um the release are particularly interesting pieces um so as a proposer you add the relays with the really public key as you're basically your trusted really or a number of trusted relays and the bits that the proposals receive from the relay are signed and you can wear and MF boost verifies that this is actually coming from from the relay that you trust um some of the risks here include both uh on chain uh chain liveness risks for instance if there's basically three problems that can arise from the real response a proposal science of payload which is they really cannot release the block the payload that can be folded they really can propose a deadlock with like incorrect transactions or rather incorrect Properties or the value that it's claiming to send to the proposal is not what's actually inside the block um and there's different mitigation ideas um so for this folding part it's kind of hard to attest this properly because it can also be a network issues right there can be a networking issue on this side or on that side and it's really hard to attribute that to malicious really Behavior especially if it's like happening once it's kind of impossible to to know that the really in this case we felt like with other committee or some somebody else like broadcasting the payload it's not not easy to say it better as well as malicious behavior what was The Proposal do in this case then The Proposal misses the slots and this is a slot without block apart from that thing no slashing no no nothing nothing very bad happens it can just lead to a cascading like a continuous like if if one of multiple relays that most of the validators um have configured keep it folding then there can be like a long chain of just empty slots this is basically kind of the worst case in on from the defaulting perspective here the mitigation that we are currently thinking about and working on is a circuit breaker mechanism inside the beaker notes that if there is like too many empty slots that Beacon notes would stop using to build a network to stop using interacting with my Boost and that they would require an special API call or a restart or whatever mechanism to restart using the external Builder Network so this is like one proposals can um another approach here is a really monitor which is possibly again a trusted service thing that a proposal can configure at this ends their the bits also to the really monitor and for the relay and to really monitor request the payload as well as the proposal itself requesting the payload from the relay in this case the real monitor would also receive the final payload but simulate it could verify that the block is valid and that the payment is correct and if that really uh is uh not splitted correctly could penalize the relay and and leading basically to all the proposals using the really monitor having information about problems arising that with any specific proposal um foreign when the Remake has a better clock bomb then you have then you actually take the block from eBay and you can always run the I mean this means like you run your own builder yes and like from also like for most energy does most of it and I think people also understand estimate how much is I mean they already need 32 visa to get started the chances of them having more interesting with everyone we have good numbers on like how much energy you can get just for launching stuff how much you can get with like um also having a finance one um well Elaine is online uh from our data team um do we have good statistics on like how much Meb can be collected just by running a kind of secure algorithms on only uh ethereum uh transaction and mental data versus how much can be collected by also of what you need to finance Finance versus how much can be collected through like more complicated than cross-coming stuff I think there's no comparison but for children just recently did an analysis on on finance it might be a person not that we have but no I think internally right like if the numbers I think particularly was that there's worth the chain in terms of on train and off Chain LED is a lot right now that the profit was so currently he had on profitabilities like 1995 percentage cultural miners there it was so profit for research is about but with two things I said people could also to Other Drugs combiners themselves right they won't depend on right but my standard talks about homesteakers it doesn't uh rely on violence again I'm not sure how what are this um assumption or that this conclusion stands like when there is competition do you mean yeah basically tells you there's not a lot of competition because if you're a boss yeah it would be a lot more welcome to a minus yeah well like I think [Music] and I think over the last I'm not sure like one year um okay so it's right I mean you want to tell the hair straight as well so it's right right at some point in here that's about 10 000 blocks as three or four thousand um so that's going to be about 0.005 per block which is like a pretty substantial fraction of um um that that would be discussed a deeper later last time we talked about I think that you uh did as the highest yes so you will be if you did you pay as high as a high seller right Beyond copy there I mean it's sad right now they will just use it let's see how it goes the only reason why it was just going to forward able to use because of front running and sometimes interesting yeah well we'll go back to compliance read this over there but uh yes yeah um get it other issues that like release malfunctioning relays could cause is that the clean incorrect values or do not verify the biller values correctly because it became mode right now it has no way to actually verify the values the claim value in the bids so it just takes whatever really gives the highest value on on face value and and here it would be really useful if the enemy boost as a way or that pick a note as a way to actually so if you're like it circles to me like a like values is probably the worst kind of act right because uh so Eight dollar blocks and investing blocks are basically the same is what all that you can do all that the Builder can do is they can just not public music and not publish and just enough the Builder also loses and like the Builder maybe gets like some complicated strategy we're going to prefers there like in the next round that's much less but if they cheat on the bed then like they can basically steal the proposals so is it the simplest strategy to fix the or to kind of protect against those kinds of attacks to like just show the Oracle Branch from the Block header to the introduction I know that internally there was I think too much mentioned that wouldn't you need a separate state route to verify the first transaction with it doesn't even have to be the first transaction detected this could be any transaction because like if that transaction was valid for any reason like if it doesn't happen or whatever question um Canada Builder if he adds a transaction of human transaction at the end of the block already access the funds he would have received in the collection before yes yeah so a payment proof here would be helpful um so it's important to consider that Builder payments are just uh in case of a reorg uh development transactions will also go and become public so they need some kind of free or protection one thing one way you could foreign right but then that would not be provable because like from the from the outside right yeah okay so the Builder would have to address and uh itself happens like one block later or something I could go through a smart contract where uh it provides the certainty that the block is actually the this month or no that would have then [Music] you want to go into the the proof yeah um well yeah do you want to prove for what exactly can you now go back to the other so on one side you want the proposal to know or to have a certain guarantee that the payment that it did claims is also actually in there in the plot where you don't see the transactions beforehand this is what you want to prove of the payment proof okay so so the Builder knows already where the kid should be paid to for the building yes the bills and the pillar already announced he wants to prove that experience you get the money into the relay in the first it should be included in the uh bit that it really sends to the composer actually really could also construct the payment proof probably like it doesn't need to come from the Builder necessarily because in the end The Proposal trust whatever that really sends them there is like no requirement on any Builder signature um is on the one side and and the stats yeah that would give the proposal some knowledge about what's happening inside this block that the payment is not just a number that is claiming the people that actually has um yeah I prove that this is inside and on the other side here there will be functions you will have to also prove that the block is better right because otherwise there is no guarantee you can put because American Prime stream works right it should work I don't recall why we had um what was the discussions about that detail I know that almost had some but either way you trusted relay verifying that total is actually like to build the band was actually a good one like having the bundle and yeah having a Blog I mean it really knows the block they're really part of the realistic responsibilities is making sure that the block is correct or the transfers are correct that the payment is correct foreign thank you yeah right should be able to avoid drugs like one kind of attack is like not um happens it would still require changes to the clients of the execution of your clients especially because there is currently as far as I remember modern API that the Deacon mode or mapus could use right but since this is not a business I think this is right the Builder has to say the truth but ideally May boost or the proposal would be able to verify right yeah cool yeah and then on the other side of the equation could be draw proofs if this could not automatically be proven but that should actually be possible where anybody could submit proof of misbehavior but really and this will tendonize the relay there has been some some discussions about that earlier here on this Equity document that is linked and also in what is happening [Music] schedule it yeah and also in this GitHub issue here about green liveness yeah well other points of discussion were like permissionless Builder access from the composer and not from another Builder foreign but then the really changing the video structure makes the blinded a lot of that and then scientists details and provides it with a get header API that the proposal is using but that also anybody else can use because exactly and and it's not restricted currently because there is no proposal signature and that would be than a closed bid auction because excited so these suggestions that only that the next proposal is [Music] but like hello it's why this has like only one beat to place the new kind of try to I I wouldn't imagine that the Builder tries to pitch higher thank you anything that's hard like that it's I can do it the more contract open it is well you could just have to build a published after this one but uh yeah but if I like it there's some Advantage for me [Music] this is exactly what we don't want the threat because you want you guys want to yeah foreign [Music] foreign bits because there's been like a lot of discussion and a lot of participants also from from Chain Street people climbing in here in favor of open pit auctions and and the auction Dynamics and I I'm not sure but it seems um to change this Robert literally just was like can you please make sure there's no I think I guess what happens the problem is that you can't do the closest approach because the proposals don't add a signature oh yeah okay yeah okay that's well that's an interesting thought experience like what would happen now how would you decide also decides the highest values and release do it close time we just do it open case even flashes could run two really it's like one will see them open bits see how it's developing interesting for the idea like I don't know they probably have awesome advantages like revolting right there's no perfect for things it's kind of I don't know yes sure so I guess yeah maybe we'll be trying like any of the things where we can Implement both probably ability at the release of really interesting playground for trying like for where people and ideas could get tried out another time it's like yeah you can I think you can spend ages on these deciding how much I think it matters a lot for the market particles it matters to all the [Music] and also it matters and sometimes to the trust like or like the fairness I think see you blessing makes it like if you have it sealed you you open it up for more strategic whatever like we have this killed information games right it's also you give them more options in a way to kind of play around but actually I think this is I think um foreign foreign [Music] foreign [Music] foreign computer science I think that's it for inputs I think the very interesting discussions I think maybe we conclude this part now and uh considering the time they may want to yeah more or less yeah I think I think that's something it's like uh 20 minutes walking from here uh let's believe in one hour yeah but um this is super um I think importantly discussion I think there's also time sensitivity to the field person I mean I think not necessarily because I think foreign change to make it a little bit unless there is like a lot of high level push in the direction and discussions but there's so many moving parts that I think this point has passed for now and this is something that could be considered for later on you can continue data yeah I mean the the the the content client contains layer clients they are a bit resistant to adding new signature uh routines something like that there's maybe ways around that but it's all something that is now already two packed and and resource constraints to this is like not the impression that I had there needs to be more consensus and resources from consensus current teams to implement this to even enable uh input auctions basically unless there's some issue that arrives yes yes this is my impression that it's like just also because of the state of discussions and the technique Simplicity and to just do what is possible right now is there any like uh with the I mean uh before the mark what do you think are the biggest challenge or maybe get some help from you guys I think it's mostly about the impact on on proposals of of misbehaving relays because my Boost itself is I mean it's basically done its future completed it's not it's just a really multiplexer the the challenge has arised what happens when relays are not behaving well the areas we are like reputation systems if they really monitor yeah like the the payment proofs and yes it is yes I think just ideally we want to make it easier to detect and and automatically act on misbehaving release but so to also make it easier to um uh propose adding other relays like right now it's kind of a tough call to say add also these five relays and we recommend like this list of 10 relays like it really added to your proposal list is ads possible risk everyone so there are so many things like there is no reason they actually only pick one because every other people confuse the security like I thought all the positions so yes it makes it even more complicated for anyone else to that's true I think I mean block Sprout is is setting themselves up with uh and no front running really like an ft relay branding kind of thing where this could be one differentiating factor that's what I kind of three day anyone who promoted the idea can run on this who will like who will run it okay most of the people just yeah if you just care about the story just one problem so actually if you if you think like you really want this and it's not all about the profit right then you in the end have to make a protocol level and then people would actually use it on a protocol level like this is the only way you you can could get I think this this non-economically ideas but like more fair definition of ordering or whatever you you have once in there but like to get those into the systems you have to step away from these economic models and then you cannot can only do them like priority level to transition to the uh yeah so yeah um [Music] oh sorry um yeah and then you uh perfect yes and then you can play with the presentation does any spelling errors uh why am I holding this um internet um yeah so I'm gonna make this quick so there's less time between Austin to lunch over dinner it is but anyways so this is the term about the first come first sort of ordering chain idea um the name is not don't take it the grain of salt so it's it has it has much of a little bit of first come first serve much of ordering even basically mulching um it's joint work with um edits um from flashcard we presented this beginning of May or so internally in flashcards and right now click ended it a little bit for um Vienna Square so um I guess a question I have for yeah especially a serious professor oh yeah well I'm gonna come to that I mean it's it's more like um um exploration of distribution space um with um I think like at least for us like interesting in science on much more than like a serious solution but we try to achieve a solution but we didn't succeed with my current um [Music] I do not or maybe it's true but I cannot even yeah I tried there's nothing uh [Music] um it happens even more likely when you have multiple displays and connect about us it does work but it did work only in the oh here it works okay but it's not working there right so it's a screen display um issue yeah yeah yeah I'm pretty sure it's a screen sharing thing yep yeah yeah it's one of those okay there you go yeah perfect you got it try it again uh don't full screen this time [Music] Let's uh try to Vlog through it sorry about that everyone okay so it's about the fair ordering thing like the the question that brought me to that is like is maybe inevitable or can it be prevented so the question kind of haunts me now for for some time and um I still don't have an answer so um this sale um first campus sort of ordering chain is kind of more in the in the in the area of it can be prevented so that was the idea let's have a look at like why this um maybe exists in the first place so if we look at the tax on on transactions we'll um have like replay attacks so we have counter measures so if you think about what prevents um the replay of of transactions we have nonsense um what prevents the so um notification of transactions we have digital signatures um but what prevents the rewarding of pressure because I think there's nothing we don't have any countermeasures and this is the this is the very reason that Med exists in the first place so now you could just say like well order all the transactions problem solved intuitively like first come first serve transaction ordering is like what everyone has in mind if you think about transaction ordering like what what is your method to all the transactions first comes first service what people come up with um intuitively we haven't discussed initially we have an upcoming architecture specifically on first come first 12 ordering protocols um like the tldr is like the first come first of ordering protocols alone can only mitigate um reordering the text to a certain extent um it cannot prevent them completely unless you go for on commissioned networks or are willing to make like maybe unreasonable assumption but nonetheless we have a look at first come first transaction ordering there's a building block for for this idea the goals were to prevent so-called bad Med to just let no we want to prevent front running we want to prevent sandwiching um and we want to have um everyone else participating all the remaining MVP so everyone should have access to Arbitrage background so these were the goals and as I said in the beginning this is more like an exploration than like a real solution but still going to explain with what we've came up with so the system in an option is basically three entities you have users on the on the left hand side um in the middle like a first come first serve um ordering many pool slash block building system and on the right hand side minus user sent um unordered encrypted transactions and the block building system outputs um on blocks um that miners have to use so this requires a change in the consensus rule um might must have to do still the the batteries running low um so the idea here like in order to for the for the block building system to be able to use first come first serve right and not cheat like why additionally have to use them um have to work on on encrypted data otherwise they could just cheat but if they work on a crypto data they don't know exactly what they are ordering so there's no incentive to to cheat they're just basically ordering random data from the perspective of this um ordering system foreign right and since the the output of the of the block building system should be valid blocks users have to also submit um and prove that they are actually submitting big transactions okay so why encrypted transactions well they actually encrypted twice um so the contactors are encrypted that the ordering system cannot like manipulate the order of transactions in some meaningful and at the end of the ordering um um Step the first layer of encryption is removed um but at that point the the ordering system has a kind of an advantage right they're the first ones to see the transactions in the clear so while the order is fixed they could still do their DeForest ones here they could um take all the Arbitrage and take random opportunity submit their own transactions get it ordered first so we don't want it so in order to mitigate that like it uses um also equipped to minus or validators um such that this first come first ordering pool cannot um as an advantage on in background or arbitration right completely right um right I mentioned validity proofs so in order to come up with um values valid blocks this um users also needs um to attach related proofs for the transactions there's a lot of questions like is this even feasible technical issues right but um we're not going like we don't have to go there so now we can say Okay first call is reach like this front running is presented and searching is prevented um what about this um could anybody can everyone participate in good or maybe that Philip already said like uh well minus seem to have an advantage right um minus another position to take all the all the equivalent and Arbitrage opportunities because they are the first one to see the transactions in clear text can separate the transactions because they're ordered first come first served um they get basically the um about the large chunk of the cake um so this is kind of a latency game so what we thought like okay how can we make this one accessible to everyone right I mean this was basically the second call make this Arbitrage and pick running opportunities accessible to everyone and for this this ordering system needs to distinguish between um conflicting and non-conflicting [Music] opportunities is like a like a conflict right as a single resource like an um an ebm address that particular transactions want to route to and you need to come up with a precedence like who's gonna win Monopoly and here is a non-conflictive transactions and you can just um um randomly errors that doesn't mention it in this article about evm parallelization you could just execute them in parallel because they are not touching the same um but the conflicting um transactions they need to come up with something how to how to resolve this conflict or some kind of Lottery where you buy tickets if the more tickets you have the higher the probability of good winning so it could be something like that yeah like so it's the first country if you think about like like we haven't seen this slot then like okay they again at first but like to stop seconds earlier than anybody else so there's still 11 seconds left for blocks here only based on that like to do something like you know the first option here then I think you're really close to making Arbitrage more accessible right right I mean there's there's many open cultures that how would you implement um an OCTA system here like in a non non-trusted area this also how much information do you need [Music] um okay so there's something inside speaking from like um exploring this um like nav was like for after it was kind of not intuitive Alex came up with the term the conflict resolution and it kind of stuck to me like maybe seems to be all about conflict resolution you have this like multiple transactions they all want to go for the same EDM address according to write to and sampling to resolve this conflict um and it was an interesting thing like to think about it that way um and you [Music] um right like all the other transactions like um like if let's assume you have a conflict resolution mechanism whatever it is and it works well like all the all the remaining transactions you can literally be ordered in any way it doesn't matter because they don't conflict but you can perfectly yeah so so it comes down to uh to like a conflict resolution it is first come first curb ordering is just a very particular way in true solving this conflict so it's like okay you're first so you should get you should be the one who wins but it's like while listening to it if it's also very particular it's not really maybe it's not a conflict resolution mechanism we want so um yeah open questions like I mean I started with the goals we want to prevent front running and we want to make arbitration Tech running access support that are these really the right phones um because depending on how you set them um you can come up with totally different systems so um personally I would argue people obviously look exist in Arbitrage I feel good but there's also people arguing differently you think look it's not the most optimal to put them from funny listen for me there's an open question um like how to incentivize like the the ordering mental the notes and the ordering landpool or like a conflict finding or resolution mechanism how how do you incentivize it not to collude [Music] um and how much information you speak to the conflict resolution like if you have for example you need access list in order to figure out like what evm addresses or transactions are touching how much information is leaked by that um yeah that's all really so okay what are the arguments um I'm not I'm not um just repeating the argument I'm not in favor of it um about efficiency so you can have a little more more optimal welfare optimizing the um for example if you think about the Chrome it depends on how you define front running what you have if you have multiple um spots on automatics for example you have like free buys free cells um then if you like in a free Buys in a row and then free sales it's more optimal to say like one by one server another by another cell so foreign [Music] foreign ordering submit an arbitrary transaction to even swap every 200 milliseconds and that leads to like lots of gas overhead on shape whereas if we were trying to make it more history then uh so I guess that's one in other another line of arguments would be the definite option buying the by another means argument that like there are but if you put a premium on time there are ways to different skills that I had on time right when I care but we're basically I'm going to access that if we get old high frequency trading world of luck if you have better tables so I think like the arguments were kind of just having options instead of this even if this works really well I think would work questions one another question like how exactly would this like ordering helpful or like like the ordering Republicans oh yeah there's like if you think about first come first serve um right I mean like a very simple very simple one that you think you have just a single entity like in just a single entity you send transactions to but super easy to order different sections they're just um by the time they're The Entity receives certain sections right if you have a single entity it's easy because because of time right that's easy now it gets more tricky if you have multiple entities and you should like country consensus like what is the order right um um I think this is basically equivalent to the toxic synchronization problem in distributed systems this is basically comes down to exactly that um in a more in a more malicious setting like because maybe not after that you cannot trust but it's basically that how how um how can you I think like proximation is basically about the order of events distributed system here it's like the order of transactions but it's the same thing um and there you have to issue that [Music] um their Marketplace is multiple reflection conversation algorithms you can apply basically any of them um right yeah so but I mean you can let's say you have you can also do like a simple bolting and see if you have just free entities you can take the media you're right but it's very simple problems it's about signification like people can send multiple messages or like some of the participants might even kind of go offline for a while and then come back afterwards right um is this some form of like two-thirds majority inputs like use inputs into purchase you know some of the better you can you can you cannot understand through our mouth right and then in the end you get a fair ordering from two-thirds you can't see but this isn't one of those like correct and regressions okay [Music] one medium well the conversation there is only one basically right here I don't know like the issue is like your face is like what do you want to see is like hundreds of assigned messages while we're heading first transaction right like that way it's like the whole point of watching is that we do things thank you yeah but like then you can just like you yeah I think at some point make a chain and have options they have the watch time deal at one second like once you start like doing Fashions then you know you're obviously gonna end up I'm not sure I think the problem that the time here is that you have like only some like the granularity to which you can order transactions click on some distributed system is is um much worse than like intuitively people that think it think it is like it's delay uncertainties the effective familiarity and it's um foreign [Music] this is like I don't know the only way around there it shouldn't be allowed to decide like the census algorithms are like more efficiently also the bottlenecks right like about a single action bottlenecks your Architects algorithm setup yeah right there is version of hotspot for example which there is leaders like see the folder but like their only job is to take what somebody like a quorum of people is saying so so they kind of be silent on anything right on their own right how would that even work like if it weren't already agrees in the process of getting agreement of course if you haven't already have it was right but like um well that's kind of I don't know if the leader can I don't think this is necessarily the case you [Music] [Music] some kind of a friend kind of convert to some yeah there are consensus algorithms that I can do avoid the leaders but like one of the early versions of what I'm coming foreign but basically like there's just like this complexity cost that um I would be worried about the green footer for the um one more thought I think not necessarily like avoiding leaders of like restricting what leaders are allowed to yeah yeah more is which like couldn't find it that role it's like regarding the consensus I think that um original worked on the scale other consensus um well I think this like we could I'm not sure what exact number but they get so consensus pretty quickly but the point is um I think my argument there would be that there's the granularity is super weak so you have basically a lot of uncertainty um what's what like on the order of the transactions um but as soon as you're like like let's say in the um transaction system to block support then it's easy to find in order or let's see one block time apart and it's easy to find an order also with their algorithm but if it's if you send transact sort of thing like a second or two then you will have a lot of uncertainty and there will be ordered wrongly or right I think my worry at this point yeah that's the main counter argument against this particular algorithm um but but I guess you could still like have some like first like personally like if a scientist about I'm totally use on the foreign they make it more efficient I mean at least we know the limits of those protocols already thank you well I guess we turned that into yours [Music] I make it work quick maybe you can just go down um yeah we're about 25 minutes in total until we leave I make it I try to make it great amazing no just the picture for first so support for the microphone um maybe we can make it a bit bigger Maybe perfect so we we actually do the quite simple and easy to understand paper I would say on um so-called opportunistic algorithmic double spends which is a kind of a different form of double spend from what we all use to her see and hear about and now so on the left side we have a classical double span where there is a fork in the blockchain and we basically like accurate and try to push a different transaction in and for for an algorithmic um double spend we basically use the transaction semantic itself and the fact that in certain blockchains these transactions in Montague might depend on on blockchain State on context on external information um to do something else right and this actually um for for the case for serum for example we can Implement such a such a we call this semantic semantically malleable transaction um with very few overhead so for for an ec20 transfer for example um we have about eight percent cost increase to doing that which basically means that if somebody would use this or if it would be widely used as a kind of strategy to to use this kind of transaction stem in case some Fork happens to kind of have a interesting scaling effect of the whole blockchain state like you have fork and the whole boxing state currently purchase and um has like very very systematic um yeah implications from basically like a simple idea that just embed some some different kind of logic simplest thing is like you you build on a on a block hash from the previous block or or a block height um but actually the the same issue also applies in in other systems which don't have this like full um like touring complete language to to write your your scripts or contracts in so so for example in Bitcoin you have um like you have this dependencies on the upxos and in principle your transaction is like fully deterministic and you may assume that this is actually not possible there but um actually there is a corner case where where this problem even arises in Bitcoin on this 100 100 um pounds uh 100 block pound for for the minor reward paid out and even like systems like cadana which use this utx or model um kind of face this problem and like similar patterns to these are kind of observed already in lots of kind of math related um meth related uh contracts and patterns and like the op codes which can be used to to implement um multiple transactions uh are I don't know there is a figure in the paper I don't recall the number but like lots of transactions actually use this kind of op codes and and maybe make could lead to such effects we we basically described here so this is a very simple simple high level idea behind the paperwork we had a closer look at yeah and actually there's the the just when I spread it to to the other guys in the team so actually I was just like very briefly involved with with this and most of the workloads was done not by myself but by Nicholas and my Yorkshire on this topic yeah I think that's I forgot something but if I should mention some important other things no yeah we have like in detail shown when this is when this is a problem in which cases and and formally shown different different things about it yeah yeah and like mitigations maybe is one point like how how could you deal with this issue right and probably the easiest one is like as for most things is you get like Fast condensed finality and you actually get finality um yeah but like in systems where you have this kind of forks and like has to test the behavior where everybody Builds on on stuff which isn't really confirmed and like they I think we didn't even once mentioned that okay I've blocked my team reverted and we have like cross block Mev opportunities and like maybe it makes sense to Fork a block as an opportunity to expect even more values then this really becomes a big issue and like if everybody does this kind of thing it gets even worse like basic Ed very short brief overview of what we did there well the first one is like you have like pair block finality so if this like reduces the for normal users um they basically don't have to worry about it anymore you're doing that in eastern yeah all right asking what uh Beyond um half a person obviously working on it there's more than half a person well I guess what it's happened yeah oh okay fine but if you have like some some more you have some something about it like a draft or whatever I've been through take a closer closer look there there is another interesting counting measure you can you can do use the attack against itself so you can kind of hatch against the if you're a merchant right and you're afraid of somebody somebody does this to you then you like yourself when you pay some money you receive to Transitions actually you just pay again with such a transaction so you kind of Leverage the same um the same kind of attack to to protect against it so there's this kind of recursive views of the of this thing which kind of an interesting strategy is a he made the fun fun headline in the the type of the paper yeah yeah this is like and like you don't even you don't even have to know when it happens um like you don't even have recognize it you won't just just if walk occurs for whatever reason and like be like a long range Fork issue we have seen in I don't know uh it's in classic or something and you get like all your money back this is like an amazing amazing thing for for like yeah like we have a contract which basically can do this like forwards thing just pipes whatever you want to do through a contract that's exactly that then like yeah yeah just like massively like reworks for this this is like a massive like when you have a large fraction of all the validators about New York then like single selections uh didn't you uh during the New York times yes yes or at least our version States does the thing is actually it's quite interesting which kind of food stake design so the Casper with this kind of flashing is much less there is much less of a problem but like in cardamom for example they added the feature where you have you can specify a window where a transaction is is valid and they don't have slashing in the consensus so um there it actually is very easy to implement and it's like you don't have to slashing you can just it's still kind of a longest chain rule yeah yeah I think they they use like the original orbitals is like old school but like they're using a variant of browsers like since brows not much has changed how it works and like definitely well I guess sorry you have to send me your yes can you send me the link or is it a local file yes oh you sent it to yes telegram okay um one of the constraints you like would consider related singing slots like imagine like I don't know it probably comes with simple energy on on like Hardware requirements for validators it turns out that it's actually not that bad then there was that much wise it's uh it's just like I realized that they were like basically for ethereum as it is today the bottleneck and like scaling to supporting more validators isn't like if it's just like elliptical verification it's the aggregation process and it turns out that like you actually can to uh the like signature verification going all the way up to like several hundred thousand personalized um aggregation is something that I could have to change but we what we have ideas and how to optimize it so it could actually be done [Music] no but the attestation aggregation yeah aggregate verification is like just one ECS cool thank you I just quickly tell what we did but uh it is a their research focused on bitcoin blockchain and ucx open face blockchain and I also talked to Tina uh maybe it's not related to uh the discussion today and she just suggested to go through with that and then we can maybe we can uh yeah discuss it with ethereum or something like that we did uh we did a study based on interviews and questionnaire a user perceived privacy and the mental model of their their understanding of privacy issues in Bitcoin and their preferences on a private sector reserving techniques implemented by wallets or other privacy coins and then to see if to answer maybe is main questions that to what extent to what extent uh they are aware of privacy issues and also the Privacy enhancing Technologies and what preferences they have do they for instance prefer using add-on privacy techniques on top of Bitcoin or do they prefer using privacy points and for these are they willing to use uh these privacy preserving techniques despite the higher fees and delays and all so do they trust privacy preserving third-party services for it so uh I will skip most of the slides as I just want to explain the findings both somehow it's not great ah sorry this is another of the screen sharing issue I think yeah I love this no oh actually sorry you are open because you're not sharing your life you're it yeah what's the difference here [Music] all right it's a stupid musical uh fundamentals and uh foreign here I just explained the privacy issues in Bitcoin and I'm going to add all the attacks over the privacy in Bitcoin [Music] show this one it's an example of coin Zone transaction Until We join as we know maybe uh it's one of the main uh and first uh proposed techniques to provide privacy but it has a problem that uh the uh the equal size output makes it clear for everyone that someone use conjoined transaction and there are some wallets now don't Market was always providing this for enjoying uh transactions and but there are distinguishable in the blockchain and yeah I expect all of them to show this pieces like uh for the Privacy awareness and when we ask users about uh the questions we found some interesting point that it was one of them was lack of knowledge of difference between custodial wallets such as exchanges and also non-fustodial wallets and they were the users were some of them were even unaware the privacy issues with using custodial wallets and uh and also some of them preferred continue using exchanges as they were so easy to play with them actually and it's and what some of them mentioned that uh recovering the cryptography piece is more complex than recovering a password for for an action so uh how many users actually for the interview it was a 12 participant but we run an a quantity with quantitative study of actually with 101 participants but the name concern was for the interviews with the but inequality and there were also privacy misconcept and conception uh for as an example one of the user told that it can be based on on encryption algorithm algorithm which makes it anonymous and all the using yes they were crypto cryptocurrency users but they were non-technical users so um and for instance one of the users also told that they the user don't know to whom the public key belongs is an alphanumeric phrase and all the identities are hidden in the network and one of the interesting points about mitigation in case of uh awareness as an example one of the user at the end of the interior view one of them told that I have never heard about this privacy issue but if I knew about them I would have research possible solution to mitigate them and and when we asked about some uh no well-renowned attacks over Bitcoin address you use and information from exchange have increased at attention and most of the users have heard about these these uh attacks and also maybe we can say that it was the power of Education by Wallace for instance when they suggest to make a new address every time then most of them knew that they should prevent you reusing the address but uh one of the interesting things was that most of them have never heard about common input ownership heuristic in Bitcoin then uh it's the first theoristic in the Privacy attacks that consider all the inputs to the transactions belong to the same user and and also privacy tools was unpopular among non-technical users they either have never heard about them or if they have heard zikash or Monero they didn't know what which kind of privacy is provided by these privacy coins and also and also it was disaster this distress of privacy uh for instance uh one of the users told that uh I don't want to run away from taxes I have no reason to be anonymous so they just thought that uh using privacy techniques maybe is for tax evasion for doing criminal activities and something like that and it was a negative understanding of privacy and for privacy preferences when we ask users whether they prefer to use privacy preserving techniques on top of Bitcoin or use or they prefer using privacy coins more than half of them try uh preferred using privacy and uh and also those who prefer to use add-on techniques they expected built-in Improvement to the Bitcoin in the future we also yeah and users also uh accepted longer transaction times but half of them this is the idea of paying extra fees for half privacy and those who were aware of distinguishability of conjun were not willing to use it they prefer doing ordinary transactions rather than using uh a privacy preserving techniques which is distinguishable in the blockchain waiting time this could be related you're willing to wait for long enough right to potentially let more you can be expected from the transaction and you're not opinion I mean the mental model right like not willing to be used to willing to write and for the Privacy wallets uh the wallet is still a struggle to attract more users as they are still unpopular at least among non-technical users and they are also there is also a complexity for using these wallets and using these wallets needs minimum understanding of privacy concept for instance when you ask someone to to do a Conjuring transaction with one of these wallets they they may really skip some of the they make something in some of their tasks we also did a study for uh user study on privacy Wireless and some of the users even failed to complete the conjoint transactions for instance as it was uh some of the parts were too complicated and they couldn't understand who why they cannot finish the tests and I cannot go you cannot go to the next one no maybe I don't know I think you can oh I think that's the end of year no it's 50 out of 56. oh okay oh you just press the down button yeah yeah I think it's a one of those things so maybe twice both in a minute yeah and another item for the Privacy wallet was that uh the government fans and uh some of the ball also some of the exchanges uh banned uh conjoint and the aspect of conjuring transactions and it would be a barrier for using these wallets and also another very interesting fact was that users preferred models that support different coins rather than uh installing a different wallet for their privacy and learning their functions to improve their privacy and the yeah if I want to yeah finish my actually my presentation uh some of the problems about little knowledge of privacy issues and privacy enhancing things and privacy techniques were too technical for ordinary users and there were negative understandings of privacy for criminal activities and also tax evasion and for the solutions maybe we can consider education integration integration with the wallets or documentation and social media and uh for and we are we can also uh consider proposing private techniques for uh let's say public privacy rather than for instance we can provide privacy on blockchain but we know that wallets and the exchange exchanges have some information about the users but we can at least keep them private from Whole reward thank you [Music] yeah I'm curious how that impacts uh well I ordered a um 