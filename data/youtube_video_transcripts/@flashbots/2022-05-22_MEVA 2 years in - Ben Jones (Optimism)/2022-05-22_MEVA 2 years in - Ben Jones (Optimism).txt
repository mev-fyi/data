[Music] beautiful hello hello um okay so we got another in the lineup of l2 mev talks which is pretty cool i'm very excited because ed just gave you all some great context that means that i can move a little faster so that's very exciting um i want to talk a little bit today guys first of all i'm ben from optimism i want to talk a little bit to you all today about the state of l2 with regards to mev so i'm going to talk a little more broadly i'm not going to talk about maybe as many specifics as ed does because we have a lot of unknowns we have a lot of problems ahead and we have a lot of exciting things ahead so we've got to talk about all that stuff and that's what we're gonna do today okay look at that cool graphic don't you like the graphic oh so pretty okay i wanna start with a brief aside just because i know we have some amazing mev people here if you are working on sequencing challenges and if you are working on the eth2 merge api please check out the optimism bedrock codebase this is the coolest damn code base for sequencing designs and especially as they apply to e2 and cross domain stuff that you have ever seen so please check it out we basically have this new beautiful abstraction called the block derivation function which takes in a list of l1 blocks and basically outputs a list of l2 blocks and so this is very very very very useful because it makes constructing different sequencing designs a whole lot easier so that's super cool and we're super excited about that so check it out there's a link in the slides that will open the door to all sorts of new fun sequencing stuff this is the most interesting graphic i could find when i googled like permutation or ordering i have no idea what it means but i thought it looked cool okay and again another really big thing that we're doing here with bedrock is we are reusing the e2 api so if you are working on uh mev stuff for eth2 all of that is going to be able to work on optimism with very low overhead right this is a part of our whole evm equivalent strategy so that's a big deal so if you're doing that i also really encourage you to check it out okay cool oh look at that see it's funny when you get emojis on a different um on a different uh thing anyway this looks different than my mac i'm looking at this like what the heck is that okay so now let's get into the actual meat of this talk so it has been about two years now since we put out this post called mev auction and a lot has changed since then but looking back this was a pretty cool deal the first thing that this did was it introduced sequencing right so now that seems like a very commonplace thing but two years ago it was not and you got a great rundown of um from ed on what that is so i'm really glad to not have to go over that but the other thing that it talked about was the idea of an mev auction the idea that the ability to sequence should be sold by the protocol so that we can have a measure and a redistribution of the mev that's being extracted so if you have mev uh that is just being extracted by a minor and the minor gets all of it this is not nearly as good as if you're requiring the minor to pay for the right to be in that position because now they're competing on a margin and a lot of the mev can be redistributed so that is super super important i'm going to talk a little bit about some of those implications there later but i just wanted to reflect on what mev and l2 has happened in the last two years so what's been going on since this came out well one of the things that happened was that flashback stole our damn name right there's a horrible name collision between me the auction and flashbots auction okay not really horrible not really horrible i love the flashbots people but it is important to um say that these are two different things right so when you see a flashback auction or the mev auction that we see on l1 today this is basically someone who is going to have the ordering rights reselling the ordering rights based on the preferences of some actors in the system so that is different from an med auction as we originally talk about it here and as optimism will push forward on which is all about selling the right to become a sequencer and redistributing the profits that they're going to be able to extract okay so that's one thing that's happened is flashbacks has exploded i don't know what percentage of the hash rate it is now but i know it's like 90 or something like that right another thing that's happened is that emmy people have started to hate mev i don't know if you all noticed i mean that's a funny thing to say in this crowd because i know we all are very interested in it but the sandwiches came along and really changed the game right before we had saw a lot of maybe that looked a lot like arbitrage and different things and now we see people getting upset that they were put in the in the meat of a of a tx sandwich and getting very upset and then of course the only thing that's happened is pretty much everyone has started sequencing all the l2s are sequencing we have a bunch of sequencing projects that are actually being built into l1 now which is really really interesting as well um and so that's been a real cambrian explosion and really cool to see okay so in general let me just talk about what how how optimism looks at mev and what we want to do about it okay the first thing that we need to do obviously is prevent what mev we can right what that means is a little tricky right but there's definitely heuristics for bad types of mev that we can get around that we should do so right and ed talked about an approach on that which i'll touch on later um and there's others as well and the other thing that we think is just as important and perhaps more important is what we can't get rid of in the mev landscape we must one democratize the ability to extract that and two we must extract it not to the people that are searching but to the protocol itself this is really really important one for protocol security um and two because we want fee revenue to go to the right places so the last thing that we're going to do is we're going to take that extracted that protocol revenue and remember med is unavoidable even fees are technically med right so it's not going to go away and we must redirect that protocol revenue towards some source so optimism spends a lot of time talking about retroactive public goods funding and it's our belief that l2 is a unique opportunity to start directing the funding of uh the revenue of protocols to the right places and not just to a big set of miners running huge warehouses or validators running you know exchanges and i just want to call out that i think this i predict that this will start to become the great political debate of protocols as as we push forward what do protocols do with the revenue that they generate this is going to be an extremely i frankly i think contentious topic i would guess and this thing is extremely important to us and it seems like the biggest uh sort of political long-term uh factor that is going to be a huge point of the discussion and we can't screw it up so that's a big deal fun public goods yay what's that non-profit no of course not uh well uh uh and of course we think that most people that are non-profit today should be for-profit but that's a separate that's a separate one that's a separate one if we do all that now we'll never get through okay okay so what hasn't changed in the past two years one thing is that mev has not suddenly become solved or disappeared mev is still fundamental right i mean this is trivial to say even with the existence of transaction fees but it's going to go beyond that and there's going to be other sources as well the other thing that hasn't changed is fairness is still not universal right you show me one person that thinks the protocol is fair and i'll show you another person that doesn't right so that's gonna be a challenge look this is a you know i like saying spicy things so i'll say in that spicy way this does not mean that heuristics aren't useful but and clearly there are things that we should try to agree on are much less fair sandwiching is one example but especially at the protocol level as opposed to the application level a universal definition of fairness is going to continue to be hard to seek the last thing that i'll call out is that honesty assumptions are still dubious and especially ones where uh you know as opposed to a rationality assumption these things are going to get tricky and i want to point you all okay honestly when i wrote this slide i i wanted to point you all to mev what do this is an incredible incredible hugely important blog post by phil and honestly he gave mev what do next as a talk this morning so if y'all were not in dark mode this morning actually i think i would probably replace this slide with that talk because that's like kind of like an updated version of this but this is kind of what's been going on from our perspective that hasn't changed in l2 okay but obviously some things are different some things have changed probably the biggest one is that since we wrote that post l2s and sequencers are now in prod pretty much in mass we have a ton of l2 protocols that are doing this and the rise of cross domain med is something that's come into the discussion as a result so um if you guys didn't see alex's talk um earlier from the flashbots team uh definitely go check that out or check out their paper where this image is from but it's very important to call out that the existence of cross domain mev is a market pressure like many things related med towards centralization and in fact differences in uh ordering between domains is also a source of med so this is another reason that we may say that uh meb is not going away and so we must react to this right this is definitely like i don't know if you guys have been here all day in the dark mode room but i've been scared sitting at some of the talks in the dark mode room thinking that we because we must react to this right there that we do not want to go into a world where the optimal path forward looks like centralization and is incentivized towards centralization and and becomes centralization and then uh the problems with centralization arise so that is really important not to have happened okay another thing that's happened and we got a great overview of one of the fair sequencing models from ed just now is the rise of fair sequencing and i do want to be clear this is some extremely extremely important research i will say though that it is also very early and along with being important i think it is contentious and will continue to get more contentious but effectively what we're doing here right i'm glad that i don't have to explain this in as much detail as we're distributing the ordering right we're taking now a set of parties we're having them all give an order and we are combining them into one sort of ordering based on that set so one meme that i think is important to the spell that i've sort of heard is like an optimism is gonna do this meeba thing and other people are going to do fair sequencing and you have to sort of choose between these two and that's not the case right fair sequencing is a good way to reduce some classes of mev but the two are not incompatible and really what you're doing when you do these fair sequencing protocols is you are shifting the problem of sequencing at one centralized party to the edges but individually the problems are still going to exist at those edges and the last thing that we're doing that also touched upon is that we're going to start getting governance involved and believe me i think this has a potential to get really really hairy fair sequencing protocols rely on an honesty assumption which is not possible to distinguish certainly in the protocol but i think even in many cases out of the protocol from from malicious you can't really distinguish an adversary from someone who's got some weird networking going on and so the introduction of governance is a new thing for l2 right relatively speaking because in general what we want to do with l2s are work towards governance minimized systems and so it is definitely the case that uh including fresh sequencing in the mix will make the sequencing become a big part of l2 governance and it's really important to keep that in mind um as we go forward okay switching gears a little bit though another really interesting thing that has come about which we were not aware of i think when we wrote this is that anyb searching has a lot of potential to solve problems within the parallelization space and so this is really really really interesting basically if you guys are familiar with the sort of flashbots dos problem where you have a bundle that pays to the coinbase at the very end of the transaction and you want and you you know you basically want to find the set of transactions that satisfy that condition being met but you can't find it out until the end and it's this dos vulnerability so we have all this work being used to solve for it it turns out that that problem is almost the exact same problem that we see in parallelism so imagine you want to take up you have a huge set of transactions and you want to find an ordering for them and a set of those transactions so that you can take chunks of those transactions run them in parallel and know that they don't touch each other this is a really powerful thing because it lets you increase the throughput of your system and that's really really really useful and uh the reality is that that the problem statement of finding those is the exact same problem as the med sort of coinbase dos issue so that's really really really interesting and really cool and i linked here in the slides a talk on this that i gave last year so this is something that we definitely did not realize um and i want to make one other comment on the parallelism we are very bullish at optimism on parallelism in general and one thing that we frequently see is there's been some analyses that basically look at the ethereum chain and say okay if we attempt to parallelize the ethereum chain how much faster will it get and the number is like 40 faster or something like this thanks for the time check i love that sign it says i have we've had enough so one thing that i want to say is the reason that you only see 40 when you try to paralyze the existing ethereum chain is because the market for gas on ethereum is built as if it is single threaded and so gas markets are very hard to change on l1 because these markets are credibly slow but you can imagine a world in which adding a transaction has basically zero gas price if it starts using a new thread that isn't being used by anyone else and you should be charging less for that and so that forty percent decrease um that comes from per or decrease that comes from parallelization really should be like a ten a five percent if people on the chain were being correctly charged so if we just look backwards at the history of the the ethereum chain we can't actually say what parallelism increases will really come from that and they will look much lower because if you don't charge people based on parallelism they're not going to use it like it's parallel okay so uh a few a few fun things to end on what will the future hold so definitely it's the case we think that these med search networks are probably going to go recursive and start finding parallelism so that's very exciting there's some trade-offs i'll talk about at the end but another thing that's of course going to happen is we're going to start going to see the rise of what are effectively going to be political parties associated with monitoring emory mev and the fair sequencing services that are being provided so this is something that's really really really interesting and i don't think it's as simple as just saying the community is going to talk about it the uh the checks and balances on sequencing in systems are is in itself a extremely political thing and there will be literal i think political parties that will exist talking about this and so it's really important that we start thinking about that now and trying to figure out how we can do this right so you know one interesting thing also that i think we'll see from this is like political sabotage so sorry you can try to see if somebody else is getting uh is you know like broadcasting a large number of sandwiches but what if their political opponent starts sending transactions to different sequencers in different orders so that it looks like one party is sandwiching you right so you know this is going to be a serious topic of political contention i don't think it's just going to be as easy as the community sits down and talks about it and figures it out right there's going to be a lot going on there um does anyone watch westworld okay i will say all everything but the first season sucked but i will say that in the last season they tried to do something really cool which was create this super ai that had basically dominated all of the um like global financial markets and become this super intelligent being and so maybe what we'll see in the future is that uh you know med will lead to this and the searchers are really building the the intelligence the singularity okay so parting thoughts there's a massive trade-off ahead of us one thing that i even talk about is if we do fair sequencing and it increases latency does that actually mean that the properties of these transactions that we have to post have to have allow for larger slippage bounds so that even though it's harder to do uh manipulation on the order you can actually make more if it happens another one is when should we use cryptography and economics right when should we do the threshold encryption stuff when should we do the fair sequencing what does it mean when we combine them and another one is going to be this parallelism efficiency trade-off right because if we can say right that we're going to 10x the throughput of the chain by having mev searchers search for it but if we also say we want fair sequencing when we want to limit that that's a trade-off right so maybe it's going to end up being a choice that app specific chains or other chains make is are we going to go more efficient and get more parallel throughput or are we going to have fair sequencing right really interesting question and the big big big big question that that has definitely had is how are we going to govern these sequencing rules right i can't emphasize enough that this isn't going to be clear and at optimism we do think that this is probably going to be a good chase for place for on-chain governance but there will be huge huge aspects of off-chain governance that influence this and huge huge huge political stuff and in general what we do with the revenue on these domains i really really do believe will end up being one of the great political debates within the choice of domains right we're entering a multi-domain ecosystem we're so early that the competition between these ecosystems doesn't maybe look how well in the long term i think that uh whoops i think that revenue distribution and what happens to that is going to be one of those politicized things um okay that's all i got for you all as always we're hiring go check out our stack if you're building any stuff with if you want to move to l2 you can do it with all your l1 stuff and thank you very much for your time [Applause] [Music] you 