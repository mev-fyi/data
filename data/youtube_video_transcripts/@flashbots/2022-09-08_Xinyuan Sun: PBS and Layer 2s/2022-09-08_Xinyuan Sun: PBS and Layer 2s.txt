let's talk on rollups and maybe or you know roll-ups are not exciting enough so i'm going to talk about how the price discovery in the u.s cattle market goddess incompleteness serum extortion and monarchy are all interrelated and the conspiracy all goes back into the ethereum ecosystem and roll-ups specifically so let's start with the easy piece you know price discovery in the u.s cattle market so suppose you're you're some guy and then you want to buy some cattle and then you enter this market people submit their transactions their market you know decisions encoding their preferences to a mechanism you know privately and all those agents have interdependent values right so for example you might value this cattle lower if you know the owner of the ranch that produces this cattle are also at the same time running 10 other other ranches that does roughly about the exact same thing you know you know and then maybe the ranch owner's name is ian and you don't like that but anyway uh so so if you learn that uh so it's kind of like multiple people are transacting in a market where each person has a blindfold with private information that are only you know testing knowledge that they are they themselves know and so then suppose that after a time period the mechanism computes optimal preference allocation state change and allocates catalysts to people and then at this time the the information is made public there's a public information review period shortly after every you know agent every transaction user receives your transaction received right so then since we know that those those users have interdependent values then after every time after a public information review they will converge their view of utility will convert to a single view and thus it creates a lot of let's say arbitrage or like liquidation opportunities for them so then if we actually draw a graph of the mev within a cattle market with respect to time you will see that there is a strong uh shocks deep demand shock for an ev at the beginning which is mapped in orange the burst of public info or permission smeb and then after that suppose the mechanism takes in other flows from a new transaction users and then um every time since we know that you know we re uh other flow comes rough roughly like randomly and then every time we receive other flow it adds kind of like a super linear growth into the already existing profit that we can get from the existing other flows right this is intuitive as uh you literally have much more action space by having more other flow you have you're able to do more ordering optimization so that's what an evt graph would look like so then let's now go into some more justifications about why this actually applies to roll-ups and ethernet ecosystem that we're seeing now so suppose you're leaving a world you have a lot of daxes that's where most of the um mov profit comes from and then if you take like the derivative of the previous graph you get roughly you know those two sides first you have the orange side and the green side green side you see uh you know super linear growth coming from randomly randomly incoming other flows and then the orange side is the easter supply is the burst of amiv and long story short if they take some data from the federal reserve which started the uh the duration of the uh orange part i.e the uh burst of mavi every time after public information review which is the price discovery then uh you can see that the the supply uh the burst roughly lasts uh 100 milliseconds in forex markets so if crypto is anything like that it should also be in the scale of a 100 millisecond um yeah and then what about the green part in the green growth if we actually take the all of the blocks that has arbitrage and ev and then alter them by the number of transactions within them and then the y-axis to be the um average arbitrage profit we can see that the arbitrage profit grows more than what we have you know have a super linear relation with the number of transactions uh and then after some refinement you know by kicking out the data that includes he launches or you know net profits we finally get this which you know clearly shows that it resembles the uh green party in the curve um yeah so now with our justification we discuss how this is relevant to you know to maybe how to roll ups so uh we argue that you know using this abstraction uh it helps us to take the upper bound and lower bound on determining the allocation duration which is the time that the auction should run so relating to mahima stock just now this should be the uh quote unquote fair granular fair granularity duration where the um where within each batch the ordering is decided by an auction so let's suppose we have some fast finality time some price impact duration to bti and minimum allocation time to bta then we argue that the allocation time should be greater than the price impact duration and smaller than the uh fast finality time uh whereas you know remember that on roll-ups there isn't a notion of block time so the real block time is actually the time that it takes for the roll-up sequencer to do a public information review which is the time it that it takes for the sequencer to make the sequencing data available on some data availability layer so um yeah so then after we have this abstraction we now think you know why is this equal why is this inequality true you know uh so then uh what really is is that it is an allocation of a resource where the resource is what specification should the next state satisfy i what should the uh what is what should be the property then the next day then does the next day satisfy so if we actually map uh you know suppose every agent has a utility attached to a specification and then we map the specification onto a lattice where the relationship is defined by semantic entailment as we see here then we see that the meb we're seeing the supply bursts which which is ti there are many incompatible demands for any ie incompatible specifications on state requirements and and you know every time after the birth there is a long time long term accumula slowly but surely super linear accumulation of other flow so then uh to to maximize the welfare which you know the weather is also parameterized by the uh latency as you know you you have less utility if your transaction is included later so then given this burst of intra temporal income incompatibility and then you know inter temporal compatibility then we need that the uh the allocation duration to be greater or you know at least greater than the um price impact duration which you know should be 300 milliseconds and then you know we we kind of also want to bound the fast finality time to make the agents or make the users to wait less right they want to get included faster so then on rollups that requirements is roughly one second so the takeaway here is that the fairness square animality should be greater than 300 milliseconds and less than one second if we re if you really want agent to have a very fast you know received for their transactions um yeah so the specific way to implement this is to have the discrete time so similar to similar to how frequent batch auctions work and then so to now we have discussed uh one of the unique properties that robs has that is relevant to mue which is the highest throughput and absence of the idea for block time and we see that uh you know using the abstraction of price discovery we see that uh how we can settle the granularity of the short allocation time so next we see another unique property that the rollups has which is the increased sharing of a single domain for separation of rules because rollups they themselves is a kind of like a specialization of labor right each roll-up offloads some tasks to another layer and so it's like a you know specialization of labor where each you know within each society which is the uh the mega domain each domain becomes more focused on onesie so then you know of course if you have a specialization of labels and you need some coordinator to coordinate different specialists so uh this then how much mvv will leak from the actual specialist domains ie the rollups to the shared layers so for example we all have heard this like you know modular blockchain mean that people have been sharing so then uh you know here we try to answer we suppose that we have 99 of activity on layer two and uh then how much i maybe would layer one which is the shared settlement layer or any other layer still have you know how much do they have to have one percent or something more than that something far less um yeah so here we we first partially answer by saying that by devising a shared layer for different roll-ups we only partially solve the problem namely we only take back the utility that was surrendered to the moloch by the uncoordination between those roll-ups and then give it to mev so to see this is that suppose you want to do some cross-string swaps then traditionally you can do this easily so now you devise some marking maker bridges which allows fast latency and it actually works pretty well but then how what's the business model for bridges is literally like being a better market maker and you stress and maybe over there so then that is one you know very realistic example of how i maybe can look into the shared layer between rollups so even though with 99 of activity on the uh on the two domains which are roll-ups you still leak more than much actually much more than one percent of mev under the shared layer of course as i noticed that the moloch that you previously surrendered to need not to be a total chaos it can be just a bad coordination mechanism so for example you have a mechanism m prime allocating a resource a but you uh then but then you are using m prime to approximate and which allocates resource b so then first of all you bring a cost of approximation that you induce in the process of using m prime and then the second thing is that by using m instead of m prime you have achieved a greater amount of welfare that you couldn't have achieved using the approximation so relating to tarun's talk uh actually he talked way back before you we know that there has been some price of anarchy within selfish routing so this would correspond to the case that uh a coordinator routing the tax trades in such a way such that they all get better execution than if they submitted to a fair ordering sequencer um yeah so to put this nicely uh i suppose many of you have have played the game of uh sakura here you can see that and and within that game there's this boss called guardian eve where you cut his head it still moves like a zombie and fights you so the head you that you cut off is called moloch and then the actual guardian ap you can kill you can slay the moloch but the moloch's curse lives on and then you know actually virgil griffis the person who wrote ethereum is a game-changing technology literally uh he didn't consider this and thus um he didn't consider me at all right so mev will take back the part that you have eliminated through slaying monologue you know even more suspenseful music playing you see that you're in in different domains on roll-ups you have dex routing you have cross-string swaps you have liquidity fragmentation those are all problems where there are uncaptured quote-unquote ev that were surrendered to moloch or you know you could say that the muv was captured by the monologue you know but then you know you can solve them by then for example using cross-chain uh market maker bridges and then you know he comes in and he he um makes uh the monologue look like a rabbit besides him um yeah so then we can call this this is where like the incompleteness theorem uh you know shows the relevance here so the worst case that the the worst case uh i maybe that we should have here is that the user should be indifferent between paying their taxes to the monolog or to the maybe assuming that you know the maybe profits are centralized and non-distributive so then in the worst case we have that the shared layers having equaling to the total amount of inefficiencies caused by the uncoordination between specialized labors which is exactly the price of anarchy compared with the original uncoordinated coordination between domains which you know could be you know just they use some very crude cross-domain communication messaging um mechanism which should be a lot uh so to concretely see this we uh we first assume that there exists a shared layer for cross-domain coordination where the co where the cost of using it is very small then uh since this coordination mechanism is a state transition mechanism then we can encode all of the other domains that we were trying to originally coordinate onto this shared layer domain all together and then by the definition that use the cost of using it is small then we have mev is smaller than epsilon for all layers for other means but then of course this contradicts with our observed reality and for those of you who read the revelation principle in mechanism design you will notice there is a similarity between here right so over there you are you're making a mechanism incentive compatible by simulating other domains and here you are making some mechanism have no mev but stimulating that domain um yeah so a concrete example of this paradox of low-cost coordination layer is that when agents collude they are indifferent between using the current mag the current domain or use another domain since they pay exactly the same so when one agent is a beneficiary of the current domain then that agent has the incentive to only use the current domain as a collusion mechanism because it internalizes the revenue for that agent okay so then all in all our answer to this 99 activity answer should be that the shared layers including the layer one which the uh rollups offload settlement to should have maybe equal into the total amount of inefficiencies which is the price of energy compared with the original you know if the share layer didn't exist that's that is like the equilibrium state you took and which in turn equals to the amount that moloch took but then you know you might ask how those share layers including layer one how these extract like do they all like just be marking makers you know the market for example in cross chain swaps swaps you're literally a market maker for like you know market others which makes sense but then for you know some share layers that provides data availability or provides settlement provider security do they market make an abstract notion of data availability or you know market making abstract notion of security market is that how uh yes sure that is you know actually a very good useful notion but here we are gonna take a detour and talk about how you can actually in you know have this by extortion the way is that every uh coordination layer that's between and that's cross domain can just you know use tattoos because tattoo is a good way to signal credible extortion and you know by saying that oh i have the ability to enforce my extortion so you know all of the you know big market makers just have to tattoo like this this guy in the sauna say that give me your mev or i will see you at sauna and interestingly you know searchers actually do go to sauna a lot of them so this is you know maybe this has already been happening i would not name who but you can see you know there's a discord message from an actual search who you know might be doing this um yeah but then uh jokes aside we should see that we argue that there is a huge incentive for agents to extort and there is a huge incentive for agent to centralize which is to vertically integrate this centralization could be cross-time cross-domain and then certainly the extortion can be made credible by centralization of coordinators where the coordinator is defined to be whoever executes the mechanism in the shared layer that roll up roll-ups offload tasks too so for example it could be the coordinator of the ordering you know mechanism for crossing executions assessment layers security liquidity messaging yeah and then [Music] sas we see that coordinate extortion can and will happen through decentralization of course we have uh you know i have some and i total evidences for this existing so i'm mildly worrisome [Music] yeah so this is where it relates to pbs you see if we map all of the uh see all of the sequencing mechanism design onto a 2d plane we will see it would look like this pbs has inter temporal decentralization so that by its nature if we aggregate you know builder by the weight of its building power we will see that if that weight across time is more centralized then we can say that the coordinators can make a credible extortion [Music] and then the secondly they have a great incentive to do so because recall from the previous super linear growth from other flow based and maybe we see that as the number of transactions in a block size increase we have uh the number of mev growth very fast and you can actually check how this data is from unbounding network and the analysis is done by mi pasa [Music] yeah so the answer to this a more refined answer after talking about extortion we can say that yes um the shared layers will have much more than you know one percent of family despite 99 percent of activities on layer twos so two cases uh first is that the roll-ups can extort other domains because roll-ups naturally have a very small permission you know right now it's all permission uh sequencer set which means this is super centralized and secondly the other shared layers could extrude roll ups this is the eurocase of you know how the layer one makes layer two pay for settlement fees to pay more settlement fees um and then the sec the second one uh we argue we further argue that you know you know you might ask you know if i do extortions and that's bad for social norms you know if you who say something bad then we we argue that the extortion can be done implicitly using something akin to preference curves where the each agent encode their preference prior to sending to the mechanism into the transaction and then send the curve together with transaction to the mechanism so the curves are basically changing in this way are basically changing the focal point of inclusion and the way of inclusion ie's ordering sas making the extortion implicit and easier for the centralized coordinator to do so a bit explanation here is that you have state you have time and then you have uh an abstract block blockchain time where the v the the plane intersecting in this like 3d uh dimension yeah and then here comes some monarchy when you have too much extortion then what's like the end game what's like the end game like when we have all those crosstalking and maybe existing we argue that the end game is monarchy the endgame of extortion is no extortion so traditionally why monarchy why people have been advocating monarchy is that the king always wins so that the king has no incentive to do anything malicious right because if he did something malicious then he's gonna you know get the same result get the same payoff anyway so uh monarchy in crypto traditionally has been uh used to make systems incentive compatible because so for example the coordinator in is pow which is the miners they have the ultimate power of deciding the ordering so they are kind of in a position of monarchy and then you are recognizing monarch their monarchy by saying that if we give them all of their profits that they could have got if they were a sophisticated ami researcher then they wouldn't deviate and that's they can just do an easy job so this is the argument saying that monarchy makes crypto more scalable and more secure in the sense that it has everybody has lower barrier to become king which you know and this scallop scalability and incentive compatibility generates huge upside especially in the longer term despite you know you are monotonizing someone but uh so now what should we just like monarchize the collision of the coordinators this doesn't sound right right because reorg is obviously a bad thing that we should prevent and reorg is essentially a cross-time coalition formed by the coordinators to do extortion except that you know some of the chroniclers are you know the time can flow backwards so what's the path forward we say that the monarchy profit actually depends on the market structure we can do several things to change this first of all you know the king the king receives a tribute equaling to the price of energy that it could eliminate which is the surplus it brings to the correlation of all of the users in the market plus any permission lesson maybe because users compete and such the profit will in the end be completed to be given to the monarchy so yeah and this and then the price of energy is defined as the where the original equilibrium is the uh the case where everybody operates under a dummy specification on state allocator so for example fair ordering solution or pga game things like that um and then what a better way is to focus on other flow so for example you separate the convex and concave advantages from those aristocrats and this allows us to build market structures in a way such that convex advantages are given to the power of the people and the rest are commoditized so for example you can union the demand so in this case you create a union of the other flow and this allows you to commoditize the supply which is the service that the block builders are providing or like the validators are providing or like the other share layers that are providing so the major takeaway on a social level is to say that crypto is the same as politics and government we make the demands ovarian using similar ways that we make the individuals ovarian yeah so now we have covered the unique properties of roll-ups starting from plastic discovery to incompleteness which leads to extortion which finally is us to discuss monarchy with completely this cycle of crazy conspiracy theory that i bet you didn't see this before yeah so some references you can see our model the data that we use and we have incoming mega posts of anthology of ideas iron run mev you can see the index here stay tuned and yeah welcome to talk to me about all those relevant ideas on my twitter i think that concludes the agenda for today thanks for coming the idea for today was really to sort of expose smart people uh hopefully smart people to the tough problems that are out there in mev as you can see they're a lot of open problems um and we could like the people working on mev research can use all the help they can get so get contributing ether research posts out there the mev boost github is out there flash watch launches launched a website today so go have a look um and get cracking these problems are hard and then test yourself and contribute to like the future of blockchain thanks for coming [Applause] 