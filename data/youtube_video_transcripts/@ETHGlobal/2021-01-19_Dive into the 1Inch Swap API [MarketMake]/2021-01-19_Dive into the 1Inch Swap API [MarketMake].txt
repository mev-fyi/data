great thank you everyone for joining we have kirill from the one inch team who's going to lead us on a deep dive into the one inch swap api so i'll let you take it away kirill yeah do you need to wait other people or can i start let's get started and just a reminder to everyone if you have any questions for korrell don't hesitate to unmute yourself and just jump in okay great hello everyone my name is kirill i am the lead engineer in blockchain sphere in one inch i'm doing pathfinder algorithm smart contracts front-end and lots of work in one inch and today i'm gonna teach you how to work with the one-inch api the one-inch api allows you to get quotes swap quotes and receive the call data the next you need to pass to the blockchain and execute the swap we have the documentation then that i will send you to the [Music] chat later and also we have the swagger api that allows you to trigger some methods and try it in ui let's start the first method that i want to show you it's a quote method this method allows you to get the swap quote for example you want to swap from token for example it will be if you have a nice shortcuts here and for example i want to swap ethereum to die and we just need to pass the contract tokens addresses in the fields and enter the amount in way for example for one ethereum this is three required options to get quotes and let's look uh the response here we are here you can see that the best route of exchange one ethereum to dry goes through uni swap and we got this amount of dye in weight 136 and if we increase the source amount for example for 100 ethereum we will get interesting uh splits and path we swap from wrap tether to private micro market maker next we split the received amount between shell and curve exchanges and next we do another order uh this private market maker and we got the best price it's about uh the this amount of die yeah it's really a small slippage little slippage and let's look at other parameters uh if you want to integrate the api and get rewarded for using it you can set your custom fee for example one percent and this percent will go to your wallet address during the swap uh this amount you will receive from the search talking amount you'll get for example 10 firm from this swap uh one ethereum from this swap and the user will exchange uh 90 ethereum yeah and also you can choose which protocols you want to use during the swap you can make this field empty and by default we use all protocols but if you want to swap on the specific protocol for example through kyber you need to set the kyber and your path will find the best swap path between kyber reserves and also you can set the gas price field our pathfinder uh taking into gas account costs and we find the best uh rates uh using gas price also for example if uh gas price today will be less than hundreds of gva the swap off will be really interesting and we may have a lot of swaps in one swap but today gas price is very high and yeah you can choose yoga's price to find the best prices and don't pay a lot for gas and our parameter it's a complexity level uh our finder can split your path between different connector tokens for example if you want to choose two connector tokens for example ethereum uh usdc usdt and next to die uh you need to set um two here if you want uh just make a direct swap for example with kyber you can just set 0 to the complexity level and you will have a direct swap also you can set up to 5 connector tokens you can uh use any connector token that you want by default it's about 10 that cut that contain of ethereum wrapped ethereum die usdc usdt wrapped bitcoin and other popular cryptocurrencies yeah and um what else interesting here also you can set up parameter parts this parameter can uh divide your source amount by different parts for example 10 parts your 10 ethereum will split it by one one one one etc and uh we can find the best path this splits uh of your and split your source talking amount um as as we see in the last response and also the same four main road parts uh this parameter allows you to split between different paths these parameters this parameter split in one path uh between different exchanges and this parameter can split your search token amount between different paths between the different combinations of exchanges and let let's look how to get the swap call datum uh here's the swap method and you also need to send to the api token addresses source talking amount and the next two required parameters it's a from address and slippage from address this is the address from which the call will be executed for example if you're doing it from your wallet you need to set uh here your wallet if you want to build uh some arbitrage bot or something else that iterate through another smart contract you need to set here your smart contract address to estimate the transaction with this amount of other i will use zero address because uh this address have enough this this address has enough ethereum on his balance and next we need to set slippage it's a percent that protects you from front training attack and also if uh market move fast uh the price may uh changed during this the swap execution and you may uh receive less than uh received from quote and if you want to protect you from losses you can set here the percent uh with the with the uh okay and let's try to receive the swop call datum yes uh in tex property in the response you can see the all required fields for ethereum transaction that you just need to get and sign with your private key so from address to its one inch contract address and call data of swap and also provided value gas price by default it's a fast gas price and estimated gas uh if you build uh something with um another contract uh if your proxy this call through another contract uh you need that i said before to set your contract address uh to their from address field and also don't forget to disable estimate because if from address doesn't have enough funds or doesn't have approvals then you will receive an error and not if you want not to estimate the transaction you just need to set this flag to true and let's look to other options you can set protocols as in quote method also for merchants if you would like to build a merchant processor you can use this field of the destination receiver you can set another wallet that will receive funds after their swap also you can set the referrer address that will receive fees from swap your wallet address for example and what else also our api uh supports cheap burning chiga stocking allows you to reduce transaction costs and with our current high gas price it's really good option to reduce your gas costs and it will if you use cheat token uh uh the gas costs will be reduced aft up to uh 43 percents and to use this option you need to have uh approve uh for the one inch contract a proof of chi token and also you need to have some q tokens on your from address uh what else also api uh support supports partial fill mechanism this mechanism is unique on the market and if you uh if the market have high volatility the market moves fast you can set this flag to true and if you need to buy some token uh or sell some talking very fast and you uh do and you really worry that price drops drops fast on another way you can set this flag to true and your transaction will be executed partially for example one road will failed and you will receive back your funds and another road will execute it and for example if you want to swap 100 ethereum to die you'll and you have the split 5050 you will uh the swap will execute the transaction execution with um 50 of ethereum to die and another 50 uh will back to your wallet yeah and what else that's all uh swap method not so hard you can easily integrate it to your code it's just the rest api where you need to receive the call data to sign it and execute it on chain and you will make the swap with one inch exchange and let's look at in our endpoints uh here you can see the endpoint that returns all supported protocols we have about 43 supported protocols you can see all these protocols using this endpoint and also we have the endpoint uh for supported tokens uh you can look at these tokens you can use these tokens with your application uh build it on top of one inch and if you want to use your custom token feel free um if you set the token address in the swap method that we don't support it's okay uh all needed data as decimals will uh fetched uh from blockchain and uh our pathfinder algorithm will find the best rates on the market okay i think i asked all about the api i will send you links for the swagger documentation and git book documentation and if you have some questions feel free to ask me sorry just one question if i may on the amount uh about the amount if it's an integer and way right so is it possible to express it in e18 that is uh like eth because sometimes you know when you fill in the amount maybe you have an extra decimal or there is a chance of a mistake uh could you repeat the i talking about what what uh what i mean is in terms of the amount amount you said the amount is in bay yes is there like a converter or something in there to express it in eth or e18 uh convert away i i can't understand sorry uh what i mean is it's 18 decimal places so there is a chance of making a mistake in way so do you have another parameter to pass it as instead of b oh no we have just the parameter that support of a and if you want to know uh um the decimals of token you can just uh call tokens and point or when you uh call the quoting point uh you receive um this object where you can see your from token and destination token and here you can see the decimals uh yeah okay no it's okay yeah i will use the converter before i pass in here yeah no problem thanks do you have another questions maybe about the tasks possible to i sent to you all documentation about the api feel free to check it and ask questions in discord channel great thank you so much kirill this is super informative and i'm sure a lot of people are going to be integrating one inch into their hacks cool cool great so we'll see you on discord 