foreign [Applause] [Music] I'm a faculty member at the University of Washington Seattle also uh working on this project called eigen layer today I'm here to talk about how Mev intersects with restaking and the subtitle of the talk is mycelial networks at the root of the Dark Forest so Mycelia are these like fungi that help connect and interconnect the roots of various trees basically helping them pass along nutrients to each other so we think of risk taking as uh basically something like that and in this talk we're going to kind of examine how Mev kind of Mev intersects with restraking and how we can think about it Okay so what is me being right one way to define Mev there are many different generalizations of this but one way to define nav is it is it arises from the freedom of block proposes to order transactions so the protocol uh for example in ethereum the consensus protocol constrains various actions of block proposals but the there is still a remarkable amount of Freedom when it comes to transaction ordering and this gives rise to both markets as well as some negative externalities and one example of a clearly negative externality is reox so for example if there's a block proposal and they see there is some like valuable transactions in a previous blog they may want to re-orb the chain because of this and um while something like this is uh much more likely with proof of stake and much more difficult with Provo provokes much more much easier approval work and more difficult at proof of stake because there is a certain amount of voting accumulating in for example in ethereum today uh one way to mitigate this is by using uh things like single slot finality so in proof of State what happens is like once you have enough votes cost on a given block then you can actually move on uh and finalize the block on any finality which breaks if two blocks are proposed with different orders then the the block proposals can be slashed so one way of thinking about it is the mitigation is possible the mitigation is possible because there is a certain amount of staking and there is a certain amount of slashing and one way we can think about this is if we want to generalize this so what is happening here is single star finality is basically a commitment from a block proposals to hold a certain rule even though they have a certain ordering Freedom they cannot exceed a certain Bond on the ordering freedom because they've made a certain commitment in the case of finality a commitment not to re-arc and a commitment not to re-arg is enforced because of slashing and essentially one way of thinking about how to generalize this is if there were a mechanism to do programmable staking and slashing then block proposals can commit to more such rules and this gives rise to new kinds of terrible commitments that block proposals can make that gives rise to more interesting uh mechanisms to manage me so before we go and explore some of these interfaces I just want to give a high level overview of what is restaking through the lens of uh eigen there the first three staking protocol so what happens in eigen layer is if you're an ethereum Shaker you know block proposes are ethereum sequence so if you're an ethereum sticker you stake in ethereum and then you make a credible commitment on the eigen protocol it's just a series of smart contracts on which you can set your withdrawal credentials and in when you set your virtual credentials you can basically uh opt in into new commitments with the same stick so you could be running metal wires but you could also run more particularly commitments on how to run your transaction auditing preferences and here uh you know just to give a kind of mental model for how this uh this collector works is it's a really a two-sided Market one side is ethereum stakers who opt in uh into securing these new services or to holding by the ordering commitments each middleware contains like an off chain container that you download and run and it also contains a new uh smart contract that you have to write eigenlet itself is just a smart contract on ethereum which which is a container which is Wholesales withdrawal credentials and uh the iconic contracts can talk to any middleware contract and enforce the series of like registration payment and slashing conditions so that's the Primitive of restaking it's called restaking because you're staking in ethereum core as well as uh opting into other kinds of commitments okay so what I'm going to do with the rest of the talk is give like a few examples of you know what are the possibilities at this interface I'll also talk a little bit about what are some negative externalities that we want to think about and mitigate in this uh interface one example is uh event driven Activation so what is going on here is imagine that there is a uh my Landing protocol or there is let's say crypto kitties and if you're on a crypto PD there's you know there's this concept called the birth of a cryptocurity you know learning protocol there's a concept of either refuel Millennial collateral or liquidating somebody and these are essentially event-driven actions even driven actions basically means if the state of the ethereum protocol is something then uh the ethereum blockchain is something then a certain event needs to be triggered this is like a Cron job in Linux and right now we do not have a native blockchain framework to do this event driven activations all happen potentially off chain and what you can do with eigenveer is if like clock proposals are restated on eigenlayer then they can opt in to fulfill certain event driven activation services and basically what and if the transaction that you need to trigger is is a function purely of the ethereum state then what happens is if the uh since the for example in this case the uh collateral refueling or repayment or any of these actions is actually a deterministic function of the ethereum state then the block proposer who's creating this block actually has made a credible commitment on this imagerun activation service then essentially they have to include that liquidation or cryptocurities birth or whatever that is otherwise the proposal can get slashed so you know what is happening here is uh there's already markets for this for example there is gelato and keeper and chain link Keepers and so on which actually do services like this but there is no tethering between that service and the block proposer and so what happens is there is a non-attributability if a gelato triggers the transaction and the transaction did not get included it's not attributable whether gelato actually triggered the transaction and like the proposal didn't include it or something else happened in the middle because things are not attributable you do not get like strong crypto economic guarantees of these actions but once he had strong crypto economic guarantees of these actions he actually changed the structure of the protocol quite a bit because now for example what happens is like you let's say if you know that like uh people can set up like collateral refueling within a few blocks because there is some significant fraction of proposals opted into this Market then what could happen is uh for a margin lending or for stable coins or any other protocol the over collateralization ratio is basically just the pan to liquidation so because you can have very tight time to liquidation you can actually build much more efficient Financial protocols if you had event driven Activation so this is one example of how Mev and something like we staking can interact with each other um I give another example which I've talked about before called partial block auctions uh we called it also Mev boost plus plus and the core idea here is uh Mev boost is a mechanism to uh to sell your entire block to a block Builder and instead you can think of we can think about whether it is possible to sell only portions of the block to the block Builder and the main reason why only the entire block is sold in the Mev boost Market is if a block proposal double signs a block header then they will get slashed so by having them comment to signing a block header we get a credible commitment that they will actually include that entire block but by opting into something uh like eigen layer a block proposal can express much more fine-grained degrees of freedom for example saying that I will include this uh this a chunk with this hash as the prefix of my blog and the remaining I have freedom to fill in myself so that's the high level idea I mean I could just dive into like one level more details here the idea is that blog Builders can send a certain uh portion of the block which is you can call it the Builder part and uh a block uh proposal basically includes the Builder part at the front of the block and the remaining is a Freedom From the Block proposal to include whatever transactions they want at the end of the Vlog so instead of the block proposal selling the entirety of the blog they're only selling one portion of the block and they have freedom to fill in whatever they want at the end of the log and why is a mechanism like this interesting is because now blog proposers can express their own agency in figuring out how to fill the rest of the block and uh this you know if you look at the whole Mev boost architecture it is tailored around actually making sure that block proposals remain decentralized and but if the blob purposes are decentralized but have no agency in expressing any transactions then it's not clear what what benefit that is but in a mechanism like this if the block proposals can express their agency then you actually get something are quite powerful okay so there is a lot more details there I don't want to get into but I just want to keep this conversation at a high level of what are possible synergies of once you have block proposals in ethereum L1 restrict what other things can you start doing okay so another thing that you have to do is you basically have a bunch of nodes participating in eigen layer like let's say a block proposal has opted into this uh threshold cryptography then what would happen is uh transactions that uh that come income encrypted to a threshold cryptography method where there is a there is a secret share of the keys among the many nodes uh which which are operating which are also these taked on eigen layer and essentially what they can do is they um the client sends in transactions which are encrypted to the uh threshold route and once the transactions are committed with the encrypted with the threshold group uh an eigen layer block proposal can take in and sign off that they're going to include only a decrypted version of these transactions and once they receive the decrypted version of these transactions from the once the keys are the decryption Keys available you can actually go in and include it uh include the right version of transactions a block proposal that commits to an encrypted transaction but doesn't include the decrypted transaction could get slashed to here there is an honesty assumption on this like keeper group The Keeper group is majority honest basically it is possible that uh the decoupled version of transactions is not excluded so one way to protect against this is you would say that uh if you did not get the decrypted transactions you have to just waste your block space for that portion of gas that you sold for the encrypted Lane and so this helps protect against like even if a majority of these are dishonest and do not reveal the threshold key then the blog proposal just proposes an empty block and so the so it's just that there are a lot of ways to tune in centers here but high level idea is because the blocks block proposal is committing to include the threshold encrypted transactions they don't include the decrypted ones then they can get slashed Okay so that's another example uh I'll give one more example here before switching to uh uh any mitigations uh one example is you know is it possible to sell blocks with Futures so blobfish features is like I want to reserve a portion of block space from this validator in the future and the idea here is you send your transactions to like uh kind of like a super fast Mev chain that could be something like slow and uh you know this chain needs some amount of reorg resistance and some amount of transition resistance and you buy block space a priority and uh you send your transactions to this like super fast chain and if the transaction gets included in this super fast chain then a block proposal who has opted into this block switcher actually has to include these transactions in the block and so essentially blog proposals can make credible commitments to include transactions from the future block if they get included into the Mev chain so this is another example of like what what we can build world and it's possible to take all these different modules and compose them to build a block where some aspect of the blocks come from even driven transactions some aspects come from options sold to builders some aspects of the transactions come from threshold encrypted Lane some other aspects come from the proposer having their own Freedom so this is in some sense like a modular roadmap for how Mev can be built on on ethereum by using something like recycle there are also some risks I want to just spend the last minute on this uh one risk is because you may need proposals to be more sophisticated it may lead to more centralization if you have mechanisms like this but one way to contain this centralization is by basically if there is a enough of a rich language for the proposal to express their constraints to the builders and to the relays then the builders and relayers can actually satisfy all these constraints all the proposals um there are also other really interesting things that happen with restaking is because in some of these Services uh Services building on restate eigenal Services can only request the more decentralized committees to participate it's possible for uh promoting naturally decentralization and ethereum itself there is the possibility of cross domain Mev because the same set of nodes now participate in many different uh many different domains or sizes and again the solution here is to opt in to like Rich uh general purpose cross domain and Med markets like uh swap to actually uh build these things and finally there is risk of actually potentially building uh censorship markets on something like agamere I think this is something we can only keep vigil socially and use social consensus to deal with situations like this so that's a high level tour of van I think there are interesting intersections between uh something like eigen layer in or a general restaking and mme and look forward to having discussing what's also thank you 