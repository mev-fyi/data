foreign [Applause] [Music] so we are going to move on now to our final panel um we've got a stacked panel for the last one we've got Eric buddish Tyrone Phil and the other Michael Jordan who will be talking about latency for this one yeah thanks John um hey everybody I'm Michael Jordan no relation in relation to the Berkeley Professor basketball player or uh actor and so uh my parents just about a sick sense of humor we're lucky to have three awesome people on this panel today Troon Phil and Eric rudish I think Turin and sill have spoken to Tasty of a context but I don't know if people know but Eric is kind of the Michael Jordan of hft latency and Market design I wrote an incredible paper that I highly recommend and we will crib a lot of this out of um but I wanted to start on this concept of eliminating the latency Wars uh Eric I'd love to hear the intuition of of how you started thinking about this problem that the latency Wars is not in the execution it's not in the trade tip it's actually hidden and that the first step is understanding it is seeing it so um I wanted to start there yeah great and and no one's ever called me Michael Jordan of anything before so I'll I'll take it um I think what got me started on this intellectual Journey was almost 15 years ago at this point but was reading about some of the very early investments in uh in speed technology and fast connections from one geography to another geography like the Chicago New York uh high-speed fiber optic cable that's become kind of famous um and and genuinely not understanding uh how a such a small amount of time could be worth so much money we're talking fractions of the time it takes to Blink your eye what gave my collaborators and I the idea for the the paper you're referencing that used used message data and this is the the work with the UK Financial conduct Authority with researchers there was what once we've once I figured on that earlier work how to think about why milliset and so really Mike millions of seconds or finer are are valuable in modern financial markets you realize a lot of a lot of the value is around race-based Arbitrage is around arbitrages that are sometimes very simple to the naked eye but the comp the the complexity is capturing them quickly um and then realizing that well geez traditional Financial Market data doesn't actually let you see races that's part of why it took some Theory to uncover this this issue is you can't actually see that filter and Eric and Michael Jordan are all racing for the same Arbitrage opportunity within uh a sub thousandth of a second of each other so what we got in that England study and that in that UK Financial conduct Authority study was the the full back and forth message traffic between Market participants and The Exchange in this case the London Stock Exchange so this is just very cool kind of data that no one had ever studied before that lets you see um in its in all its Glory just just trading races so you can't count them up how off how frequent are they how much money is at stake uh so it was a just a a multi-year um uh multi-year project and I was at the I'm sorry sorry to be a little rambly but the thing that was most striking to me in that study I I had a prior that a lot of races would be for small amounts of money and they're actually smaller than I would have guessed but the the the volume of races was just astonishing it was like 20 of all trading volume uh and this is in the UK equities Market uh was trading races the modal race the difference in time between Phil and tarun would be five millionths of a second um and height in in crypto trading I I would I would get I don't have the data I'd love to speculate with this group what kind of data you'd find but my prior is it could be even higher just because the the the the shenanigans you can do with reordering time in crypto markets Phil and I are going to get philosophical about time that's promised uh it's just it's it's even more Stark than in traditional Finance so it's a long-winded answer to a great question let me stop there yeah well I wanted to maybe let tarun take a stab at a translating between the the message and execution tape of a market to what we see in crypto what's what's lit and what's unlit like where where are we seeing evidence of the the burden that these latency games exist and where they they stress the systems I think um recently we saw this with arbitrum sequence there was a place that I think they had the flag that this was happening but no one was really aware of it other than people running the infra so I would love to hear try to take a stab at translating Eric's message analogy into the crypto world yeah I mean I think obviously I think the Solana World probably is where we saw the most uh latency games obviously they made particular choices and how their protocol works such that it prioritized you know low block times and kind of effectively forcing all the validators to be in hetzner or some very like high-end Data Center um I think the on-chain stuff is still less than uh lit U.S exchanges or your ex by like maybe three to four orders of magnitude in terms of message volume um but you know I think it definitely can get there uh the centralized crypto exchanges are a little bit more interesting because it's um you know most of them are actually Cloud hosted they're not actually hosted in on-prem like on a fixed Data Center and so you have all these games of people like starting 500 nodes at a particular AWS Zone pinging the the um matching engine endpoint seeing which node would have the fastest relay time and then submitting your transaction which is very similar to what happened in the arbitrine case but the um the the this type of uh cloud-based endpoint is actually ironically the way the normal Market is working so most exchanges are actually moving away from on-prem hosts to Data Centers except like CME because basically Futures Trading is much more latency sensitive in the US equities trading people already internalize all the order flow so it's sort of like this like very weird not as latency sensitive like like it started very latency sensitive and then once wholesalers bought all the order flow it became like way less late so um the long story short is I think on-chain stuff is still a bit far I mean you can do a lot more things but it's less about pure latency games it's a little more like online ad auctions where yes there's like a pretty frequent auction frequency like tens of milliseconds um but the dimensionality of the objects you're bidding on those very high relative to to other games yeah Phil I'll let you respond to either anything that uh Eric return said but I would like to add a question which is you're designing a lot of these systems and I know a founding tenant of flash moth is eliminating such that we can understand what's actually happening and so how do you kind of think about elimination when you're designing some of these ideas like the fact that you what pieces of data do you need to be able to see and what piece of data do you not want to be able to see such that we understand really where these games are being played yeah no great question so maybe I want to riff a few things that have been said which are just kind of random trolling slash high level fuel on the fire here um agree with a lot of the points that have been made so far um I think the interesting thing to me one point that hasn't been made is like latency games can kind of be roughly divided into two categories one that are kinds of uh Winner Takes all kind of race style Arbitrage games where you have a market structure that incentivizes along like a certain axis of economic activity low latency and then kind of determines outcomes of like kind of rent games based on on this axis so this is kind of the most extreme form of latency game it's what we see in Trad Phi and it's uh you know what Eric's paper talks about uh mostly there are a lot of other more subtle kind of latency games and interactions even in kind of the solutions that are proposed to the latency games like batch options so in Eric's paper there there's kind of like an analysis and a discussion of the latency games that happen at the end of the interval for for each batch which still exists the argument being that like the economic value of like those latency games at the end of the interval is is much less than like this extreme kind of Winner Takes all uh form of game so I think when we're in crypto it's really important to think about is specifically what type of latency gain and what type of latency activity are you are you optimizing for I think the winner takes all race model is by far the most centralizing because it means like physical infrastructure participants that have microwave Towers like take all the arbs and we've seen in Trad find we know the market dynamics of that market are super centralized um so riffing then on to where this shows up in crypto I think the pace that this shows up the most in crypto is two places today number one is if you have a first come first serve sequencer um so if you have a first come first serve sequencer there are kind of two options either you have low fees or you have high fees um so if you have super low fees like it's basically free to make a transaction then your zero-sum Arbitrage game moves into spam basically at that point latency is not actually profitable because if you just Spam you'll always beat someone who sends like an actual latency sensitive transaction because you've sent like an uninformed packet like a minute ago and that spam will just be like ahead of them in the queue so what that does is it pushes more ARB Logic on chain and pushes the like actual economic auction into into like the spam externality bucket on the other hand if the fees are high doing the spam is just unprofitable so you'll never actually do it and that's when you see like these latency participants have like the ARB Edge from like reacting first um and this is what you see in sequencers like like arbitrum for example which have like relatively High Feast compared to something like polygon um I believe it was where we saw more of a Spam attack or Avalanche which also had very low fees we saw spam attacks and then raise their fees in solid latency games so this is like kind of the trade-off landscape higher low fees spam spam or latency um but I do think it's important to to also make that zero-sum distinction we don't see it a lot in each because of the size of the batch because you has been kind of intentionally designed to allow for This Global slow Mev auction underlying its block that being said there's still an edge game so in the in the relays our latency game article or whatever it really like quantifies this Edge game which is again important to note very different from like a winner takes all game that you see in traffic so that's my full rant um and that's where we see them oh one more thing so that's one place which is fcfs sequencers the second place is sexist which has already been mentioned by tarun I think there's a fun corollary here which is in the cross domain me view work and what that works says is basically like the bad drives out the good in these markets so if you have super latency sensitive systems that are very centralizing they actually also impose centralizing pressure on decentralized systems because they add latency edges to whatever latency game is there through cross domain Mev uh fun fact we already see this with centralized exchanges so there are certain you know entities that have very efficient routing between centralized exchanges and already play that latency game and because of for example where our infrastructure is on like a cloud service provider having some overlap there we're already seeing Even in our decentralized systems or or permissionless Meb markets like this this latency competitive pressure from existing Trad fire routes so it's not like a theoretical issue it does kind of creep into decentralized systems how do we think about Illuminating it do research do data have conversations and keep kind of putting out philosophical pieces so I have one on Geographic decentralization I really want to plug I think that's like an important piece of the latency discussion um and kind of trying to come up with definitions and data around that as we speak so sorry that was a very long ramble um but you know all the fuel I have to add to that fire the funny thing is the common thread of all three Rambles was this um non-agreement on the nature of time you know we have discrete time continuous time we have a relative time we have absolute time uh and Eric has this incredible point about the the the challenge of discrete time is that you all always have a relative Edge there is there or continuous time trading and so um I wanted to start there when it comes to time Eric I'll let you start on your what you observed in traditional markets between continuous and discrete time and then also feel free to comment on what we see in these systems are designed without the kind of concept of relevant Rel excuse me relative time which is actually the underlying latency games across different data centers and other things we see yeah great let me let me let me answer that question and also I want to respond to something yeah please Phil said that I think it's really terrific that I want to Riff on so the the in a continuous time Market they're if if there are Arbitrage opportunities uh in a continuous time Market that will very naturally incentivize competition on speeds that's a very relativistic kind of competition competition to be faster than uh faster than uh the next guy um in this in this empirical study with the FCA researchers Quantified it on the order of millions of seconds of time difference between winners and losers actually in a chunk of races about four percent of races this fellow got kick out of this the difference in time between the winner and loser of the race is negative because it's like you show up at two you know two different chips and my chip happens to process a little bit faster than yours uh so I win the race even though I kind of got to the Finish Line after you um so there's a tendency towards uh relativistic relative competition is relative time rather than absolute time being important so we're fighting over tinier tinier and tinier slivers of time um I like Phil's point that that that can have a tendency towards winner take all competition uh we do find that in the empirical study the the top three firms in our data I don't know the identities of the firms to be clear that's that's uh Anonymous uh but we can we can link firms over over over the data in the top three firms to win over 50 percent of races the top six firms win about 85 percent of races so you're relatively uh centralized to to use the terminology here um the the so the the idea of frequent batch auctions that I've I've advocated for in the context of traditional financial markets that Cal swap that I advise is working on in uh and D5 the idea there is to make time make time discreet and then that enables re-engineering the nature of the competition to be competition in a more productive dimensions a competition on in the case of an auction competition on price instead of competition on speed um and that you can kind of go through the economic chain of why that leads to a more liquid Market of less wasteful rent seeking activity the thing I wanted to Riff Off in Phil's comment that I thought was very interesting was this idea of some kinds of latency games might be winner take all whereas other kinds of latency games might not be I might need different different parties might discover tiny Corners uh you know tiny little Arbitrage quarters and that for whatever reason reminded me of the real estate industry so so the real estate industry is another industry with tons of rent seeking the fact that at five percent or six percent of your house value to to sell a house from one person to another is a ridiculous rent seeking activity and the way that plays out economically is you have lots of small real estate brokers each fighting for their little uh their little scrap but there is a centralizing tendency in that market which is the real estate lobbies and the real estate lobbies help preserve the kind of flawed economic arrangement of um of needing a broker on the buyer and the seller side and all the little subtle stuff that kind of Keeps Us stuck at five or six percent fees that was just one that struck me yeah we do see some winner take all rent seeking which naturally creates a concentrated dispersed dynamic in the Mantra Olson sense but even in these cases where we see very dispersed rent seeking like in real estate sometimes the dispersed rent Seekers find a way to uh to band together nonetheless is there Eric um is there a good place to look at research on the consolidation you know it started as a broader more competitive market and then once we had discrete changes in the roles the technology Stacks whatever it meant that it was returned to sophistication returned to Capital different types of forces of consolidation forces as Turin Phil think about kind of the design space it's good to understand what type of technical shifts Drive consolidation and centralization yeah the best scholarly work is by Donald McKenzie who's a sociologist based it in Edinburgh and he he's over decades made a um made a mark studying the sociology of Finance so he did this amazing study on the Chicago Mercantile Exchange and he put out a book I think a year or two ago at this point called trading at the speed of light so that's the best uh that's the best um scholarly work and the best line is in Flash Boys by Michael Lewis where he said I used to worry you know about a thousand guys making a million dollars a year and now I worry about one guy making a billion dollars a year and I can't remember there was some stereotype baked into that quote that I don't remember and will try to recall but that was sort of the best uh uh the best anecdotal nugget on that Center on that tendency just described in turinville I've as you've seen the block kind of production supply chain get much more sophisticated how have you seen the the number of actors whether they've grown or Consolidated how do you think that's related to whether it's latency or any other type of like technical sophistication Edge thank you um happy to to take a bet on this first um I think you know I have this troll theory of markets which is like any competitive market will will land in some degree of oligopoly and it's about like managing the externalities of this and this is my like my troll um I've never seen a counter example as many times as I've trolled like economists with this um but you know we do we do see that to an extent in Mev um I think the dangerous thing at least the way I reason about it is like how much consolidation pressure are we talking about and like how many counter forces are there for actually maintaining like The Meta properties that allow this thing to exist so like Geographic diversity you know decentralization of capital whatever not like a plutocratic staking set things like that um I don't think we can ever remove these centralization pressures entirely um that being said you know I think the Mev Market is super interesting so there are certainly a few large firms and entities that do very well on specific Mev vertical especially when you look at certain types of text designs like amms there's a few kind of centralizing or consolidation pressures we see there a big one and I think like the most powerful in today's market is the ability to take risk and this kind of looks like traditional Market making activities in Trad Phi because a lot of it relates to like sex decks Arbitrage that's like one of the number one fire hoses right now um people want to make trades on a decks but like the liquidity on decks is inherently update slowly so how do you bridge the gap between this like sex liquidity that's gated by like kyc and Regulation and you know custom like custody rules that people may not trust to this interface that people actually want to trade on that's just where we've seen the most activity and the most maturity just because of the volumes it's not inherent to Mev or anything it's just what people use ethereum for today and there you see this like ability to take risk as for sure like a powerful centralizing pressure um before that we saw Das golf thing as another fun one so the early generation of the flashbots auction intentionally kind of gave you a huge boost if you were able to be more gas efficient than other bidders to try to drive down kind of the network externalities of the auction in terms of like how much block space was being used by the auction and this led to people kind of really looking into Super Arcane tricks to save a little bit of gas because the gas gain kind of became almost a winner take all style but instead of competing on latency they were competing on like gas used in the system so that was another example early on although I say that one has kind of faded away with maturity of the market and now we're looking at much more things like ability to Warehouse risk another category is latency for sure especially in sex sex Arbitrage complex sex Dex Arbitrage or arving against like domains that are latency sensitive like Solana or arbitrum we've seen that one less I would say just anecdotally my my intuitions in the market so far just because a lot of the Mev today is on LA less latency sensitive markets like me but we're starting to see that kind of creeping at the edges and also compound with the risk pressure and like uh together form a centralizing force so for us that flashbots is a question of how do we kind of minimize the impact of those on the decentralized system yeah so he wrote a good point which is about the adapt adaptive nature of the network uh Eric I looked through some of your prior research and showed up in the 90s a lot of the electronically a lot of the benefit of tighter spreads and stuff came through just general electronification and now we're at this like you know Peta bits of of War um how have you seen markets evolve where they go from this big step function and then the the competition gets very tight because we get smaller and smaller that that becomes a bit of a centralizing factor I think that's an important just fact to understand about the evolution of traditional financial markets so let me just make sure the fact is clear and then we can plot it we can just discuss it which is that there is this transition that played out and again I'll point to Donald McKenzie's work as kind of the scholarly work to to look at there's this transition that played out from the 90s 90s into the early 2000s when a lot of financial markets I still had a large role for human participants so I think uh pit traders in Chicago this is the thousand people making a million dollars a year that Mike Lewis was joking about were Specialists on the New York Stock Exchange for um running so humans uh facilitating trades running a market running a limit order book the same way that a limit order book in a way was run since the 18th century under the Buttonwood tree uh with with aided by computers but but fundamentally a big role for humans and then there was a transition in the U.S stock market it was really facilitated by regulation National Market System grab a copy of it yeah big I got a copy of my office um but that facilitated the transition to electronic markets in in the U in the in the fully electronic trading in the U.S stock market and it's it's pretty clear if you look at the historical data that the transition from human-based Trading to electronic trading and meaningfully improved uh liquidity and efficiency there's a famous study of this by uh Hendershot Jones and mengfeld that's very widely cited but the the as my read of the data and I have a lot of references to this in my work is that you can see this kind of Step change as we went from humans to computers computers are a good idea but then all of this additional relativistic competition on speed has has moved the needle precisely zero on the Market's cost of liquidity so if you look over like the last 15 17 years of of financial Market data it's hard to see you know the there are big gains in the transition from humans to computers and that kind of flat line um what that implies for crypto markets I honestly don't have a confident view it's a it's a newer uh a newer uh domain but that's what we saw in traditional Finance yeah turn you always talk about how Reagan Ms and nvbo really change Equity Market structure and how the whether it's order rules those are regulations but we have things like regulations which are there's a new amm launches with very specific rules or Curves um and we see that those things really change Market structure so I think it'd be interesting to comment on what Eric just said around the actual material performance layer in this added co-evolving nature of the regulatory landscape and kind of bring it over to crypto where we're seeing we went from this very naive uncertificated world to things like SCP wintermute much more sophisticated launching people and it's just really changing the market yeah I mean I think the weirder part about crypto maybe versus traditional markets is like um traditional markets actually had a contraction in number of venues since uh Regan Ms because a lot of venues like basically couldn't couldn't make the economics work given their volume like places like Philadelphia Stock Exchange which you know you'll still have to connect to but like basically doesn't do anything um crypto actually has the exact opposite problem where there's constantly new venues of different types and there's new venues because there's new chains so there's new Roll-Ups so it's creating more cross-domain Arbitrage um centralized exchanges obviously have had huge calamitous changes in the last six months which have created a bunch of uh Arbitrage opportunities certain things that were collateral that was not expected to to move out of a particular range in terms of its value in numerator terms um you have things happen like that so there's sort of a very different dynamic in the sense that there's this this like kind of proliferation of venues in crypto that were versus the like contraction in venues that you had in the normal world that does change the Dynamics a little bit and this is one of the reasons I actually am I I would say like the last year of crypto has made basically made me more convinced that this actually looks a lot is going to end up in a different state than um traditional lit exchanges where you kind of had the like reg nms happen then the financial crisis happened and so like a lot of fun a lot of how good trading firms did well then and then you have the kind of like boom up to 2012 then after 2012 it got extremely competitive and people realize like buying order flow was better than becoming faster alone and so then you kind of had this like the number of competitors decrease after that point I think crypto is actually kind of weird because the number of products is growing really fast like the number of different places you can trade the same product um you know just think about every new roll up think about the arbitrum launch right like what the coin came out that just like basically dosed a bunch of venues um and so there's sort of this this interesting thing where this is the reason I make more of a comparison to an ad auction in that you have you know on the x-axis a number of different assets that are growing on the y-axis the number of venues that the assets traded at um and then sort of on the the you know between the two of those those are actually like growing like the density of those is growing at the same time and it means sort of that the the dimensionality of the products is higher uh it really does mean that like arbitrary trading Arbon arbitrum versus trading Arbonne eth versus trading Arbon op they're actually kind of not fungible products because the amount of Leverage you can get on each chain is different the amount of security you're willing to take when you go across the bridge is different and the Mev auctions are different in terms of like how much you have to bid the gas rules and that that that sort of high dimensionality for products that are sort of fungible creates a huge sort of Arbitrage opportunity where people hold portfolios of the of what's supposed to be the same asset but then they kind of like you know they're doing this like weird risk warehousing statistical Arbitrage type of stuff and yeah that's where I see the crypto markets actually deviating quite a bit from traditional wood markets and it's going to be kind of interesting to see that Evolution I think that kind of just could make two yeah sorry good in response I think that's fascinating and you know the it sort of relates to what I was initially so confused about I mean 10 13 years ago or so at this point which is he from a distance think of arbitrageurs and Quant trading firms is doing something really fancy and sophisticated if because we have a as a as economists or Finance researchers think that there shouldn't be um Technical inefficiencies and financial markets you've all heard of the efficient market hypothesis to beat the market you have to know something the rest of the market doesn't know economists are very dismissive of technical uh technical trading opportunities but then you look you just look at what arbitragers are actually doing a lot in that is like the same  trades on lots of different venues are when the prices get out of whack and it's actually like Grandma could notice the pricing you know could notice the pricing discrepancy all the complexity is just in technologically exploiting the thing so then if to ruin if you're right and there's this just proliferation of venues and very closely related ways of trading the same risk exposure that's an arbitrageur Feast yeah and and it seems to only be growing because like token issuances like sort of still growing even in the the bear Market I think yes and no I don't think it's an arbitrary feast in the same way you think about like hft sniping or something like that to me this looks much more like Market making and competition on risk which is actually what you probably want in like these are markets so it it is a very different nature I think there's two interesting effects here I also want to point out that do kind of aggregate add to this and make it very different from tradpy number one is like the way you can interact with these venues so in tradify execution relies on trust and it's kind of like a human base or or a technologization of like a human based process right so like if I want to place an order that's like a combinatorial order of like I either want like these three orders to execute on like the New York Stock Exchange or like take this other one like to this other venue or Etc it's kind of very hard to do those orders we're on a blockchain you have like more programmatic ways to express more complex preferences and like something like using two different venues at the same time is not mutually exclusive if you can like structure the right aggregation or meta transaction cow swap is like in some ways an attempt to do this so that is I think one difference um and the other difference I think is like the profiles of the people taking the risk so like assuming this is true what I said and we have competition on risk and we want that I was having an interesting conversation recently about like the the stable coin depex uh uh kind of last week during all the bank failures and things like that um it turns out during these stable coin depegs all the sophisticated actors and the and the and the active liquidity even though there was a ton of money to be made and so many arbs across these combinatorial venues basically you know a lot of them sat a lot of these opportunities out if you look at the chain and if you look at where the Mev distribution actually went to like passive LPS of these protocols made a lot of money um because like the active LPS disappeared and this was like the backstop right and who are these passive LPS they're like d-gens who are taking like they have their own risk profile it's highly bespoke it maybe isn't even rational to like a market making participant which is why those participants did the rational thing and backed off but it kind of does add this like robust liquidity backstop because you have like a risk segmented rather than a zero-sum game that makes the system more robust in downturns so anyway that's why I rant about how maybe things are different yeah Eric do you have any comments or thoughts on that kind of resilience and resiliency and robustness question I know in the US we've had volmageddon and some other things where there's different causations but a lot of what happens is too much of liquidity has the same kind of profile and same type of structure and strategy they're running status mean reversion when it gets two Sigma they just turn off whatever that thing is it can cause Market fragility so any thoughts there I think that's a big topic it's a it it some to some extent when when I see a flash crash I think prices change to some extent I think markets could be more robust um uh markets could be more robust if design if designed differently say I worry I can make I mean I'm just gonna walk back something in just a second I think it was a little bit precise the the thing I kind of worry about I use the phrase um uh fast crowded fast and thin crowding out smart and and deep are slow and deep there's probably a better a better way of putting it so I worry that if if you have a market that in in good times or in relatively stable times is very profitable if you're technologically sophisticated picking up nickels but and that that in a way crowds out deeper liquidity but that is less technologically sophisticated um so this this probably makes the most sense thinking about the treasury market if you have some firms that are are very sophisticated technologically at proprietary trading um and that and they're just they're they're faster and that crowds out some of the um some deeper pocketed um slightly less technologically sophisticated investment Banks um but if if if when the goes down pardon I shouldn't keep cursing I'm a professor but when if when there's when was the role professors aren't allowed to curse me just checking I try to be dignified right I I worry that that you know it is that is the deeper but slightly less technologically sophisticated liquidity there there in a crisis I have made the argument that discrete time batch auctions slightly slower Market design Level Playing Field that those kinds of properties could have a robustness benefit it's honestly very hard to model in a way that's that's convincing to skeptical economists it's just it's a hard nut to crack and my guess is someone will figure out a way to to study it using a diverse set of tools I think it's a good uh I I sort of sympathetic to the hypothesis I haven't figured out how to prove it all right Eric it seems like you have a good question for Turin before he has to go I know true question kind of for it so this is this might be and Phil Phil prefaces every question with this is a trolley question so I think this is controlled plan which is at some level if you read Nakamoto um the problem it's solving is a Time stamping problem is how do you like compare Nakamoto to Haber stornetta in the 90s doing you know blockchain like data structure where they were using hashes of uh hashes to link to link data over time and ensure that data hasn't been tampered wet and part part of what Nakamoto was solving relative to what Haber and sternetta did is we'll it is is creating an effect a decentralized timestamper but supposing you had a I kind of wonder if a lot of Mev manifests in the trading of crypto Financial assets if there was if if there was a trusted timestamper and you there and there was a a um a a decentralized exchange that made reference to a credible trusted timestamps I think that might be it all right that's the trolley premise of the question could you solve a lot of Med problems just you can't rearrange transactions because we we know what a means to rearrange transactions is to  with the gut the time stamps and you gotta process transactions in order um and then you could talk about what do we batch process do we make time to screed blah blah blah but the fact that you can rearrange the sequence it's what is what's so appalling to me as a scholar Financial Market I mean I guess I'll give you the the the sort of Economics version of this which is you know the decentralized thing doesn't work because of like you know the era's impossibility theorems of the world right I have many validators having to pick an ordering and agree on it and obviously the only sort of social Choice function that works in all cases ends up being dictator and so this sort of this these kind of like very weird social Choice things around like you know if if if we do really want to be decentralized then you run into these kind of like problems that come from just the nature of you know the symmetric group uh though those are very very kind of you can't get around them but in the centralized case of course like it doesn't matter the arrows and possibility theorem says as a dictator so all you're doing is picking the dictator in some sense so so it would time stamping alone that would that would uh I don't I don't think it would remove everything for for the record um because like it's not just time saving it's also like adding and removing around particular transactions which is a Akin to the like adding a ton of cancels in front of a big order that's going to run you over so like there's still some of the the adding and removing part that I think it's still probably is is an issue not just the the ordering and were you assuming that time is a zero bound that you can't do any speculative transactions I know in in the Europe European markets there's a thing called speculative triggering that they're they actually start firing orders off of messages so fast that they're just starting to see the first bit string they're sending out messages on the other side before they've even confirmed that this is in strategy and they start canceling them creates this insane amount of load on the centralized server and they've actually banned the the issue of speculative triggering meaning that they're sending pretty pre-confirmed transactions it's insane oh man I have so much trolling to do here I want to let tarune hop into his train but I'm gonna I'm gonna line up the baseball bat and and let her rip um all right uh all right thanks everyone yeah amazing thank you so much tarun that was super fun I'm glad yeah you you look so so happy I'm so happy I'm so happy family's not on a panel you asked me towards the end we could get philosophical about times this is my I know we need like we need like hours though you know we need hours but uh but anyway so I will say a few things that are that are that are trolley responses to your trolley question first of all I think let's assume you had the world's most perfect timestamp system in the universe and it had no problems that I could possibly complain about there's still like the fundamental physical limit of uh you know the special theory of relativity so you know in the early 1900s there was this idea that if two things happen um at the same time the the the observation of like a third Observer of like the order in which these two things happen depends on like the reference frame of the of the Observer right so even if we had a perfect timestamp system um the best we can possibly do is approximate fcfs which as we've said either creates like a Spam this is what Michael Jordan was just talking about these pre-load transactions is like some form of spam or or a latency race right but then who wins this latency race who wins this winner take all game depends on like the third party Observer which here in theory is like a decentralized protocol that's supposed to be fair and Universal right so like if these two people legitimately send their transaction there are at the same time and they're not in the same place in physical space the network still has to sequence that and like one of those two people is going to be feeling left unfair right because oh we sent it at the same time and because of the Network's reference frame this person's transaction got in before mine um so that's like even if you had a perfectly synchronized like to the absolute physical limit set of clocks you wouldn't achieve harness like the best you can do is approximate fcfs against some reference frame um you know for Trad five this is like they they kind of wave around this by saying okay our reference frame is like this address in New Jersey and like the game is like build a cable there um but you know that doesn't really work as like a reference frame for like a distributed um permissionless Network um so one more thing I had to say this is like a trolley idea that I had many many years ago when I first started studying Mev that I've talked about to a bunch of people but I feel like it might be worth mentioning publicly in the context of this um this was one of my first intuitions when I when I came into Mev was like wouldn't clock synchronization just solve this okay how do we build decentralized clock synchronization okay let's assume we have sgx let's like give ourselves as much ammo as we can can we still build something useful here um so I actually had this idea of a DEX that works based on like this sgx nuclear football so you can imagine basically a a portable like in a briefcase sgx machine that has like a long-standing key that can't be rotated so this machine has to stay up for the exchange to uh kind of uh work then you travel from place to place around the world to all the participants in your Market maybe once a month you synchronize their local sgx with the football right so like if you put the football physically right next to their sgx you can get tighter clock synchronization balance because the latency between this trusted football clock and your local chip is like super low then you're kind of approximating as close as you can within like real physical constraints uh this time stamping thing still doesn't solve fairness still doesn't solve Mev what does it actually give you it gives you basically a shorter block time right um it lets you have this uncertainty in the same way that kind of fair ordering protocols do with a smaller window which in your batch model is the same as like shortening the batch essentially so all a trusted timestamp would allow you to do in a decentralized context is short in the batch is shortening the batch desirable now it depends on like The Meta argument of like the rent extraction against the batch how meaningful is the end of the batch how much does latency matter what's like the actual participant distribution Etc um so tldr is it useful I think it's interesting like certainly you can tweak some parameters and like building this sgx football thing I think is kind of fun maybe if I had like infinite time I wouldn't be against like just YOLO and trying it and seeing what properties we get at the same time like solving Mev to me like Mev is intentionally unsolvable so like it's very hard to solve and maybe I'm wrong about this this is like an open hypothesis it's like why one of the reasons that I like that other people are studying this because maybe there is like the best design but my intuition is this is not a solve because like someone's still going to be left like feeling the unfairness and like whether or not that's decentralizing depends on like the power dynamics of your system basically um so sorry for the the long troll but practice with just an open question which I think I so I think of the solving Mev as something you could try to do at call it the application layer uh or at the protocol layer and at the application layer I think frequent batch auctions properly implemented solid Mev um we can debate that and let's let's take that offline I think the really cool open question is whether you can quote solve Mev at the protocol layer uh is there some is there is there some tweaked uh to blockchain design uh that and then whether my intuition is it comes from just not being able to rearrange stuff but then there is between the two of you you invoked arrow and Einstein so I got to think a little bit harder about it but uh um but I also new question is like who gets the rent you know like that I'll eliminate the rent that's why I mentioned the real estate agents why why who gets the rent why not shrink the rent no no I think shrinking the rent is great and I think that is where frequent bash auctions are super useful but I don't think they eliminate it because there's still kind of how do these batch auctions interface with the rest of the world which is like you know the the the part that's like really hard to model especially if there are a lot of like continuous venues I think this is where like a lot of the crypto research in like the global solve needs to go um specifically for example like I don't think frequent batch auctions solve Mev even for dexes for one like very simple reason and I say this as someone who was in 2018 like uniswap guys frequent batch auctions solves any day for Dex is why are you not using this I think people do actually some people want uh things that can only come with reordering so like many people want the ability to do complex Dynamic transactions that depend on like the specific State a transaction is being executed on in our condition by this one example might be like a protocol that wants to like liquidate tokens on uniswap and then do something else in the same like call frame um and maybe this gives them some security property they otherwise wouldn't wouldn't have or something like that so as long as you have these people they can't use the batch because they're like requirements are simply incompatible with like waiting for it um and I think that solving Meb for that class of users looks very different as solving Mev for the people who can wait two seconds or something where I agree like a batch is totally fine and like a great way to reduce so I think all these like plug away at ways to reduce Med but the reason they can't happen at the protocol is because of like rap wrangling with all these fundamental limits my last piece of trolling is I think the flashbotch option I remember I said this last time we had a panel and I got so much pushback but I'm going to say it again because I think it's true is actually a frequent batch auction solve of uh you know Mev at the protocol layer assuming a lot of timing things about the each Network it's at least kind of looks like that if you squint hard enough um is that not an important assumption the Assumption because you wrote about the importance of geographic diversity Geographic diversity is that antagonistic to fairness because you're just increasing the actual amount of time for the network to coordinate literally like if we're all in one box in ny4 then our coordination time is very different than if we're designing a system such that the replication is happening across physically large areas yeah this is why I hate fairness as a word because everyone has their own pet fairness definition like for some people I have to wait a second longer because like some guy in Australia wants to trade with me that's like super unfair it's like man if I just cut that guy out like I don't care about his economic activity you know it would be way better for everyone I care about if like we could just trade instantly like not care about that guy from Australia whereas like if you had that the guy from Australia would be like this is super unfair there's like this cartel that I just can't like access without like submitting myself to like the US government you know hegemony or whatever um so yeah I agree with you that like there is a tension there with fairness which is why I think Geographic diversity is like I'm not implying it's more or less fair for exactly that reason like I don't know whether people will agree with that um my argument for for why that's good is much simpler it's like if we don't have that we will just be like subject to like a very single specific set of regulations and like you know the rent game will look exactly like traffic that's uh my two cents but yeah no I agree like uh even parameterizing this time right like do we do nine seconds or ten seconds do we do 10 or 15 like there are fairness arguments there that like various people make because the impact is like on the actual distribution of the rents which is like where people actually like feel the fairness right like ultimately fairness to me is like are the rents like sanely distributed and there's no clear way to define that really Derek did you do any work on conditional orders there's a an hft there's a concept called ISO orders which is you can sweep across multiple venues with one order and you're able because you do have to trade within the bid ask spread illegally if you trade outside if you could find that actually moves across venues now the venues may all physically be in the same place in crypto RVs are just you know kind of different a very different concept from what we're describing but I know your LLC work was done just on the LLC have you done any of this kind of cross venue latency considerations it's a great question um the the closest I've done is in this work with um Robin Lee and John shim where we put pulled together a bunch of empirical fats um on competition in the U.S equities Market and the the way I think about the use of iso orders this inter-market sweep order is if you're most of the time if you're trading if you're if you're trading not in a race in response to some algo signal but because you happen to yourself just want to trade some stock but you don't want to leave an algo signal for others to exploit a way to trade you want to trade across multiple venues all at once so that responders to your trade trade after you and isos are one way so sweeping the market is one way to do that there's also a reg nms compliance issue which is super in the in the regulatory weeds which is a reason why I'm some firms use use isos um so that's the that's the closest I I've gotten I think the conditionality is very interesting I kind of take Phil's point that at the application layer for certain kinds of trading that needs frequent batch auctions eliminates me the but the more conditional more con conditional trading needs which intrinsically need to rearrange staff or condition I do a only if B and C happen that that strikes me as more of an open question so let me kind of put two open questions out to the audience which is what can you solve at the application layer and and what if anything can you solve with the protocol or different I think we're also seeing this super interesting uh effect in this direction which is a lot of uh so there's two Theses in crypto one is like the general or at least in smart contract chains and I'm like being very high level here but like do you have a general purpose chain which tries to optimize for like anything anyone might ever want to do and like have some reasonable compromise for the consensus across all these use cases or do you couple your consensus much more closely with like the actual economic activity that's happening on the chain and then make more like activist design decisions in like the consensus itself um I think this is kind of a version of that same question so like in in the in the chain world you could have like a batch auction chain which like only purely allowed for batch transactions and then there would be very clean abstraction boundary to reason about the rest of the world you'd still have to reason about it and like you still in my opinion need to to do some reasoning to fully solve Mev because there's still some Mev that's introduced by like our big U cross other venues but there's like a very clear boundary that the the Dex itself can control whereas when you look at something like eth something like cow swap trying to do these step uh kind of interventions on a more general purpose chain that boundary becomes like the flashbots auction basically which is like trying to stuff everything but the kitchen sink into like the block production and then it's a question of like how do you align your thing with this block production algorithm so that you still get the properties you want um I think which approach it makes more sense is like a religious question as Turin put it a few months ago which I really enjoyed but there's certainly a lot of experimentation to happen on both and my rough trolling is like I consider batch options and like the general purpose eth model um at almost like a cartel and I say this not in a negative way I mean cartel is not always negative but it's like a union it's like a union of users that are like we will kind of execute together and like throw our full economic weight behind this system that works a certain way and Define a boundary to like the rest of your option so that like the same way we would normally Define one against like the rest of the World by having been it's like a cartel with the sign flip that's people getting together saying let's collectively not get screwed collective bargaining yeah that's what I'm saying I don't say cartel is like a negative thing we're playing so it's my full pitch for flashbots for like the first two months was like let's make a cartel of people who work in any vehicle like aren't profiteering so like it doesn't all go to crap but uh then I I realized maybe I shouldn't pitch like a company I'm making like using the word cartel because like certain people have very strong reactions to that um but you know yeah Union I think is a better better frame for sure you have cartels bill um how do you think about the fact that the more complex application and kind of protocol logic we want kind of the more exotic and expensive Hardware we might need um and so there's a lot of different things of a centralization causes of hardware and in the hft world we have fpgas that can do 750 nanosecond full you know trigger to Target type loops and that's very expensive and complicated to design and so if we want to do some of this more rich and interesting uh State Transformations we might create uh cartel that's the hardware developer and they might be able to create some type of thing and so how do you think about the hardware layer when you're making these decisions this is this is one of the trillion dollar questions of like the next 10 years of crypto Finance I think it goes very deep I think you're totally right um in that like in some ways just the complexity and the dimensionality that Turin mentioned is already enough even without throwing more fuel on the fire that like this effect exists um especially if you push the latency it like makes it way worse right like if you look at Solana for example you need to use an fpga on Solana to extract Mev which like most people don't even understand but it's true and like the strategies you can do are much simpler and there's a huge Hardware Edge if you have like a slightly better fpga you can do more complex strategies include more transactions and directly kind of winner takes all the Mev game um I think I think that it's a it's a very complex space so I won't give any like prescription I think there's a few things that we need to be mindful of number one is like make sure the hardware is doing something that is actually valuable and like indispensable in a way so like if if the fpga's centralization force is just there because like some protocol parameter like kind of induces it is it really needed you know is this Hardware Edge for these manufacturers really needed to make the system work probably not um that being said for some Mev systems maybe there's like a fundamental trade-off of like the state space is just really complex the more decentralized we make it the more complex it gets there's Hardware edge here if that's the case then like how can we decentralize this I think that's what we're thinking about with swab it's like in some ways a decentralized computation Network for mub where we're going to try to distribute this like as much geographically as possible um I think this is like an activist thing though and it's like very much an open question right so if you like play out one obvious roadmap of suave it could be that like Intel suddenly is the Meb company and Intel like wakes up and they're like why are we making processors that are like for general purpose if we just use all these nice Fabs to like make better MVD Hardware will be like a trillion dollar company rather than like you know 100 billion dollar company or whatever um so yeah that's that's a risk and I think the the crypto Community needs to be really careful and probably like actively invest in like Distributing Hardware supporting Alternatives making protocol choices that make sure like one Hardware Mafia isn't principled over or privileged over like another um I don't think there's like an easy fix there other than be super mindful make sure the hardware is doing something actually useful and then try to actually decentralize that if it does need to be there and there's no other way um but yeah it is it is risky and I have this troll uh this super troll which is that Mev turns any proof of stake system into proof of work uh which is very depressing but you know noodle on that for a second which is kind of a corollary to your question proof of work was the most extreme version of this world I'm not fast enough to figure out that fortune cookie but I did what I had I realized because because you need to optimize this combinatorial problem in real time it's very computationally complex and if users want to push the latency bounds like lower it gives edges to people who have Hardware that like optimizes this better and they need to be doing like a lot of also not useless it's less useless I think it's like more proof of useful work because it's actually doing something useful but it's still like a grind you still need to grind all these like uncertain orderings and like run these like combinatorial Algos and so you know um and there's Hardware externalities there um and when we saw this in proof of work like proof of work the Asic manufacturers were such a political force they basically dominated the politics so there is a risk in the future that like Mev A6 exists and like Mev Asic companies are like a super politically important force in Meb um I think we can mitigate a lot of that with like sane parameterization but yeah the fundamental force is there and there's no clear answer to say like that won't matter or that's not going to happen right now I wanted to just Echo your point about useful versus non-useful competition I think profits incentivize all kinds of innovative Behavior um the I I always emphasize and and deeply believe that should try to align private in private profit incentives with what socially socially useful for for markets for society so that my criticism of latency Arbitrage is it's kind of socially wasteful or neutral to negative and then there's a lot of private incentive to capture it uh but Hardware Innovation isn't per se positive or negative it's a in service of what so if it's in service of rent seeking or socially negative activity that's one thing if it's in service of curing diseases or making the world a better place and that's that's that's quite a different thing so I I like to focus on what is the source of the Innovation Innovative incentive and making sure that that's a a positive uh not not zero to negative of worst so the the alignment of private and social is kind of a an economist riff I think we can also achieve that with Mev so like the ideal system in my mind under this model is like you know we like living in fantasy world it's like one where you get paved deploy Hardware into places that like aren't already Hardware rich and that deployment directly benefits the user like commensurate with the amount of money you're spending so it's not like an adversarial situation where you're you're like spending it and they're getting like exponentially screwed the more you spend uh it's more like spending it and you're you're you're relatively aligned with your outcomes and maybe you make more rent from the protocol because like you're optimizing user outcomes better there's a fee for you that's sane and like this is all aligned with like the actual social welfare function we're trying to optimize um how do we get there I actually think batch options are a fun key to this so if you take the framing of like unions uh that we had earlier like I do think we need to build protocols that support the ability of like various geographies to like unionize and if the protocol still works and is in fact more effective when this happens rather than less effective this is like my Geographic decentralization trolling and push because the worst case is we centralized like the us or Europe or something like that I you know but like the best case is like there actually should be computation in New Zealand right like if their users making transactions there and the system doesn't predatorily Advantage those transactions being optimized in New York then why not do the computation where the transaction is actually happening so I think this is where the care has to be taken make sure the system doesn't push those unions to like the central place and instead allows them to like exist in like their natural local geographies um yeah Eric I think it'd be interesting to use that as a comment on what happened with cyber I think a lot of people became aware of Egypt he's invested it when they started to see physical places coming between Chicago and Secaucus or wherever the the you know the amount of fiber that was laid and then we went to the more advanced stuff that even I know that bird droppings had issues um in the Mackenzie book he comments that uh but the world does need fibrous it'd be interesting to hear what your thoughts on how was that useful at all was the fiber laid for this or is it literally just for latency Edge hey when I'm open-minded that there can be unanticipated benefits that the the the um Innovation incentivized by high frequency trading activities might have some spillover benefit but I I haven't seen any specific reason to to see I have this this time-lapse data that uh it's a very dedicated research assistance build where you could see I called it the latency Arbitrage triangles you could you could see using um uh Federal I think FCC um Federal Communication Commission uh applications for microwave licenses you could see the line from Chicago to the New Jersey Equity markets and also from both of those locations to Washington DC get fat get straighter and straighter and straighter so DC because I see you you your eyes raise like government data that moves financial markets it's released in a data center on K Street it had been where all the lobbyists are just by coincidence um so there's this latency Arbitrage triangle that you can see in the microwave applications data and straightening the thing by a few extra fee I mean it doesn't cost that much money so like I don't want to get up in arms about it but also to find social value in that it's nuts um the fiber when transatlantic fiber or transoceanic Fiber that seems useful um I don't know where what the Delta is if there weren't an incentive from latency Arbitrage it's a it does come it does come maybe to this idea of um the social welfare function being a reflective of the fact that speed in this world was so relative if Phil has a four second connection and Eric has a three second connection you'll pay infinite dollars for that one sex Edge and so there is no like socialization of the welfare function goes all to that one Spirit yeah very relative and then so the social value is probably based on the absolute you know getting from five microseconds to four microseconds is it's hard to see a ton of social value at that but you know again I it's not like I have a a proof it's just a strong economic intuition I feel the same way I would like got gut check it at like five percent benefit versus like 95 burn for zero sum uh and like like my guess is like had you emulated the latency game in like a simulation Universe where they could all like invest this money and like get the same Edge um like there would be there would be little little difference actually um and again this is just like a gut gut feeling uh I do think there's some utility to speed I think the tricky thing is like the types of links they're incentivized to build like don't have high throughput and they're not like usable by the public so you know that's like where the where the winner takes all thing comes from um so yeah I see a little bit of social utility and certainly there's externalities of like if you get a better routing technique maybe that propagates to like other switches and like Google's data centers or something so you know very hard to like throw the full baby out with the bath water when you have like thousands of Engineers working on any Pursuit um that being said like I don't know if it's like super aligned with like the actual outcome of efficient markets which is like and that's I think where the zero-sumthing really like takes it from being much more aligned to like much less aligned uh if there was a way for us all to like improve the latency of markets together and like you know we actually each were able to express our individual welfare on that in like a mechanism that then optimized the social welfare I think you'd get to like a better social welfare with less Investments um so like I see it as like a coordination failure basically that like a lot of that money was burned but that's just my own political opinion and again this is this gets highly controversial with hft people I've certainly had you know face turning blue in conversations about this before so uh you kind of have to make your own judgment there I think the relevance to crypto to me is just like not even asking the value question it's just like do we want a global system or not and like how do we want the rents to be distributed in this system let's just like come up with something that we don't the value judgments on is like a much easier place to go than like oh this thing is bad so like therefore let's like moralize it uh I think we also see a lot of that in Mev like the truth is usually a little more subtle there are trade-offs like we should actually engage with like the subtlety of like how much money is going where and why like that to me is like the question that a lot of these things sweep under the rug by like popping to these different layers of abstraction where you lose like the core thing of like where's the money actually going follow the money is a good good general purpose instinct so where's the WV money gone that's what I want to I mean we have data on this um the Mev money is going largely to validators right now uh certainly there's some going back to users in the form of like transactions being mined because of Mev that otherwise wouldn't have been I would expect that to increase as users get more sophisticated and kind of leave Less on the table in the transactions they're making to be extracted by The Searchers of the validators um we're seeing Trends in like all sorts of Dex designs for that um some of it is going to the Searchers but on net I would guess the Searchers and this is not data so this is just my gut feeling it may even be a negative sum uh game where like most Searchers are losing money and like they're the new entrants are like subsidizing like the profits of like the few that are are making some Edge which is not great but you know um it's not like the Searchers are like raking home bags full of cash unless they have like a substantial Edge on sexes in which case they'd probably be raking the same bags of cash regardless um so that's kind of where the the Mev money is is going today lots of validators some to Searchers some to users well the middlemen like flashbots some of them take some rents today we don't so it's a pretty race to the bottomy market and I don't think anyone's really making a killing there or like extracting huge rent or anything Eric that's a great thing to end and on follow the money um I think that's uh that if we had to say something about today's uh an incredible uh incredible Summit uh follow the money I know that the ethereum um rig group is focused on some of this stuff and I think that's going to be some really cool stuff to come out of that so hopefully next time we talk we can do that this is the last Talk of the day everybody uh Eric thank you so much really appreciate it that was awesome Phil good to see you um Everybody these are going to be recorded chopped up and put on the internet and uh we'll see you soon 