all right so today I'm giving a talk on making predictions conditionally so in the course of this talk I'll be covering some stuff about odds independence it's just from probability theory some a lot of stuff about prediction markets which is mainly what this talks about and then then actually implementing this as in theory in contract so conditional tokens and finally I'll give a brief overview of how you can exchange these conditional tokens and what that gives so first off odds independence so you know people are generally interested I feel in the odds of things and instance it's really tighter you know what people believe or what you might believe me for what I might believe and you can say maybe that you can even quantify these police by probabilities so for example I might be certain to be sunrise tomorrow morning I'd be like well probability of sunrise happening tomorrow morning is a hundred percent or you know I might not quite believe that a particular quarter who egg heads up so I would say you know a probability of that coin landing heads up to 40 percent okay in fact uh this isn't like entirely the whole picture you know a lot of events depend on each other for example maybe maybe I won think about two different parameters about whether it's more like will it be cloudy and clear will be wet or dry and so maybe my beliefs like Sora liking this diagram and oh you know if my beliefs are sort of like this diagram then I might believe like well tomorrow will probably be dry because if you add up everything in the dry row it ends up being sixty percent which is morning likely and also I have no idea whether tomorrow will be cloudy or clear you out of kong's you'll see that they both out to 50% but if I assume that it's cloudy tomorrow are you going to believe that it's going to be wet more likely so that's basically something from ability called conditional probabilities and it's it's ahead yeah you know beliefs are complicated they're they're like like you know sometimes just just a single question can't like capture a person's like beliefs and stuff it's like maybe a bit more and you have to dig a bit deeper also I want to give a warning about this you should not confuse it with cause in fact dependence and positive effect of different things though there is a relation of stories okay so so that put that aside for a moment and we'll talk about prediction markets and so prediction markets over you didn't this is something that can be used to aggregate beliefs so Michael you take maybe go from what one person leaves you just aggregate that into what every by participating mark employees and this is also a good way to aggregate and beliefs because kind of all participants prediction market would have skinning them in some sense so hope we talk about a few different kinds of prediction markets one of them is a categorical market you have a question that results ooh one of many outcomes the only one of those but for example you might have a question who will be elected head of the Loom preservation to me and then maybe it's Alice Bob Carol or damn and so in order to have a categorical prediction market you have to have some collateralizing it so for example maybe half dollars and convert these dollars to Alice dollars Bob doe dollars Carol dollars and dollars in the ideas eventually if Dan gets elected that the van dollar would be worth the actual dollars or out of my system and then you get information from the markets of these assets the market price of the Alice dollar would then estimate the odds of malice being elected all right scalar markets are similar so scalar markets will resolve to a value in range for example how many moons will be counted in exterior census you might have a low of zero whose old moons dies or like you might have a high of a thousand moons no oh yeah there are a lot of movies in somewhere so with scaling markets you for example compare this dollar to known dollar in a queue of the dollar and then you might have a kind of a payout curve so if there are 215 loons counted that's like more close to zero than it is close to a thousand so in this case the knowing dollar would get in seventy five cents for each needed and the Killaloe dollar would only get 25 cents and you didn't I see in the graph out that works now the market price of both of these actually allows you to derive kind of prediction for how many wounds you expect to see at the time of the census so for example here if the Tyson phenome dollar is 40 cents on market and likewise the Killaloe dollar at 60 cents then you kind of go backwards on this graph to get a prediction of 600 lumens that's how I wish how many lumens are expected to be counted in the census and then so this part is combinatorial prediction markets so like sometimes it's useful to maybe think about how different questions are related how these events might be dependent on each other so in this case let's try and combine these markets and in this way of creating a combinatorial market you kind of make this grid of up um outcome accents things so basically each of these in in the in the combined market refers to and outcome from the categorical market and like on one decides on the scalar market but there are eight in total and kind of the ideas one one dollar can be swapped for the entire sense so it's been more complicated of one of the no moon dollars can actually swap for for that said basically the the ones I contained no moon and like ways or the Carol that the Carol dollars can also be tossed blocked for become police said that corresponds care and so kind of this there's if you get a market prices for each of these then you could actually see a joint probability distribution you can see beliefs about dependencies between these events so just something example like if if the note dollar itself was fifty cents in the queue elune dollar was fifty cents might say well overall I expect there to be around 500 lumens however if if Alice is elected in this case you have Alice and knowing this this asset being worth ticking since on the market and let's say Alice in 1000 is worth 10 cents on the market well both of these combined suggest actually that Alice has like about a 25% chance of being elected but if she was elected the gnome has like a 60% of that and like light C kill'uh moon has gone for eight cents in a person and so from this you could actually say well he expected Moon's under the condition that outlets it selected is 400 points so maybe I was not so friendly [Music] well at least some market thinks that oh okay so also as another example you could actually do this the other way so I maybe maybe you you see that you know Dan has the best chance of being elected right but but like let's say later in here you didn't pay attention to the election results and then my god you know it's that there are they're not as main looms as before you you should actually have like going through this in this probability distribution you should have expected Carol to have been elected so it's another way to look at these like this so so the payouts get multiplied technically it's a tensor product basically just multiply them and when the Oracle actually reports that you know for example Dan's elected and some I counted 250 wounds that everybody else and who's not Dan those assets are worth zero and then one dollar here gets multiplied by seventy five cents okay so how to implement this as a variant contract well first off third conditional tokens are kind of a way of codifying these rules about collateralization and they they they only go up to the collateralization so they'll actually explain how to exchange these but I'm still going to if I thought this is actually as a contract so so this is actually implement as in the RSC 1155 multi token which means that it's a single contract which contains every single conditional token whether and each of these tokens are is associated with an ID in this case the nomenclature chosen to represent that idea is acquisition item so so also the contract the conditional tokens contract that we have implemented is for a sort of Gnostic basically it's any account any aetherium account that can provide an answer to some question as long in this format and finally so going through it from this in order to define that condition you take an Oracle and some question and you just kind of hash it together so I could get you get a condition writing out this so conceptually a condition is common for coal and a question my gap question they have this made so horrible to TV chosen one to answer that question okay so I also have to briefly talk about this outcome collections so you also collect a number of albums like for a single question so like you can create this thing called Hoffman collection and basically it's it's technically a nonempty copper subset of clothes for a condition but basically you could do things like specify how it's for Carol what are you going to get to say like for me darren has an outfit collection you can combine these up in collections by into a combined album collection and you kind of be the way you view the combined collections is you connect them with like ends so in this case this LP collection represents the immense reality in which either Alice or Carol gets elected and the moon counts opposed to a hundred so so if both of these happen like I mean if Carol gets elected it really counts close to unzip or italics gets elected and blue council plus 200 then this that situation represents this outcome collection this is a little simpler it's like if this album collection represents like if it's Danny gets elected but there are thirty few loons okay so get a little bit technicality of things so in order to represent these collections you actually have to hatch them into a cryptographic group so like here on I'm choosing to use them with the curve but but but basically you just take this and you hash it into do thicker someone and and then to combine those you just you know you just take the group stone so you're you add the IDS for this and that and you get this ID if we know anything about elliptic curve operations or not like there's a way to add these hashes together that means that we can secure and any of your tours thought this in the literature it's called incremental multi set hash it's useful for hashing sets in principle so you keep adding elements to set without having to do too many modifications in system couch oh the right side in this in this conditional tokens system in 8 years 20 token may be used as idle and finally to get a position you just take one of these upcoming collections or combine Outland collections and you associate with some collateral so here it's Alice or Carol and 1000 lumens and it's backed by 9 and then we're like here's in their position it's it's just there and it's backed by me so to get a position I need you in just a few asperities it's pretty simple and then my kind of the idea is that all of these tokens all these are contained in a single contract that is the conditional tokens contract so also I want to do recall that earlier I was talking about prediction markets in general we have some wild at UK twinsies assets life and that is considered the close went to their collateral in the same way you can do this with your assets point smokings except one same time trust lessly backed by the contract of automatic excuse me okay so so you're also kind of split deeper and this is how you get to the kind of combines prediction markets you'd like them you might go from Dan under you know back by bleep to Dan and 1000 but pretend is there yeah folly this stuff is all great and conditional tokens but a lot of the real value from this comes from the exchange of instruments so like this is where the informations out like word you get the idea about the odds and mark the probabilities and stuff so they're in general like on to date ways to do this there's order books and you can have like whole bunch of articles the pro about this is you don't have a constraining the quiddity with order books you could like compliment really big orders and have like move the price around too much the thing on the order book but but with these conditional tokens see just a sheer number of word of books we thought the marriage would make it really hard too hard to work with especially had to use them well you're going to come on the market maker and someone like for example the Islamic bank or for just here I see 20-somethings in general they're Lilly depends on how much you're willing to kind of start funding the market maker at how much lost and market maker can expect but with this you can also price these assets a lot more straightforwardly and also though don't want to note that like with this would combine prediction markets in general like if you really get deep into it you can in order to generalize it can be really hard so why not both you know you could maybe have exchange type system work you know just the automated market maker is just some other participant in in fact that we've also been thinking about this this is uh it's definitely in the Laurence maybe you know like just having the robot that does all the trades and nobody will actually have to process all this automated market making stuff on chain which didn't really expensive though there are actually causes to doing this the automated market making one chain and that is that that contract and also act as probability more like you're hunting probability Oracle about events in the future which could be needs like for example maybe maybe is on chain probability workloads like well you're here on like I'm what you can expect any of these candidates elected like maybe maybe Dan that's pretty good at you know keep the loons alive it's like how it's also rather good actors but like you know Bob not so much he doesn't really care according to you know like how market trades you know and then maybe to think of like governments mechanisms for that so yeah anyway that's it for a talk yeah a bit of stuff to cover in 25 mins but yeah questions I don't like we're definitely as you know fiction more interesting coming out and stuff are you guys like releasing any documentation and all these concepts are like nice resources so too like that ah yes I'd like to say yes we're working order I did this this week like this doll new content so maybe you see it somewhere I hope the elliptic curve addition is big and like photography but we're rid of that but then - yes okay so the answer to that is I spent the last week like looking at some security vulnerability and it's a solution okay so it turns out originally when I was doing this I just took the actions of these and had them and if you'd like to hack this contract right now you can do something that's called a generalised birthday attack and yeah it turns out that in order to defend it against this attack yeah that used to more sophisticated combining IDs thing and then some I prove that combine them with like elliptic curve thing basically turns it into deep elliptic curve discrete log problem which you know that gets factored a lot of our current accounts are axe okay yes if you forgive the principal use case you have in mind for this combinatorial picture markets so the principal use case for us is not to Turkey I just wanted to highlight at the end as like a potentially a space for us it's really just about the information discovery so I just gotta be idea that you can see like kind of a bit more into like the conditional probabilities of things happening thatthat sort of insight might be finances yeah perhaps entirely store I think I think we are talking about that a lot of these markets is you using [Music] you're a maybe you have to get the okay from the regulator so there's a lot that we [Music] you 