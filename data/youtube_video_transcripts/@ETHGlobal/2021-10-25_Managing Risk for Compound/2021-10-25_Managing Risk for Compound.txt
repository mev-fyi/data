[Music] [Applause] [Music] so next up we have john and when is supply talking about managing risk for compound so i'd like to welcome them both on screen and uh let them uh get started so welcome yeah thanks for having us yeah thanks don um so money i think we start with quick intros you want to go first i can follow up there yeah um i uh have been in the uh the d5 space for maybe about a year and a half um previously i i worked in uh consumer lending and uh abs at kind of like a boring fintech company um and then just fell in uh with maker dao and and got really excited about that i've been working kind of formally with the makered iris team for about a year um and trying to uh be helpful when i can with with compound and and other lenders kind of um playing to to my knowledge cool so um i'm john i'm ceo at gauntlet um gauntlet is a financial modeling platform um that uses battle tested techniques from the algorithmic trading industry to inform on chain protocol management what this looks like is really sort of two things uh one we manage risk parameters for for protocols like ave compound um and uh and others as well as we also manage incentives for verbals like sushi and a few others as well so um yeah we use all chain financial models to drive on chain capital efficiency uh and yeah we recently i've been working with compound since uh 2019 uh and i know nick on the last call uh mentioned our our risk assessment that we published then and uh yeah and we actually just uh pushed a proposal through on compound to service the matter our relationship with them and continue to manage risk for the protocol going forward we focus almost entirely on market risk um which uh is the risk opposed to basically the use of volatile um and uh occasionally the liquid aspects is collateral on compound and um but you know i think one thing we'll talk about today um both uh monet and i is uh you know sort of the different types of risks and um and so just uh yeah looking forward to getting into that um so i think one thing that's probably top of mind for everyone who's been following combat over the past week and i think is the uh bug that we saw last week um so you know i think one thing we'll probably do is really talk about that a little bit and then move on to um some other risks and other risks in the protocol uh you know uh because you know besides just smart contract issues hacks exploits whatever you want to call them um you know uh like lending and other protocols like compound that use collateral um do face other risks and we kind of get into that after so um i'm assuming that people are a little bit familiar um with the bug on compound but last week um for the people that weren't uh a change was pushed to update some logic in the comp token distribution logic and this actually created a mixed calculation and how many comp rewards should be distributed to to certain users and um in doing so put um close to 160 million of confident risk um since then uh you know i think robert mentioned yesterday that um about 60 million comp has been unaccounted for um though much of the comp was actually returned to the protocol by um awesome users and members of the greater compound community um one interesting thing that i just happened this week was probably a kind of interesting thing to start talking about is there's actually been two proposals to uh fix the [Music] bug one of which was actually canceled this morning um and the other of which was going to be executed in two days um you know i think monet i'd love to know sort of your thoughts about um searching the trade-offs that we saw with proposal 63 and maybe we kind of start there and and start talking about sort of the you know path forward to fixing this bug and the sort of tough decisions that protocol had to make with regards to trade-offs um on risk versus growth yeah yeah it's all uh all trade-offs um so yeah proposal 63 um was pushed out really quickly um like props to to the uh you know community members who got that out so quickly um it did face there's like a standard seven days worth of uh like delay periods and voting periods before any new changes can go through governance so the sooner they got that out the sooner we could kind of um plug the hole uh so to speak but what it did is it basically just turned off the ability to claim comp just uniformly so anyone who tried to claim comp uh it would just that transaction would fail which would prevent any of the people who had like too much rewards allocated to them from being able to drain anymore from compound um so it kind of stems the bleeding um one issue with that though is that um certain integrators um not all of them but i think some they kind of like worked the comp cleaning into their workflow where if compound turned off the ability to claim comp it would interfere with with their ability to kind of have their protocols work or have their projects work properly um so compound faces like it faced a difficult kind of trade-off between the risk of losing some more of those comp tokens that are still at risk in the comptroller which even as we speak there i think there's you know a few tens of millions that could be claimed versus kind of burning some of our our key integrators who have you know taken upon themselves to to build on top of compound and that's something that we you know the community obviously wants that's that's a really important growth driver so yeah proposal 63 was was meant to kind of like quickly stem the bleeding but um it was it was kind of like decided to cancel it um to not impact those integrators and the hope is that either no more or not much more comp is going to be incorrectly claimed in the next day or two um and then proposal 64 which which is passed and is um is going to be executed shortly in like another day or two um that has like a more targeted fix where it just prevents claiming from from just those users that would have potentially incorrect rewards issued to them and it wouldn't end up kind of stepping on toes of the integrators so um yeah there's like it's kind of almost like a business risk like what what could compound lose in the long run um of being like unreliable to build on top of and is that worth more than maybe the uh the comp tokens that we might lose right now if people incorrectly claim them um i personally was was kind of surprised um you know that that the the trade-off kind of fell that way it's it's i think it's easier to to see like you know a specific amount of money at risk and say okay we're gonna go for that um but i could also see that it makes sense to like be just relentlessly kind of user focused and be willing to take a little bit of an l um to make sure that we're doing right by our users yeah um you know i think it definitely is a tough decision for the protocol i think you know from the three integrators i talked to um which were uh yearn idle and ousd um it seemed like actually only idle was going to be like uh truly negatively impacted in a way where they couldn't actually push a fix um that would actually uh mitigate any of the issues posed by proposal 63. uh you know i think it's a thing where i think in any normal organization you'd have someone who's managing these integrated relationships um and you know helping some expectations even maybe like doing technical reviews being like hey um these integrations are reliant on you know functionality like claiming comp rewards um and that makes them like very brittle to literally any functionality in the protocol um changing or being deprecated and so i think that um you know that's actually an interesting thing to sort of think about is like uh it would be normally really weird for a company to continue to put 40 million dollars at risk for um an integration that has driven much much less than that of value to the protocol um however like it's hard to manage these relationships when you know all you're doing is reaching out something goes wrong so i think it's an interesting thing to see how protocols in the future will kind of invest in um managing relationships so that in the case there were some issues where they need to make changes etc they'd be in a position to work with integrators um to sort of help figure out figure that out i think it's just incredibly unlikely that the impact on integrative proposal 63 uh is anywhere near close to 40 million in value now it's also very unclear the chances of this not being claimed right anyone who could have claimed comp um in the window between 63 and 64 could have also done so for whatever the past week and so um i think that there is some very tough calculus there um but you know i i think that a lot of the integra you know integrators were um understandably complaining about hey like well this is going to break us and like i think hey everyone empathizes i know we big gauntlet we depend on so many different api endpoint service providers etc we have to deal with stuff all the time um but i do feel like there's times where i feel like people maybe less than understanding for you know this is a solemn event for the compound community and compound protocol and its users uh and it's the worst thing that's ever happened to compound unequivocally and after like the worst week of your life like i would kind of hope that integrators and partners that are deriving tons of value from your protocol might be a little more understanding about some of these um issues and i think i think a lot of people you know tried to be but you know of course wanted to vocally um speak out trying to say like hey let's just try to figure out a way that we can not break these integrations et cetera but um but yeah you know i think it's a learning experience for for the community and hopefully something that other d5 protocols will be able to continue to um learn from yeah i think it's you could kind of say that it's like a really unexplored uh area of risk is like kind of like the business uh development and sort of more of like the integrations and like um yeah it's like a risk to your business even though it's not uh like strictly falling in like risk management uh frameworks or like something that gauntlet or or maybe you know myself we would have um kind of the most like focus on in a normal sense so i think it's yeah it's definitely been like a big eye-opening experience um yeah you know um i noticed actually if anyone has read uh roon from from maker's recent post i think he mentioned actually some statistics around the amount of uh i think cdps are not what they're called anymore um but the amount of collateral in maker that actually comes from either like kind of uh c5 on-ramps or other like large integrations right i think it's actually maybe like half of um the eth uses collateral and maker doubt all comes from a couple large positions so uh money do you have any more contacts on that maybe you could like shed some lighter color there yeah um yeah there's a few c5 protocols that um bring like really huge volume um i think like nexo is one of them that's kind of publicly known and they they bring like well over half a billion of of loan volume um there's some sort of like they might be c5 platforms or there might just be like mega mega defy whales like there's a set of like a few like large cdps that account for a lot of the uh like expansion during when each price goes up and then they kind of like unlever when it goes back down so yeah it's extremely concentrated and at maker we're only just kind of beginning to sort of see if we can handle these relationships a little bit more hands-on um you know like i think there's there's people ideating of like can we um can we see if we can like reduce our risk and offer also kind of more attractive terms to certain um sort of like institutional grade users um if they can prove that their their risk profile is lower than just like you know joe schmo off the street um so i think that's we're mainly approaching it from like the perspective of um like if we can kind of verify that they're devops and and just like their general risk uh posture is is good enough that we can make a better offer um but i think there's another element where um you know if if we're not really meeting their needs or if we had a situation similar to this and um our response was causing them a lot of problems um yeah that'd be a that'd be a huge hit to die um you know a lot of a lot of our die for me is from a really small number of users yes i think like given that i guess market structure or the pareto s distribution of of users like these uh sort of um like business development risks or i think i'm not sure how you put it i think these things will be an interesting thing kind of going forward in a lot of d5 protocols where trying to figure out how to um be the best i don't for instance compensate a lending platform um to integrate with and things like that these are things that could you know really drive a ton of growth and i think it's that potential growth is what probably drove the compound community to you know really try uh you know to really risk a lot to avoid breaking some of these integrations and i think um you know i i don't envy um you know everyone else here and who has to white knuckle this and really just hope no no more money is removed from the protocol next few days but you know i think right now uh everyone's been just scouring etherscan addresses trying to figure out um you know if people are going to claim etc and you know i'm i'm really hoping i got to replace a high confidence here that this is the right path forward and and uh you know i think it shows how important these um business relationships are maybe we can move on to other sorts of risks um but i think one thing um you know that any collateral-based system has to to reconcile is basically um loan to values or um in common's case they call them collateral factors um these are actually some of the parameters that gauntlet sets for compounding and as well as ave and a few others um you know i think monet you really thought about a lot of these risks in the um you know coming from the maker dow um i'd love to kind of know a little bit like how does uh you know maybe make or set some of these parameters and what does that look like and then maybe we can provide a perspective from how this works in in off and compound work work online manages for manages these parameters yeah um there's there's kind of a couple key factors that we look at um and you know primarily like we're we're trying to suss out like in a a reasonably worst case scenario how much uh the value could go down for some of these loans and whether we can get them all liquidated without some of them going like under collateralized and basically like bankrupt positions um it can be really tough to to do that accurately because um yeah you're really trying to like guesstimate um how much something could drop without necessarily a lot of like historical uh records to go by um so i think it's it's pretty typical like you look at the depth in you know order books and liquidity pools to see okay if you know we needed to liquidate x value of position how much slippage would it cost and you know if it's if it's causing like 50 slippage then um you know you you'd probably need to set a very low collateral factor just to make sure that you're still you know if you flip all that collateral and dump it on the market you still wouldn't be bankrupt um you you know you also look at volume which is kind of indicative of like people's willingness to buy a collateral asset um so that's another factor volatility and then also kind of like historical like max drawdowns i think in a way like the day-to-day volatility of like if something's going up five or ten percent a day and then down like those aren't the sort of situations that are going to cause real problems um you really want to like think of okay what are the um the real kind of market break situations where a collateral asset falls like 30 in a day or 50 or like 65 intraday like it did on march 12th uh last year um so yeah basically taking a lot of different kind of data points into account a lot of them are are shifting pretty quickly you know like volumes and liquidity depth can expand a lot and then kind of draw draw down a lot just depending on market sentiment um what i would say for maker though is i think we have a we have a bit simpler or maybe easier of a job of risk management versus uh versus somebody like compound or ave because um everyone who who's doing business with maker they're short usd they're all borrowing or minting in our case die which is which is usd so we only need to consider each assets sort of like volatility with respect to that one other asset that they're shorting um somebody like uh you know protocol like compound you can i would say most people are you know borrowing dollars uh that's kind of the most popular trade but you could uh go long east and short bitcoin or you could you know go long usd and then short any of the other collateral assets on compound um so it's it's um it's pretty daunting to be honest uh you have to kind of like consider any of these individual positions that people either do have or could have um and make sure that the sort of inter-asset liquidity and volatility is is not going to break you um so yeah i think it's it kind of gets that like one one layer deeper of complexity with with uh the money market protocols yeah i mean i think one thing though like maybe like depending on you know at what time point you look at cambodia have like maybe 60 to 85 percent of their borrow also in usd um so it's it's at this point just because the borrower usage on the more volatile assets is just lower um you know it the summer looks some of the risks do look pretty pretty similar from that perspective but i can talk a little bit about how gauntlet models risk for for protocols like compound anabe i think one thing to shout out here is you know we have a risk dashboard for ave that we launched a couple weeks ago we're launching one for for compound soon that just gives users community members um token holders a way to kind of look into like statistics like the current value at risk of the protocol um current uh parameter settings etc if you go to gov gauntlet.network ave you can see um the avengers dashboard but um you know behind the scenes uh beside behind all these numbers that we publish we actually focus on stochastic simulations that help us predict uh protocol behavior in the case of these really large drawdowns so what we do is kind of a multi-step process the first step is we use historical market data to train correlated price trajectories um so that we can simulate different uh outcomes we actually try to tune our simulations to like the march 12th volatile levels of volatility and so we basically then from these price trajectories um use uh agents that do things to like open up positions on compound take out uh borrows as well as uh liquidators um and so as these um simulations progress we actually just spin up uh like thousands and thousands of geth nodes and just run the compound contracts with agents like you know using web3p guys to call the compound contracts and like simulate out these sort of like doomsday scenarios and we take inspiration like the distribution of borrow um distribution of collateral distribution of line assets that currently currently exists on the protocol and basically configure a simulation that looks as much like the current state of compound is possible um and then by you know running thousands of thousands of these simulations we start to get estimates for basically hey in the case um of you know a march 12th type scenario what are the you know how many times out of 1000 does the protocol potentially um suffer an insolvency event and things like that and so um you know as i mentioned they recall like this actually these agent-based stochastic simulations these are things that you know come directly from a lot of the you know people gauntlets experience from high priestly trading where these agent-based simulations are also used to back-test uh hft strategies um and so um yeah one thing like is you know we i talk about var and i think var is something that you know i actually worked at goldman sachs in 2008 and i didn't really have the highest opinion of var considering what i worked there we got like bailed out by the government and warren buffett because of basically var underestimating the actual value at risk and sort of more general sense in the protocol or sorry in the in the company um when you look at um protocols by compound though what we do is we explicitly model these liquidation spirals as i mentioned we have liquidators when those liquidators sell collateral that has like fallen under the um liquidation threshold you know we're actually um you know simulating like price impact um off of uh slippage models that have been like trained against real world order book data and so this allows us to get like some pretty interesting um data around these sort of tail risk scenarios where we can kind of with a lot more confidence understand sort of these runaway risks that exist in these in these protocols and so um i think you know we're always trying to improve our models and things like that as well we're always shipping shipping new updates but um that's just kind of a little bit how how we think about risk in in these protocols yeah i would definitely uh recommend for everyone to check out the ave uh galwan savvy risk dashboard it's i'm pretty hyped on it it's pretty awesome um uh i guess do you do you think of any like um one thing that i've felt you know from time to time is that compound and ave as well they kind of have like sort of like limited tools at their disposal um i come from mainly working with maker dow and they have a couple a couple features like most important is maybe um debt ceilings where we can say you know a maximum amount that we're willing to lend against a particular collateral um so you know for something like rap bitcoin we might say okay we're only willing to lend 300 million or 400 million um which is like you know about five percent of our our portfolio um so then if you know big go gets hacked or some sort of um like out of scope tail risk event happens and it all goes to zero we theoretically could still kind of dig ourselves out of it um and compound and ave um as they're as they're built right now they don't have like a direct correlation to that um so i think that's that's interesting i think there's there's um there's kind of like opportunity there for strengthening the protocol with with adding a couple more like levers for uh risk managers like gauntlet to be able to like pull on um to keep stuff in line yeah you know uh levers are interesting are an interesting thing to bring up i think you know right now everything in compound takes seven days and i think over the past seven days um you know we've kind of realized that there are probably some things that we'd want to do quicker um and so i think over time it's going to be important for protocols to figure out how to delegate responsibility and power to people that can use that to help drive value to the protocol i think you know one example is like maybe last week having some way for people to roll back recent changes um on a shorter timeframe than seven days would have been something really valuable i think another thing would be really valuable is giving someone control using off chain logic over things like the reserve factor and so because i actually think that if you're going to do something like set a limit to usage uh in a protocol like compound or ave you end up making it really difficult to set an interest rate curve um that you know guarantees kind of liquidity and also set rewards and comp um in a way that's going to uh you know just kind of work over the long run i think one example of this is the comp market in compound um you know right now it's like completely maxed out and the comp awards in that market are actually like greater than the borrowing cost so it creates all sorts of weird issues there you know i think i would really like to do things like instead of actually just setting hard limits like i'd rather like market factors um determine the actual amount and so i think what that's what this would look like is the protocol vote on some amount of i don't know wbtc that they were comfortable having in the protocol and basically as you approach this number the reserve factor goes up and up and up and on up so that you actually hit a market equal you manage the market to an equilibrium based off fees that would allow um the protocol to basically manage exposure without setting an artificial limit which i think is probably the best way to actually um capture value in these markets um without uh you know with without as opposed to your your options to manage risk here where you're just setting a hard limit i don't know mona you guys thought about that kind of stuff or anything like that before i think that's that's a really good point and yeah you i mean the market is your friend like you want to kind of let it set equilibriums as long as they're they're safe i think limits can be useful because you know i think rap bitcoin is a great example where there's always that you know however small chance that uh like it just pulls them out gawks or whatever and just completely rugs and then that would be a huge problem um and you know you can't say exactly how quickly you know oracles would be able to reflect the new value being lower and you might have some value that that ends up getting kind of like exfiltrated out of the protocol so i think there's some ways where like some hard limits you know maybe kind of like higher than then you're likely to hit would still be useful but um but yeah i think there's probably a lot more that can be done just to like craft these marketed equilibriums into like kind of like safer safer zones well i think we're just about in time um you know i think you know some interesting uh points raised monet around you know different sort of risk protocols i have to manage going forward i think smart contract risk is always one that's been top of mind since kind of like the dow hack um but uh but yeah i think like this sort of business development risk and these other market risks that we talked about um as well as you know the risk posed by centralized assets are all things that protocols um like like compound and others will have to manage going forward um i i think it's actually kind of funny that uh people like i remember like people view the dao as some as some terrible failure but it's now crazy how many dows there are in the space it truly was a canary in the coal mine um but but yeah looking forward to see how these protocols continue to to deal with these risks and balance of trade-offs between between risk and growth um because i think any protocol that's too risk-averse is going to completely um uh you know limit their their growth and so i think it's it's really interesting to see how particles take different approaches here and and what the market looks like going forward yup the risk of uh becoming irrelevant john monet this was a great discussion thanks for uh kind of facilitating this and uh and talking about everything that's happening with risk obviously not a simple topic but uh for those of you those of uh who were interested um what's kind of the best way to get involved in this discussion um for the compound ecosystem pump.xyz um anyone can post on the forums um and uh you know i think uh we're both pretty active there as well as lots of other people who've thought about this just as much as we have so uh looking forward to talking to people there yep and the compound uh compound discord if you have like uh questions i think that's a that's a great place to to get them answered as well sounds perfect thank you so much [Music] [Applause] [Music] 