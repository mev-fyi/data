further ado i'd like to welcome justin drake from the ethernet foundation who is going to be our rouse master for today and uh justin will take over from here welcome justin thanks kartik uh thanks everyone uh thanks passport for for having me um i mean i i guess just to um to break the ice you know i i've been asked as a as a rose master to prepare some some roasty questions so you know i've taken my my job seriously i guess and i tried to to come up with the you know the hardest questions i could come up with and just to make it fun i i've kind of purposely used some abrasive language in the questions um so yeah i don't usually um ask questions like that unless maybe i'm in a really bad mood so i guess we can quickly um go through the questions just to give you um an overview of where where my mind is at and also i guess food for thought for potential future discussion today so question one why does the flashbot's definition of mev not include all extractable value such as evm fees this definition is confusing and wrong please fix it question two can we please stop celebrating the gas savings from off chain priority gas auctions those savings are absolutely minimal less than one percent of total gas usage and that's from the public source mev explorer version zero question three can we please stop propagating the misconception that the muv power hierarchy ends with all powerful block builders basically block builders are more powerful than the bots which are more powerful than the users this is fudd the power the real power hierarchy is um users at the bottom bots as the neck level block builders as a level above that and then daps and dab designers and then the vm like the enshrined consensus at the very top we primarily need to focus on better depth designs as well as vm level mev minimization and extraction such as eip1559 question four can flashbot's leadership tone down the concave thinking such as mv is fundamental and fairness is impossible we only need good enough fairness we don't need perfection and we only need good enough muv minimization we don't need you know perfect mov minimization question five can the centralization risk that stem from the flashbots block proposer white listening whitelisting in the context of eve 2 be properly acknowledged and taken more seriously question 6 flashbots are ev so that's realized extractable value only provides a shockingly small 5.2 percent increase in minor revenue do you find these small rev numbers compelling enough to justify the huge flashbacks effort and then the final question can flashbots.net be friendlier to non-devs and not redirect to a github repo so i guess that's all my questions and i'll now pass it on to to tina oh so it looks like uh tina is not here hello can you hear me yes thank you our roastmaster for starting out for being the bravest roastmaster and start out with a challenge to flashbots and uh i commend your um bravery and i would uh anticipate phil um on behalf of flashbots at the end of your your talk mev is fundamental to permission the system to be able to rapid fire style um address these set of seven questions we can dive into them later on if we had more time but um without further ado phil um would you like to um take over the screen share and start your talk yeah absolutely um all righty hello everyone can you hear me should i start my video also wonderful um alrighty so uh hope everyone is doing well today uh today we're going to talk about mev and what to do about it uh and provide a road map for how we tackle this major issue in the ecosystem so maybe let's start with a reminder of why we're here according to me from my perspective and a quote from the bitcoin white paper by satoshi saying the system is secure the bitcoin system as long as honest nodes collectively control more cpu power than any cooperating group of attacker nodes this simple sentence is super profound and speaks directly to what satoshi thought the security model of bitcoin was um honest and attacker nodes but really kind of this honesty model is not enough and doesn't underpin in my opinion the reason why we all find these systems interesting because in the real world this control of cpu power is actually expressed in money in dollars and in resources and economic resources especially as we have liquid staking and mining products things like derivatives things like cloud rental infrastructure uh that kind of increase the the ease of entering and exiting these cpu positions the game really becomes a game of money um and and its incentives rather than purely cpu power uh so what we're trying to do here is build systems that are economically secure and kind of assuming honesty among a fixed set is not enough because if it was we would use more traditional consensus protocols like pbft so if we disagree on this slide we're probably not going to agree on the rest of my presentation but this is from my perspective why a lot of people uh in my in my journey and in my learnings in the cryptocurrency community are here uh so so taking this into account let's take an economic view of mev i'm not going to intro muv because i assume uh if you're watching this and you're interested in this event you kind of know what mev is so so mev just being basically minor fees that they can make or validator fees from manipulating the system and taking an economic view of this it becomes pretty obvious that the most profitable action for validators or for minors or whoever has access to this value is to extract the value to extract it as selfishly and as efficiently as possible so let's think about what this means economically in a world where no one is extracting the value and the value is just kind of sitting there this means that any validators that engage in this pure extraction become the most profitable validators and they rapidly concentrate cpu power and therefore network control to themselves corrupting the security game that nakamoto posited in the slide before this includes things like fueling selfish mining uh uh and 51 attacks uh and things like that so to to be useful to exist in a world where economic incentives dominate and where we don't have permissioned fairness and permission trust assumptions we have to be robust to the above phenomenon we need to build systems that continue to work for users and continue to operate even though there's this economic concentration vector even though there's this ability for validators to concentrate power to themselves we don't want to build a system that centralizes itself basically to these validators so in this context um to avoid concentrating to to sort of validators who are willing to engage in pure extraction at the expense of the ones who are not we have to make sure we enter a world where if there is mev on the table and this is assuming that mev exists like in east today it's not talking about systems where maybe l1 is changed or l2 has changed we'll get to those later but assuming that mev exists we have to extract mev as efficiently as possible to avoid this concentration and everyone in the system must extract about the proportionate amount of mev to their cash power that would lower the margin of validator unfairness so if you own one percent of the hash power you should have about one percent of the mev profits if you own eighty percent you should get about eighty percent um otherwise if you have kind of a super linear function rather than a linear function there you get a direct centralization vector that kind of erodes these guarantees um and and harms the ability of this system to exist in this economically secured model um not only that but but a very real economic point from the stakers and validators we've talked to most takers and validators just aren't willing to leave mev on the table they want to be extracting this they want to have access to this value in most cases uh so this model of of leaving mev on the table if it exists is not realistic and what we should instead make sure is that mev is well distributed proportional to the validator or network hash power this is a joke from my blog post basically saying that to speak to my previous point we're trying to build systems here that are secure by economic incentives even in the case where we have adversaries trying to attack them and because people's rational self-interest is so large the systems continue working and and i think it's very foolish to think that these adversaries that we're building these systems against especially as they increase in value and become more political will draw the line at mev extraction and won't use this as a vector to attack the system so that's why i see sub-optimal mev extraction as self-defeating from an economic security point of view now i'm going to talk about why mev is fundamental and by fundamental i mean is not going to be reduced to zero anytime soon it's not going away note that this doesn't mean that we can't reduce mev a lot it just means that we will never take it to zero that's what the word fundamental means here so there's three kind of prongs three sources of the fundamental uh kind of value the fundamental vector of mev that i'm going to talk about in this presentation and their transcriptability interoperability and diverse trust models so why is mev fundamental well the first reason is transcriptability what we're trying to build is decentralized systems systems where trust is distributed and decentralized and in some ways democratized and to build these systems what we need is auditability without auditability we don't know what goes on in these systems we could have infinite inflation we could have double spends as a user we need some way to audit our finances we need some way to audit what other people are doing in the system and we need some way to audit the system stability ideally through cryptographic transcripts and through cryptographic audit logs that's essentially what we're building with these blockchain data structures unfortunately when you have these cryptographic transcripts that can be validated without additional trust assumptions you also introduce probability so that's something i cover in this blog post here from 2018 that talks about uh bribery infrastructure for vote buying and for other economic mechanisms but basically if you can generate these cryptographic transcripts you can condition payments on these cryptographic actions that uh that introduced basically this trustless bribe vector because of the existence of the cryptocurrency itself itself on which these actions are occurring uh so we want this decentralization we want this auditability so we have to build systems that deal with this bribery we have to build systems that exist in spite of it and in fact that was a big part of the ef's research agenda several years ago and i imagine continues to this day is how do we even define this model economically and what it means to be secure against bribery so that's very much ongoing work but we do know we want this we want to be secure against bribery now because you have multiple outcomes and you have this probability that is fundamentally a source of mev because these different outcomes have different values to different people in the network one outcome might be worth five dollars to me where my transaction gets mined first and another outcome might be worth zero dollars to me and same for everyone else in the network so this distribution of value across outcomes combined with this probability directly provides mev into the system another reason why mev is fundamental is interoperability so even if we eliminate mev within a single blockchain and within a single trust model or within a single l2 or whatever it may be there are other sources of mev that come from the ability to arbitrage sources of information flowing across different trust models so things like events on cosmos uh events on bitcoin changes in bitcoin transaction flow changes in prices on centralized exchanges these are all relevant sources of value that right now flow to the miners and the validators and are covered under this umbrella of what we refer to as mev and these payments will ultimately still be controlled by whoever controls transaction ordering or whatever process ultimately controls transaction ordering providing an incentive to manipulate this process so anytime you have information flowing across trust models which is required for any meaningful interoperability between systems you have some composability boundary there which entails some risk for anyone trying to arbitrage across these systems and this risk directly drives profit it directly drives arbitrage incentives and it directly drives the kind of bribery we talked about in the previous slide and even in decentralized networks this risk is not evenly distributed right so some bots some network actors are better positioned to capture this risk than others which introduces mev which introduces this distinct set of bribery preferences and fuels these payoffs to validators and two system participants to control ordering last thing that fuels mmb is a diverse set of trust models so you might just say why not slap a fairness protocol on our level layer one i've heard there are all these different protocols we can use to make layer one fair or make layer two fair why not just use a fair ordering protocol well there's not such thing as one fair ordering protocol and there's not such thing as one layer two that everyone's gonna use and there's not such thing as one blockchain that's everyone everyone's going to use in the real world you have multiple different kind of execution zones and multiple different trust models all with economic activity so here's an example from a fairness protocol so this is just one set of fairness protocols designed for permissionless systems with one set of trust assumptions and you can see depending on whether you want a leader or a leaderless protocol whether you want a synchronous network or asynchronous network assumption depending on what what guarantees you want and depending on which nodes you want to trust because these protocols are parameterized by which nodes are running them and which permission set of nodes you essentially choose to run these fairness protocols so depending on all these assumptions you get different execution and different protocol operation now assuming that many different people run these protocols and you have many protocols coexisting arbitrage opportunities across these protocols start to come into play in the incentives of all the nodes that run these protocols creating bribability and fueling mev so just the fact that nobody can agree or we can't all agree on a single set of trust assumptions fuels mev why because any protocol that requires assumptions can't be a universal protocol can't be a protocol for everyone in the universe and fairness protocols will always require assumptions why because fairness always requires assumptions fairness is a political concept fairness is an economic concept there's not a single notion in a single definition of fairness different users and different actors in the network have different definitions and different ideas of what's fair different markets require different protections against different styles of unfairness so i don't think we'll ever have a single fair fairness protocol the same way we don't have a single universal fair governance system in the real world or a single property ledger that everyone agrees on or et cetera et cetera it just doesn't exist there's no such thing as that single source of fairness so fairness protocols themselves by existing in these multiple zones themselves will also create mev and themselves will kind of require minor payments to run so just the fact that there's no single notion of fairness in some ways inherently creates mev and relying on a committee honesty assumption to to get past this and kind of move past this this point doesn't really work it doesn't economically scale because it breaks down once economic attacks and incentives come back into play and collapses back into trust assumptions i call that self-defeat so we can't just assume that we can slap a fairness protocol on and move on we have to actually deal with this fundamental issue of med lastly i want to say amiv is fundamental to permissionless systems for another reason why because all mev is is profit available to actors that are in a privileged position in permissionless networks and these profits are fundamental to how these networks operate so uniswap for example provides a permissionless bribe aka mev all mev is is a permissionless bribe to any arbitrage bot who brings the price back to market that's why the network offers market prices even to illiquid pairs because of this mev maker dow offers an mev-based bribe any bot that maintains or stability of the system by liquidating vulnerable positions without mev maker dow wouldn't be stable or it would have to rely on a permission set such as you know keeper dao or some other protocol that has a more permissioned elected and advanced set of bots the fact that anyone can come in at any time and restore the system stability is what gives miners the ability to extract this profit is what creates this mev in this analysis so same with these other systems and permissionless bribes kind of inherently run these systems for users and create mav so many times we want to design with mev and not because we're all foolish and not because we're all bot operators that being said i want to address some misconceptions that might come up in this presentation so i'm not saying that we can't reduce mev i i'm not saying that a lot of the forms of predatory mev that exist in the network like uniswap sandwiching um can't be reduced or can't be made more in line with user and protocol incentives and i'm sure we can do this at the dap layer and i'm sure we can do this also at the layer 2 and layer 1 level and i'm sure we're going to hear all about all these things in the rest of the roast i'm not saying that mev should not be minimized so if you're a user you shouldn't use protocols that have a lot of harmful mev you should only use protocols that expose mev that's necessary to their operation i'm also not saying mev is a virtue it's not a moral issue or a moral virtue to extract meb and i'm not saying today's system is the best i call it the least unfair today's system is probably unfair more than it needs to be and we can reduce that in a lot of ways with smart dap design i am saying we need to think carefully about mev we need to blame dapps and we need to beware people who are trying to sell silver bullet solutions saying this one protocol whatever the protocol might be will eliminate mev for all use cases it may eliminate mev for many use cases and it's something we should think carefully about but we also need to still deal with this issue because it's still going to exist in the cryptocurrency world no matter what we do and this is something i'm happy to debate on and i'm sure we'll debate uh kind of people on the panel later if you want to read more you're welcome to read kind of the expanded form of these arguments on my blog uh it's linked here uh i highly encourage that and lastly i think i'm out of time so i will leave you with this slide which is summarizing my blog post and says what i need to do sadly i don't have time to answer justin's great questions but i'm sure we can make some time for that and also hit them in the panel that uh justin and vitalik and i are on later cool thanks everyone hope you found that interesting happy to hand it back to the roastmaster take questions whatever the relevant order is i will open the chat now do we have any questions for phil um i mean i kind of have one question which is you know one of my questions there which is you know you say that mev is not fundamental in the sense that we can't get it to zero but you know who cares about zero right what about one percent if we remove 99 percent one percent is negligible and we can just forget about it um and i think my intuition is that every technique uh basically might remove um you know half of the remaining mev so for example eip1559 that might you know ex extract and burn half the mev and then you're left with the other half and then you might have another technique like i don't know bdfs or whatever and then you have all the other techniques and then they they gradually chip away and because you have this um this distribution basically as soon as you have five techniques you've you've removed the bulk of the mev and so even though i agree it's true that maybe is fundamental um it's a bit defeatist in the sense that we should really be uh focusing on the on the solutions that will chip away at the mev yeah i totally agree with you like uh the reason i started researching meb is because i think it is a fairness potential fairness issue for everyone who uses uh cryptocurrencies whether or not you use systems with mev other people's mep also affects your system so that's an important point to make so i think it is important to reduce it as much as possible that being said you know i've written personally many libraries many papers on mev techniques and like thought about this quite a lot my personal opinion and i'm happy to to debate this and maybe maybe we i think i do want to debate this on the panel uh that we're on is that all of these solutions have some ux trade-offs um and like one example is is batching right or uh delay-based solutions like vdf-based solutions all these solutions have ux trade-offs for users and the question is like what do people prefer are there still going to be people who want to use this real-time exchange and are there people who are going to prefer to use this kind of delayed exchange of eip1559 what's the ux trade-off if anything it's a ux benefit i don't think eip1559 affects mev it it introduces like a static base cost for transactions but ordering can still be done completely out of band uh if necessary um well that's because you have the definition of mev like that goes back to my question one which is mev should still include all extractable value which currently includes the fees um and you know mev is bad for many reasons for example it leads to chain instability and so eip159 does definitely reduce mev by not giving it to the block proposers so i think the transaction fees people are paying for inclusion are actually a very small percentage of the eventual muv market even today in many blocks in a substantial percentage of blocks like several percentage of blocks they're negligible compared to uh other mev sources which makes them already negligible in the consensus game whether or not they're always negligible if they're often enough negligible which they are like they're the you know they're what we should be designing for in my opinion uh and so those fees are are not spoken to by one five five nine so you're right it does change the dynamics a little bit in that some of the transaction fees are burned but it's plausible that miners or transaction fees could increase to accommodate for that and if not it's plausible that there could be other out-of-band games um so i do think yes it specifically for for kind of congestion fees and chain stability it starts to chip away at that issue but there's still like uh you know the game is like still fundamentally unchanged and like the deeper protocol level mitigations are still things that were we haven't explored yet um and i would love to discuss those too and i think there's a lot of stuff we can discuss there um but but my kind of journey on this is that like i spent a long time with with a lot of projects i advised you know decks protocols uh other smart contract projects things like that trying to get people to address mev trying to get dapps to address mev and then the main pushback was the ux trade-offs like their users didn't want it except as an option and once you introduce it as an option and you have liquidity that's split across these different mev solutions that actually ends up creating more mev uh which is kind of what the analyses showed so that's kind of why i'm coming at it from that perspective i don't think there's nothing to be done there like i do think there's something to be done but i think that like i've personally run into this brick wall of ux trade-offs often enough that like i'm not trying to be defeatist i'm just like a little bit defeated and i encourage people to like you know keep coming up and keep kind of chiseling away at this because i think it is super important and it's very under researched and like having more people on it i think reduces the probability of defeat there phil what do you think about the engineering arms race of meb because mev doesn't have like zero cost to extract like someone has to build the analysis systems to uh to do uh mav extraction and i think like one of the patterns that i see is like the like perception of extractable value has to reach some sort of critical mass before the engineering starts to happen like uh there was like some amount of extractable value and it uh threshold that ethereum reached before and maybe extraction like became serious and you know i would observe for years like that like we would they're like oh there's mev here but no one is extracting these because like writing that code was not true it was not true yeah i agree um uh and part of the reason we started flashbots is that we saw that equilibrium sort of shifting in the run-up to this current bull market and i think like anyway this current defy boom and this current uh youth bull market combined with the the rise of so many different d5 protocols on eth have made emmyv on each just like too big to ignore and i think there are several different projects that are out there at least a dozen that i know of that are actively you know working towards building that infrastructure so i think that is true for a while uh but i think especially for eth today practically speaking the the size of the market just grew so large and the design is what it is like we can talk about changing it and i think that's a conversation we can have but like in practice it just did grow to like a multi multi-billion dollar defy market very quickly uh without having designs that were ready to compensate for the changes in mev so in that situation like the the infrastructure cost becomes really much lower especially when you have like desperate miners um who are who are looking at things like proof of stake so yeah i do agree with you at the same time i think uh that cost was starting to be paid by many entities and so the most important thing to do at that point is to try to democratize things as much as possible in the short term and try to advocate for reduction and for dealing with this as a commons issue in the medium term i think this relates and like the connection i wanted to draw to um like this like portfolio of mitigations is like we deploy these portfolios of mitigations we work on these portfolio mitigations they have ux trade-offs um and then we don't ever know whether or not you've actually mitigated enough it's like any kind of security mitigation like you don't know if your mitigations are good enough because as soon as one leak becomes valuable enough then like engineering resources will get focused on like extracting as much value from that and that's that's another aspect of it which i like sort of relates to like the fundamentalness of mav is like we can keep working on mitigations and we are like morally obligated to work on mitigations but like the mitigation like you will never know if you've mitigated it enough yeah i think we can only like observe kind of the second order impacts of mitigations and like keep introspecting and it has to be a continuous process because this is like essentially what we will we are rebuilding uh and we will rebuild is like uh the the general financial arbitrage game that was built in like the 90s on wall street uh which which i think we want to avoid a lot of the pathologies of but i think there are real parallels here uh where you know uh i see mitigations as like kind of exchange design and fairness proposals in that world that try to increase fairness by doing things like batching to try to reduce uh profit for hft um and and i think a lot of the analyses that people have there on fairness kind of apply to mev also you can port them into this world uh for example um batch auctions like you can analyze them to be more fair than limit order books at the same time there's very little data on how fair they are when they coexist with limit order books and like what arbitrage across them looks like the same way like fairness protocols you can analyze them to be fair in isolation it's much harder to analyze what they'll do in the real world or what they'll do when there's they're running for a while or as incentives change as people get corrupted as they get attacked things like that um so that's kind of i think the work that really needs to be done and it's like multiple decades of research that needs to go into that 