okay stream is good cool thank you everyone who's joining via youtube or who's going to join this call we have brandon millman from xerox who's going to show you how to access all the liquidity on decentralized exchanges using the 0x api thanks brandon i'll let you take it away yeah for sure um cool thanks for the intro heather um everyone my name is brandon i'm from xerox and today i'll be talking uh about how to access all dex liquidity through the xerox api um so first just a little bit about myself i've been working on the decentralized exchange problem as part of xerox since 2017. currently manage two different engineering teams that are working to bring decentralized exchange to the mass market and one of which is responsible for bringing you guys the xerx api so yeah really glad to be here showing it off to you guys so what exactly is xerox labs um well xerox labs is a company that's building decentralized exchange technology with the goal of driving value in three main areas so those three areas are one surfacing better prices within existing markets so think eath die uscc etc the second is establishing new markets where none currently exists so think about futuristic assets assets like governance tokens protocol tokens lp shares etc and the third is to create novel trading experiences that extend market access to a broader segment of users so basically bringing dex to the map mass market so how do we drive value in all these areas well we have a couple different ways of doing that first is the development of the xerox protocol itself uh this is our core dex technology that lives as a combination of smart contracts on ethereum and advanced off-chain infra that helps connect traders that want to trade with one another uh the next thing that we have in-house is periscope trading periscope is a crypto native trading desk that helps surface competitive prices and bring liquidity to d5 and other nascent p2p markets third is matcha so matcha.xyz which is the url after nearly four years of building xerox protocol and enabling others to build great d5 products our team has had a ton of new ideas for how we can make it easier for more people to access exciting new markets and thus matcha was born if you haven't tried out yet here's some cool new features from the product so here's a dex depth chart which is something that doesn't really exist anywhere else this actually shows you in aggregate as a global liquidity pool what do different decentralized exchanges offer in terms of liquidity matcha also has limit orders historical charts basically everything that you would expect from a modern trading experience so yep just quickly plug much again so if you go to matcha.xyz if you want to give xerox api a spin or or any of this stuff to spin yeah check it out and then yeah finally the last project which we have which you know which is in service to driving value to the kind of three things i talked about earlier is xerox api which again powers matcha and then will be the focus for the rest of the talk today cool um all right so just a little bit of outline about like what we're going to go over so first we already went through a bit of intro and context next we'll talk about what is the xerox api and what do you use it for after that we'll talk about why would you use xerox api over other solutions um how do you actually use the xerox api and uh afterwards we'll reset time for some q a all right so first up is what is the xerox api and what do you use it for cool so what is the xerox api so in a nutshell let's say the xerox api is quote unquote an api for aggregated dex liquidity so that is a phrase with multiple acronyms in it um so let's let's what does it mean exactly let's let's break it down so first word api this could mean quite a few different things but in this case it just means that it just it is just a simple http api so you send a request to the xerox api and you receive liquidity next word well starting from the back uh liquidity what is liquidity so liquidity is is assets that are ready to be bought or sold at any moment um so to illustrate that a bit better so here's a screenshot from coinbase pro the way coinbase visualizes liquidity is two different ways there's an order book on the left which you probably recognize and then a depth chart here in the middle so up here is everyone who's willing to sell uh btc at the moment everyone appears down here as well people willing to buy btc at the moment so that's what we mean by liquidity um and yeah the next word is uh or acronym rather is dex which stands for decentralized exchange um decentralized exchanges are sources of liquidity that live on the ethereum blockchain so some high examples to highlight 0x balancer unisoft kyber curve etcetera probably heard of all these different things before these are what we would consider to be decentralized exchanges or sources of liquidity that live on the ethereum blockchain and then the cool thing about ducks is not only do they allow you to trade kind of in a permissionless and non-custodial manner um they tend to be the best and fastest places to get certain types of assets like for example dye compound tokens or other yield farming related tokens they tend to be like kind of the first movers there um and a lot of these assets are available first there and tend to trade most of their volume on dexes as well for you know a lot of different reasons most recently because of their their ease of compatibility with other yield farming type applications it's really easy to jump between pools et cetera if you're using a decks all your assets live on your ledger or however you want to manage um cool and then the last keyword in this phrase is aggregated so we just saw a list of different decentralized exchanges that are integrated into direct api we all know there's a lot of fragmented liquidity nowadays especially with recent liquidity mining trends and whatnot as a retail trader it's really hard to figure out where and when to get the best price so you can think of xerox api as your one-stop shop to for solving this problem as a retail trader slash a developer that's serving retail traders how do you how do you get how do you figure out when and where the best price is um so if i can draw an analogy think of kayak for example so as a consumer of flights there are so many airlines airports and routes that you can take to go from point a to b it's really hard to get the best possible bang for your buck and similar to kayak xerox api helps you find the best bang for your buck as a trader so check out this depth chart again which is available on matcha these are available in all the different markets on matcha you can play with them and see them in action here you can really easily visualize the the aggregation and get a sense of how potential order sizes might be split across different liquidity sources so for example here if you wanted to sell 515 000 die for usdc it'll show you kind of like how we would intelligently route that across different sources in order to get you the essentially the best price and best bang for your buck um cool so yeah all that kind of brings us to our final phrase xerx api is an api for aggregated dex liquidity it's a simple http api for accessing assets that are ready to be bought or sold across multiple decentralized exchanges all at the same time um so we can go over a quick example of what it means to use the crx api or a simple request flow with the api so first a trader comes and he says i want to buy or tray i want to trade 100 for usdc so the first thing that happens is that an http get request is issued to the xerox api the xerox api basically does some magic returns in step two returns an unsigned ethereum transaction in the form of json back to the original requester the third step the requester signs the transaction using whatever method they choose and then the fourth step is that the transaction uh once signed gets sent over to the ethereum mempool also through kind of whatever method you you prefer whether that's running your own node infera alchemy etc so yeah just at a high level that's kind of the basic flow we'll go more into depth later but this is just kind of a high level overview of the flow to help with your your understanding cool and here are some examples of what you would use xerox api for so basically you'd use xerox api if you want to build an application that needs access to liquidity and so here's some examples of customers of the xerox api at the moment that do just that so first of all defy saver if you haven't used it before it helps users save cdps by accessing die and e liquidity that's one user um zarian they have um they build kind of this dashboard for for defy users if you ever use their exchange functionality that's also being powered by xerox api that helps helps users make smart trades uh next customer metamask this is actually coming out today hopefully um so this is uh this is similar as aryan um metamask uses leverages xerox api to help uh users make the make smart trades with deep liquidity and of course there's matcha as well cool all right so we just went over what the api is and what you might potentially use it for the next thing we're going to go over is why you would use xerox api over other competitors cool so the tldr here is that you know you would use xerox api versus others because of performance it really is all about the performance of the service that you're providing um and i think that we have the best and most thorough performance benchmarking across the whole i think decentralized exchange space in general and we can go into a little bit of of our findings but first how do we actually measure the performance of our api so we track kind of three metrics pretty closely the first metric is adjusted price adjusted price basically means the price that you get for a trade after fees so it's how much money ends up in a trader's pocket after fees the second thing that we go on is reverts keeping them low and the third thing that we go on is reliability and response time and know kind of classic ap like web api performance metrics um and then by the way all the charts that i'm about to show uh all of them are from our latest blog post called a comprehensive analysis on dex liquidity aggregator's performance um and we're actually doing kind of like a live ama on reddit as well actually right now um so if you guys have any questions that you feel like weren't answered or you know want to learn more um i'll be sending out some links um to everything that i reference in the talk after this but you know feel free to jump on reddit or i jump on discord and our discord and stuff i'll send some links afterwards um but cool let's just kind of dig into these different metrics so first adjusted prices um so let me go walk through this graph so the graph this graph shows the percentage of time that xerox api produces the best trade including fees for different types of trade sizes and so you can see you know there's different bars here one for the low trade side range trade size range 100 to 500 and another bracket for all the way up to 500k to a million dollars um and yeah so basically tldr here is that about 72 of the time the xerox api will actually produce the best outcome for a trader and just a little bit about the methodology that we use to produce these results so these results were actually used using comprehensive simulations across the most popular assets and most popular trade sizes up to one million dollar trades which we actually see quite often um made by users in matcha actually have seen someone trade 10 million dollars at once through matcha which is just insane um and the reason why we chose to do this simulation based methodology is that it's really hard to produce a fair comparison between swaps if they're if not all if they're not sufficient variables normalized so you know trades can occur occur in different block times trades can occur on just with different conditions so these simulations just really try to normalize as many different factors as possible to create the fairest comparisons um so again so yeah the methodology is is um the exact methodology that we use is described in more detail in the blog post that i'll send out afterwards and we're also doing like a reddit um ama as well where you can we can get way into the details um cool so how do we actually produce such great prices well one of the pieces of the puzzle is adjusted gas prices um the reason why we're able to produce these results because of our efficient gas usage so this graph comes from the same simulations i just described and it shows that the xerox api out competes all other options besides unit swap when it comes to gas usage however if you've ever tried to trade large size on u-swap you know it does not perform well in terms of pricing and slippage so i don't know if anyone's ever tried to trade one million dollars at once on unit swap but definitely don't do that so you're going to get mega wrecked so all things considered you know gas gas cost routing and all that we're able to kind of produce these adjusted price winners um cool all right so next thing i'll go over is reverts so similarly to before the results up here are produced using simulations these graphs show the percentage of these graphs show revert rate or percentage times different liquid apis will revert given different time delays so basically we'll we'll try to try to understand how different aggregators perform given different types of memphil conditions let's say like two two or four blocks go up in between actually getting that transaction and then landing and getting mined on ethereum how is that going to impact your revert rate so we've done a lot of work and and kind of gauging how that would uh play out and you know have also shown that matcha has matcha lyrics api has a superior rate versus other competitors um and yeah everything i've talked about so far has been simulations we also do quite a bit of on-chain data tracking as well uh this is the on-chain data um pulled from a bunch of different um aggregators on dune analytics and also shows the on-chain revert rates uh being quite low in addition to simulations and of course these these reverse rates are not normalized so the types of training activity happening on one venue are not necessarily the same as the other venue on on chain and so you know take that how you will um cool and then the last thing that we measure quite rigorously is reliability and response time um so here's a graph of the response time that we've measured from a bunch of different competitors in the graph you see the api again outperforms liquidity apis in terms of response time this means if you use the xerx api you get your trades faster um one thing to note the unisoft's a little bit out of place here because they don't necessarily they don't have an api you would sort of get trade information from them by contacting inferior using your own node um but all of these other aggregators use a very similar like kind of web api based method um cool so yeah that's it for the metrics and so you know as a result of all this optimization we produce the best outcome for traders who need liquidity um especially those especially for those who need large volumes so so take these transactions for example i'll link these uh afterwards again so for in this example we actually had a trader come through matcha that wanted to trade 7 000 eth at once into usdt um and was actually able to convert that 7000 eth into 2.3 million dollars worth of usdt um in one transaction and the this pricing was actually only made possible because of routing across unit swap and sushi swap actually in this example um at the same time um and then here's another example this user came along there's an even larger trade but by the way these trades if you look at the time stamps both happen within the last 24 hours but these types of trades are being made all the time um this trader traded 8 000 eth into 2.7 million worth of wbtc and again this pricing was only made possible um by like running across multiple sources in this case you know swap and balancer so xerox api lets these traders move huge volumes of minimal pricing impact and no requisite understanding of how exactly they're being routed but over time these large traders have come to understand that matcha sagittarius api is the is the best place to make these trades and it's just evidenced by the the huge volumes that are going through cool um all right so now that we talked about why you would want to use the xerox api uh versus other competitors um let's talk about how how you would actually use the api okay so we're gonna look uh back at the example request flow that we that we kind of walked through earlier in this example a trader comes along and they say they want to trade 100 die for usdc they issue an http get request over to the api and let's dive in a little bit here and see like what exactly that get request would look like so again we have the the goal of the trader i want to trade 100 die for usdc um and below we have the example request that that would map to so um so first the trader express is 100 and this gets expressed through this cell amount parameter in orange note that the cell amount's actually in way um so for so in other words this is 100 with 18 zeros at the end um so that's a small gotcha with using the api but with so many different tokens with all different types of decimals this is the best way no pun intended and um next um the trader expresses that he wants to sell die by specifying the cell token parameter in yellow and they express that they want to receive or buy usdc by leveraging the buy token parameter in blue so altogether you get this final request that expresses that trader wants to trade 100 for usdc this request goes through to the api and the api sends back an unsigned ethereum transaction in the form of json in order to get signed and sent over to ethereum so if we zoom in a little bit on that this is kind of an abbreviated version of the json that you would get back it has all the primary fields that you would need in order to interact with the contract on ethereum so we have the two field which represents the address that you're sending transactions this transaction to the value uh which is the amount of if that you send with the transaction um yeah so that's the amount of eat that you send the transaction um which is important because sometimes you actually want to be selling if and the best way to do that is to send youth along with the transaction so that's something to note next field's data this is the actual call data that's going to be sent to the to this contract up here and then the estimated gas that's going to take as well as the gas price that you should set with the transaction when you send it um yeah so that's a little window into what that response looks like again the response comes back to the user and the user signs the transaction kind of with that whatever method they want so some people run their own node some people use metamask some people just have you know their own tooling whatever you want to use you just need to sign the transaction and send it like you would normally um and yeah once the transaction signed can be sent over to the ethereum and pool through any method you prefer again some people run their own nodes and then other people use something like infera or or alchemy to do that and then yeah once the transaction is mined the trade will be complete so here's kind of a little bit of laundry list of other advanced features that we also support in the api um everything's in the docs again i'll send the docs over after this but different things that you can control for slippage um you can you can use xerox api in conjunction with meta transactions if you want to actually send transactions on behalf of users other stuff that's available in the response there's detailed information about how the order is getting routed across different venues you can add affiliate fees on top of your transactions if you want to monetize the order flow um and you can also actually also use uh xerox api in conjunction with custom smart contracts if you actually want to pass call data directly into a custom smart contract and use it use a swap in conjunction with some other on-chain actions you can do that as well we have guides for all these things uh there and they're in the docs and again also i'll send the links um cool so that's that's about it um if you all have any questions um now would be a great time to ask um just in case you have some questions later or if you your question doesn't get answered here are some other ways to find me so we have an ethon line sponsored channel in the east online discord it's hashtag sponsor xerox labs we have a discord which the link is here but i'll send a link also as well out to in another venue but that's a great place to get support from me or any other member of xerox and also just feel free to email me directly at brandon xerox.org um as well and that's it awesome thank you so much brennan yeah for sure everyone is in this uh zoom call you can meet yourself if you have a question for brandon so go ahead if you if you have any hey i got a question yeah for sure what's uh what's the roadmap for uh nft support yeah that's a good question so this api is definitely geared specifically towards erc20 trading in terms of nft support i think this this specific apis is not going to help you out um but xerox protocol as a whole is compatible with nfts and there are quite a few applications including the gods unchained marketplace that use xerox to trade nfts and we have like kind of like a specific set of like uh tools and stuff that um like our like and guides and everything that are geared specifically towards that um and so let me just jot this down but i will send out a link to like kind of everything that we have for that um but yeah unfortunately this specific api is not it's not for nfts but overall we we do support nfts what about um layer two networks like xdy um that's a good question so not natively um i'm not 100 sure of all the details of x die uh right now we're purely focused on basically making sure that uh we have the best performance and offering on layer one and basically we're waiting out a bit longer to see how layer two shakes up just because it's quite open-ended still so but in terms of layer two in terms of layer two in general we actually have sort of an orthogonal project going on in the company called xerox chain um that is a zero knowledge proof based l2 scaling chain uh that's sort of like an r d phase at the moment um if you use something like loop ring similar in ux to that you deposit and then make a bunch of high speed trades and then withdraw later um but yeah you know at this very moment uh we're just kind of still waiting to see how l2 shakes out um what we're seeing i guess like in the market and in the data at the moment is that you know the vast majority of trading happens in conjunction with other you know actions that you would take on other ethereum applications so for example for example someone has their die in a y phi y urn vault they decide it's time to take that die out and they there's a better opportunity to go over to become a unisop lp so one thing that they might do is withdraw their die from wi-fi exchange half of it into eve and then put both of those like requisite um asset pools into unit swap to become an lp um this solution is perfect for them because they're able to do those swaps directly in their wallet versus if they have to go to if they have to go to an l2 it's it's pretty much a non-starter because they it's way more transactions they just want to kind of get quickly in and out um it's kind of different user profile um and yeah we're kind of seeing most of the volumes be dominated by that specific user profile at this moment that's not to say that you know stuff won't shift around obviously like every week is different in crypto so um something that we're definitely tracking very closely thank you yeah for sure sweet does anyone else have any burning questions for brandon or the xerox team silence is golden um thank you so much brandon yeah for sure this is great yeah of course congrats on the um lunch today yep thank you um yeah and again you know i have a bunch of links that i referenced like throughout the presentation um i'll work with heather just kind of send that out to you guys in the best way possible uh if you have any other questions please join the sponsor channel we have our own discord send me an email and i'll hopefully have time to get to it um otherwise yeah thanks thanks everyone for for tuning in sweet thanks everyone 