any of the products that use our infrastructure yourself at some point maybe i know if you i don't know if you have traded on quick swap or like spooky swap on phantom or used insider before something they're all using our infrastructure for one use case or another so yeah if you have so definitely let us know awesome to you always cool um so looks like our stream is up so let's get started um hello welcome everyone to the gelato workshop um it's nice of you to join us this evening or afternoon or morning um wherever you are depending on where you are in the world and so we have elmar from gelato doing his workshop on how to automate your smart contracts using gelato and with that being said drop your questions in the zoom chat if you have any and i'll pass the mic off to homer yeah hi everyone thanks for joining me here for this small workshop that i will be giving um brandon by the way also on this call is also available in the discord chat or wherever you are to help answer questions and yeah well i will take i will try to be as quick as possible but still like if you want to dive deeper into certain bits uh within this process then just let me know in the chats i've got the i've got the zoom call chat right next to me here so i see when you ask some questions but yeah so um automation on ethereum on smart contract land how does it work you will find it all out today and yeah we've been actually working on um our product or on our like developer tooling for over two years now uh being like web 3 ethereum developers ourselves back in the day we kind of like stumbled upon the issue um of um if you want to kind of like automate certain smart contract executions on ethereum or any other smart contract platform you kind of have to run your own infrastructure your own servers somewhere off chain yourself in order to kind of periodically call certain functions let's say you want to execute a trade on uni swap every day right for the next 30 days you kind of don't want to do it yourself manually with your metamask you kind of want to kind of like automate that whole process right and this is kind of like a bit complex on ethereum or on smart contract platforms in general um and especially the question always is like who is running that server that automates that transaction right is it just like your small server running and then what happens if your server is down and if you're not only the if you're not the only user of that kind of like automated feature maybe like 1 000 people rely on it working um adequately right and then your server goes down and the whole thing doesn't execute anymore like what happens then right so all of these questions we're gonna answer today and yeah so um this workshop is of course around gelato but i will actually walk you through like a simple to use use case what you can do and this is how you can lick um your ice cream nft um every five minutes on ethereum or like we will actually do it probably on on another network that is a bit cheaper but yeah so we'll have an nft and we want to and this nft is a lives on polygon for example and we want to lick it every five minutes and if you lick it one scoop of this delicious ice cream and of team will disappear and you don't wanna you can only lick it every five minutes however because if you lick it like uh every couple of seconds then you get brain freeze so in order to kind of like not to have that to do that manually of course because you don't want to wait there and click every five minutes to lick it we will automate it and i will show you how to do it using gelato but yeah maybe before we jump into the whole um tutorial i just want to give you a quick overview what gelato is gelato is kind of like a middle middleware developer tooling project uh it's fairly similar to for example the graph uh but a bit different in the sense that you don't just like have us have certain servers running that read data from the chain you actually have servers running at your disposal that can write to the chain automatically and um yeah basically um it enables you to build what i like to call serverless applications so your adapts um you can just like deploy your dap you can automate transactions happening in your system and all of that without having to run your own centralized script or server somewhere in the cloud for example you can just leverage an already existing decentralized infrastructure the gelato network to do all of that yeah so so why do you need that right so as you probably know um or you are kind of like learning at the moment is that smart contracts are actually not that smart right they're pretty dumb they just store certain logic they store a certain state but if no one executes these functions within these smart contracts then nothing will actually happen they will just like stay there and do nothing forever right so only when a transaction is being sent to the trans to that function will the logic within it actually be executed right and so if you have a function that kind of like does payouts to your users every day for example and no one calls it this payout will never happen right so you want to write like a a box so to say that kind of like monitors okay every 24 hours and then it calls that function right and um it usually takes quite a lot of time to build monitor and maintain these spots and i'm not talking about like just running a simple script that you kind of like does one transaction maybe for you every day or so um i'm talking about like building a like a production ready system where you have thousands of users and you rely on like these thousand transactions being executed at the same time without getting stuck and we're getting resubmitted and stuff um and yeah to do that is actually not that trivial um and it requires a lot of time and effort and yeah what it does it distracts you away from what you should pre primarily focus on which is the ux and your users right um but also if you kind of like build it yourself and you run yourself then you are basically the center point of failure your server goes down the whole dab goes down uh that sucks obviously um and usually what projects like maker dow did in the past they had to build up this whole notion of like their own keeper system where they incentivize other people like they build they had to build these clients they have to incentivize a lot of other players to start running them for them and stuff and which allow you basically you can skip all of these processes you can just plug into an existing decentralized network and you're good to go and um yeah so this is what gelato is this is kind of like this on-chain bot as a service api that you can talk that you can call it saves you a lot of time it's uh super reliable um it's decentralized so there's nothing for under failure and it's actually very very cheap because um you don't need to incentivize spots to like only execute transactions within your application because these spots are executing like transactions on quick swap spooky swap instead of maker da or whatnot they kind of like pull these transactions together and because they're executing so many they have to extract very little um value out of each single one in order to actually turn a profit and yeah so these are kind of like some of our or our users internet keeper dawfu combo quick swap what not a lot of projects used a lot of these days um and how it works is the spots execute transactions let's say the bot has to pay 10 cents to the miner right and and for you to order in order for in order for you to get a transaction mind you have to pay the bot for example 12 cents and then the spread is basically what the bot receives and there's this beautiful jail token as well and the jail talking is basically a stake that bots have to stake in the gelato network and only if they stake they can have access to all these transactions that are automated within the gelato network and they can make a profit and the more transactions are executed by gelato the more potential revenue the system has the more the bots will have to stake and so on and so on so kind of like a positive feedback loop here and yeah so what's the token for as i said staking if these sports somehow decide not to execute a transaction even though they should have then they can be slashed and there's a governance that kind of like controls the soul mechanism yeah very simple and yeah because slides are boring let's uh let's jump right into the demo i think that's the most exciting part here right um and yeah if you have any questions let me know in the chat i saw there already been a couple of questions but brandon you were so kind and answered them which is very nice of you okay so there's this application i'm just let me just make sure it's the screen i think the screen is big enough right i i zoomed in a bit um let me know in the chat if you don't really see that um but yeah so it's available for you at better.app.gelato.net and the application we are showing you today is called gelato ops right and gelato ops is kind of like the entry point to gelato where you can go to gelato and tell it to execute anything you want basically and we have this beautiful tutorial right here where it's still better so i don't know why this x is over there but it's just like that you have to create an issue on our repo to request it to move to the right but what you do is you click create tutorial here and then we will walk through you through like an example that you can use and usually what you have to do in order to automate a smart contract is you have to have that smart contract you want to automate in the first place right so in this example let's just say this smart contract that we want to automate is an ice cream nft and with this transaction we will now mint this ice cream nft and by the way we are on the polygon network why because it's very cheap um and fast but this also works on if your main ad robson ringby um phantom and also arbitrage so um there are a variety of networks you can choose from now um what we see here is that we have the smart contract deploy that's nice um and we can decide what we all want to automate on there later but now it will ask us to deposit some funds in there right and why because these spots they need some money to pay miners that's why you need to deposit some funds in gelato and this is just like a a prepaid sim card basically you you click on deposit you confirm and then um the transaction is being mined in the background and now you basically have one medic worth of balance on gelato to pay for your transactions now let's get to the fun part say create task and now we can create a task which is basically okay um how can we communicate to gelato what we want to automate um okay so what we want to automate in this case is we minted this delicious ice cream nft you guys remember um and the sweater keeps them warm when licking ice cream indeed it it does uh hopefully give your work splits and it's very cold um but yeah let's not get distracted from the tutorial here so we got the ice cream right and let's say lik hilma's ice cream and was my name and the ice cream is what we want to lick and it sounds wrong maybe okay but uh let's just go with it for now um and now what we can do is um it will it will ask us for a contract address which we want to use to automate a function on okay and luckily this tutorial shows us the contract address of the nft we just minted right there and so we can just like paste it in here and what it does it fetches the avi from polyscan where it was verified automatically and what we can do now is we can see all of the functions that this microcontroller has right and let's say there is this lick function right and this is the leak function we want to actually automate and call every five minutes so you click on it and then it will ask you to either predefine an input that you want to pass to that function or you can actually dynamically derive these inputs via a secondary smart contract called a resolver we can maybe walk through that example later on if we still have time but for now we just use the simple predefined inputs option so my talking id is number 22 as you can see here so we type in 22 and now the second kind of like um step window opens here and what we can do here is we can define what interval we want to use to kind of like periodic periodically call this function and in this case let's just say we want to call it every five minutes right and because we selected start immediately right here and what we will do is we will and my local time is um quarter to 11 pm and so we will call it we will call it soon after and then five minutes after and five minutes after and after after and after um for as long as uh i have balance basically or for as long as i didn't stop the task then it shows me okay i've got a dollar 71 in balance here which is should be enough and then if i click create task it will ask me to send a transaction on chain and then we create a task all right so what happens when we create this task but when we create this task we basically emit events on chain in the smart contracts and hey the task was created nice um we emit events in the smart contract on shane and what happens then is we got the gelato the the bots that comprise the gelato network they are constantly listening for these events and they will pick up these events which will basically tell them okay please automate the lick function of this particular smart contract which is this ice cream nft um and lick it but only lick it every five minutes starting then and please use uh the the person's account balance um for doing so right and here's by the way the the smart contract it's verified on um it's verified on on ether scan and actually let me i think i got the i think now i don't know if the color change for you guys uh but yeah i i've got this this thing and where i try to um get the blue light out of my screen i don't know if it's actually because you were seeing that but now the car should be better so basically here we got the lig function right and this is the this is the lick function yes and as you can see it got it got this required here that we can only call it every five minutes basically and that we want to avoid basically with gelato and yeah so bots should have now picked up the task in in a couple of seconds or minutes should have started calling um this this function and then we should actually see this nft svg slowly change um from having from having three uh ice cream scoops to only having like two for example in the meantime by the way if you wanna uh kinda like check out what other people are doing there's this cool leaderboard right you can click on the leaderboard and here are basically all the tasks that have been created by other developers in the past that have used gelato and you can basically check out you can click on them you can check out how often they execute this one for example excuse likes around 60 times a day and what it does actually it's a brandon build it here in this call the the og and um and what what this does basically is there are these nfts called avogadro's and you compare them every 12 hours and what this is is kind of like a padding service lavagotchi so it just goes to all the wagoches and pets them um every every so often and there are a lot of others like matrix swaps using it then a keto and polygon using it to pay out rewards every so often and they're like a bunch of use cases basically but that says here okay we see we actually already paid 0.1 medic for an execution okay what's going on and okay wow our ice cream got licked one time already right we have one scoop missing we got a lick that happened here and what we can do is we can scroll down we see okay today we executed once we click on this bad boy and we see here's all the he's basically transaction on polyscan right we can check out the logs what happens um and um yeah here's basically the transaction and and this will just keep on executing for as long as i've got a balance on my on my account now what i wanted to show you as well is actually creating a task that is a bit more a bit more complex and so i think i've got still 10 minutes left so um if we got like a bunch of questions uh then just like write them in the chat and and interrupt me otherwise i would just keep going um and show you guys actually a more complex way um i i will just keep going right if no one interrupts me um cool cool so we can also create another task all right so in this task actually is a bit more complex so let's call this task um increment counter every um let's say every time resolver are we are we just thought to like interrupt you and uh ask a question yeah please oh i did not realize that um i had a bunch of questions in chat man i've uh looked through contracts um i've been uh i had somebody uh from paradigm that i was like talking to and me and we both really thought that gelato was kind of a way to implement the whole paradigm so paradigm had this uh concept of long-term amms and basically you would like that it's called a twam right like a time weighted emm um and that's like me and him we both thought that gelato was the way to do that because you guys had the whole like time-rated emm because using gelato you could basically do trades over a like a period of time except um that's not how twins end up working there's like a specific math creation that goes yeah but but maybe i think i think maybe um because this goes very much into detail one use case right should we maybe uh talk talk about that afterwards probably yeah yeah yeah let me finish let me let you finish and then if you have some time like you know perfect yeah let's do that i think i think otherwise uh uh some it's probably over the top of most people's head um and then yeah i think it's probably better to talk about it afterwards together just because i just want to also walk you through maybe another small thing you can do for example which is you can actually let's say we have this counter smart contract right here um and i think you have to see or is it only on girly counter resolver um yeah i think it's only on gary so let me just switch networks too girly and yeah you can these are all the networks by the way say i think someone asked these all the networks where gelato's on so we switched to girly and now we undercook so increment counter on girl and so what we can do is let's say we have this counter smart contract right here okay and how this smart contract looks like it looks like this very simple um it's what you could expect it's basically just a counter right and what it does it just increments account this is just like an example function um that you um that we implemented right it doesn't does nothing special so we paste it in what we can do is we get the um we get the counter um we get the increase count function out but rather than actually predefining the inputs to that function let's say um the ice cream has been leaked again the ice cream will keep keep getting lit and um let's just but maybe let's say this increased count function right let's say you don't actually want to pre-define an input there let's say you actually want this input this amount that you passed a function to be derived dynamically by another contract for example which is for example interesting if you want to do trades right because trades always like the price and the slippage parameters they always have to be kind of like created dynamically on the fly and let's say you want to create that input dynamically rather than predefining it what you can do is you can click create dynamic inputs via resolver and what you need is basically you need a resolver you can deploy a resolver smart contract excuse me which will actually return you when to execute that particular function and this is what like the example like an example of such a resolver looks like it's called counter resolver and what it does it's very simple it just actually returns uh true every three minutes for example right this is just like a simple condition but it can like it can have like arbitrary conditions like if the price is a new service x for example right so um what it does it returns true or false true if which if gelato should execute and false of charge will not execute and it returns the encoded function of this counter smart contract which we want to execute which is this incross increase count function and it returns the amount that we should call it with in this case 100 right so what we can do is we can go to these beautiful deploy files this is the address of the resolver sorry and what we can do is we can go to gelato we can type in hey i want to call this particular i want to i want to use this resolver to actually a query and return to me whether i can execute i want to call the checker function on this particular contract and now i want to create the task and now what happens is we gelato will actually call that every every so every so often we'll call this resolver and call this checker function and actually will will wait until this checker function will return true and when it does return true it will indeed start calling this counter smart contract on your behalf so there are two ways of doing it here you can either like just define a time when you want to execute something and pre-define the inputs or you can deploy a custom resolver contract which does something complex like it checks like 100 different pools if they can be harvested for example and if one of them can be harvested you just return them and then you execute it and let's just go here whether it was successful created yeah this is my my my my new task and this is on girly and i don't know if we wanted just quickly because the guy said it got licked again let's quickly switch over to matic and yeah we can see it actually got licked again cool i think um this is enough and there's a lot of stuff here in dog search.network so make sure to check it out and we we go through how you can create a task how you define the inputs either pre-defining or via the resolver and we actually what's quite cool we have these real world examples of projects for example ethereum which is a yield harvester on on polygon or uniclean nft project or gotchy care this nft padding service right um we've got a lot of stuff that you can check out so definitely check it out and if you by the way find any bugs in here you can always uh um contribute and do like a pr tour or docs to improve them because it probably sucks though so apologies for that um but yeah so this is basically um uh what was going on um so what score what's next for gelato and we actually will support young builders like yourself who want to build some cool stuff with free credits so we pay for your transactions um um for for depending on what you do and how big right but we will give you some free credits if you would like to for just like to try it out yourself um and then at some point there might be a gel transaction mining rewards like we have the gel token and maybe the most used tasks will receive some rewards at some point who knows maybe this will come as well and then also you can soon use off chain data for your transactions so not only the data returned by the smart contract or by the by the time you can also get data from like an api or whatever you want right so cool stuff coming but yeah that's basically it thanks for listening guys and these are my contact details or from gelato on various networks definitely reach out to us um and yeah if you have any questions i don't know if you reserve time but then now's the time to ask them and yeah thanks for thanks for listening oh yeah now waste your time now man yeah um you can definitely waste my time now um if if there are no any like super straightforward questions from anyone i can just like answer in like 10 seconds then then you can go ahead man otherwise there is a question it's not super super straightforward though and it was mentioned on this last slide and someone actually sent me a link to a documentation which i quickly looked at but if there is a very quick way to illustrate it with the on your screen sharing i would be very grateful to show how to query off chain data for the [Music] so this is so off chain data is at the moment not that straightforward that i can just send you kind of show like i can't show it to you on the ui because it's not hooked up to the ui yet so in order to do it you would actually need to interact with our smart contracts by ether scan right away which is also possible these are basically this is my contract right and and there i think it's actually on that branch right um yeah so it's not even on the master branch yet so it is a bit more sophisticated i would say but still doable and we can definitely help you get it done but yeah so basically there's this is a smart contract and there you have what's called a polywrap task this one right and rather than kind of like and and we can explain to you what you actually have to uh input to this function here but basically what you do here is you pass an ipf scid so like an ipfs identifier um and this identifier will tell gelato which polywrap it should check out and which polywrap which polywrap is basically just like a script like a javascript script uh written assembly script though which will return to gelato like a boolean that indicates whether or not we should execute a transaction on your behalf and we got this um writing resolver thing polygon resolver and this actually walks you through it how you how you can write your own kind of like off-chain script that can call apis that can that can call like a subgraph they can just do like any anything you want basically um and this will then return like true and the data you want to execute and then gelato will actually take that and execute that stuff for you um but yeah as a small like disclaimer it is not hooked up to the ui yet so you would have to interact with our smart contracts vanilla okay yeah it's clear thank you thank you very much it's uh awesome okay no worries man um hello yeah so i'll yeah i wanted to ask if you can counsel like make the box stop the automation after you have started of course you can you just go to your ice cream that was licked four times look it's gone it's gone forever now and what i can do now because i don't want it to eat more of my money right i just click on pause and now it's possible okay does um does the bot adapt to dynamically like dynamically changed smart contracts like um like you have like um a pull-up address that you want to send um some issues soon now let's see if an address was removed not from this like i i'm not to explain it if an address was removed would the bot adapt to it um yes um it can if you for example use like a resolver here right so what you can do here is you can have like this function that returns uh uh true when gelato should execute something and it returns a payload and that payload for example what it can be it can be for example an array of all the addresses you want to send east to okay and then this area you can maybe as the admin of the application you can just like remove certain people from it sort the addresses from it and gelato will only ever take what this contract returns to it so it will never send money to any anyone who is not in that area so as long as you got that array you can manipulate that area you can yeah you can change it on the fly oh cool cool oh yeah brandon like if you like if you if you want a specific help there brandon can definitely help you out yeah cool anyone else guys uh is there another questions i don't wanna yeah do we do we still have uh time for the young gentleman's uh you have let's just do it after the call right um yeah you guys can like um create another like zoom channel like not for like a workshop like for you guys question maybe some people can hop in if you like again yeah we let's just do it in our discord in the in the voice channel we have the gelato channel there let's just do it in there yeah as well um what's your name by the way in this discord is just so i can tag you in case you're willing yeah it's uh let me just write in the chat is heal my ex hi thanks man cool cool all right thank you so much elmar for the awesome workshop that was super interesting uh and taking the time to answer everyone's questions um and to the rest of you thank you so much for tuning in to gelato's workshop i hope you learned a lot and that it was really interesting for you um and this workshop can be found on the eve global youtube channel um and otherwise like lamar said he could be reached over um on discord in the sponsor gelato channel um and other forms of um contact information that he had posted in his last slide but thank you so much and i hope that all of you have a great rest of your day yeah it was a pleasure guys good job 