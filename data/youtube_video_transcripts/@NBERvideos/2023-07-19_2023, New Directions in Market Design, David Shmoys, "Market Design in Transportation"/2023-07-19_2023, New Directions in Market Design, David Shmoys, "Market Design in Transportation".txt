I want to thank the organizers for inviting me um I also feel like a little bit of a fish out of order while I'm adjacent to Market design and all kinds of things that I'm working on on the optimization modeler and algorithm assist um and what I want to talk about today is sort of the range of issues that are affecting Market design um in what I think of is Modern urban mobility and indeed as Michael already alluded to this is a space in which the actual how things are done has changed dramatically over the last 15 years um and just to give you a sense of the the various steps it did actually um pick up speed prior to the introduction of the the cell phone but indeed I agree with Michael that the cell phone is a huge driver so bike sharing in its sort of current station-based uh uh format uh can really trace the modern setting uh to two systems in France uh in contrast to the e-scooters new news uh believe in Paris was in the uh really instrumental in sort of waking up the world that this really could happen and and citibike in New York started in 2013 so by now 10 years ago so that was one big player um the next thing of course which we Mike were already spends a fair amount of time is ride sharing peer-to-peer um and I'll talk a bit more about that with Uber starting in 2009 Lyft was founded in 2012 CD or its ancestors was founded in 2012 um Beyond this bike sharing in its initial format and very much due to the fact that it did it started it predated the cell phone um was station based whereas now in newer instantiations um it is now completely um allowed to be Doppler this though we'll talk a little bit more about the implications of that and one implication of that is the Chinese experience um and there you you see a pile of discarded bites um that uh just in terms of what it takes to maintain the structure and you can sort of anticipate why Paris got to what it did um the next extra Dimension to this which um comes into play for bike sharing um is the fact that motorized pedal assist spikes are part of the structure um these two states to about 2015 in terms of the initial Inception and uh of course one of the important things to realize about an e-bike versus a regular bike is they need e they need the power and so this changes the nature of what it means to to keep them functional um and then in some sense the thing that changed popular perception in a variety of ways both positively and negatively was the next step was the introduction of scooters um and the variety of cities you know how they've coped with this like a lot of issues that were driven by the by the tech industry San Francisco board the brunt of the e-scooters first they they just completely erupted in 2000 2018 and just again in terms of having a city that um tried to take control they were completely banned within four months um for the city to take a step back and and they really even to the state haven't had the same sort of penetration they had in those brief Shining Moments in in in complete chaos in in Spring of 2018 and of course this is an industry in which there are far more providers than than we've seen in the other spaces another element that's come into play is what Michael called viewed as vertical integration that to think about the way in which all of these components interplay with each other and that you have companies that are trying to um do this or more thinking about the role of the cell phone in the digital platform overall is that we're moving to a world where we should be thinking mobility in the urban setting this is mobility is a service and so now this is now integrating not only just the private entities that are running all of the uh various elements that I've talked about but also the traditional public transport and how they can actually complement each other so I want to spend a little bit of time just sort of giving you a sense and partly because where I've spent most of my time thinking about is just sort of what happened to bike sharing its traditional sense and give you a sense of some of the challenges that come into play so bike sharing many I'm sure most of you know this that uh you have a collection of stations there are docs in the station-based thing um that you can rent a bike at any station and return it at any other station in this in in the in the system and therein lies the challenge um your cell phone gives you information like this which tells you for every station what fraction of the station is actually full whether there's actually available availability of bikes that are availability of docs and indeed this is in some sense the essence of what makes bike sharing a little different from the usual supply and demand problems is that one station is controlling both ends of the of the ride in terms of availability on one side means May mean lack of availability on the other and they're sharing the common resource and I think it's instructive and if I can do this um is that I'm going to show you this is a little this is a little old but it gets the point across this is a day in the life of New York um Circa 2015 um as you can see there's a clock at the top each of these little circles corresponds to one Station in New York the diameter of the circle um will show the net inflow the color coding will indicate whether it's in or out the city is just waking up you see where there's outflow from the transit hubs from the Port Authority there then you see this waking up in the financial district in Midtown as you're seeing it masks inflows into those cities the rush hour is now morning rush hour is now over we're sort of Fading Into A more steady state percolation kind of view there'll be a little pickup around lunchtime um overall and then as we turn into uh the afternoon Rush then you'll see the same thing in Reverse you'll see an outflow from Midtown from the financial district into the transit hubs and the afternoon rush hour is actually longer and more sustained um people are less present in time they'll do an errand on their way back and and so that you'll have a longer sustained service and and little by little will fade back into the percolation um that we saw as we picked up at midnight so it gives you a sense of of the the the Dynamics and the transients that are within the system um and uh and so one basic question and and I'll when I first started working with City bike actually in in sort of two owners ago um and I I met with the general manager manager literally on the Friday uh before they were launching their beta users and he says well we have 12 000 Docs and we have six thousand bikes so where our goal is to start every rush hour with every station half full and I looked at him and I said that isn't what I would have thought would be the right way to do things but let's talk and indeed that is in some sense the thinking about how the systems are getting used and how we have historical data to actually understand in a very nuanced way transaction by Transaction what what right is being done from where to when and what time and start time and what end time we really have the means to build good models for how what the ideal amount of uh of stock should be for each station so this is easy to set up in a given model that we can imagine we can use historical data to to consider a poisson flow of bikes um for renters and and returners at any given station this allows us to set up a continuous time markup chain so as to think about the state of the station as being how many bikes are in that station at a given time and then we can think about the computation of expected stockouts either from the point of bytes not being available or for the point of view of docs being available over the course of a given planning period and thinking let's say of that over the course of a day and so this gives us a metric in which we can imagine what the idealized way um a station should look and of course stations look very different so if I look at um uh the port a station outside the Port Authority um this is the you know a plot that shows exactly what the um uh cost function associated with in terms of the expected number of stock outs that occur overall as a function of the number of bikes that are in that station at six a.m We saw already that's a place where you have an immediate uh arrival of of lots of users in early you want those stations to be essentially pull so every addition you know bike that's that's not present at six a.m is going to lead to an additional stock out at some point you know at some point during the day um that's one extreme cases but there are a range of different things here's a pretty dull station in Brooklyn that it really doesn't matter too much there isn't a lot of service you get a curve that looks like that Midtown of course where we saw the great inflow you want those stations at 6am to be pretty much empty and and every station is a little bit different and that is allows series and thinking about a particular moment in time I've just focused on 6 a.m here what is the idealized what's a Target level for what you want that that station to have and of course there are neighborhood effects that I'm showing here two different standard neighborhoods that uh East Village in the financial district and again what this is showing is over as a function of the time of day what is the fraction of the docs uh available at that station that should be followed so we could actually then see it but you they're in this graph really shows the challenge in that as I evolve through the day the the kind of Target threshold changes dramatically overall that in the morning in the East Village which is a you know a residential area you have people that will eventually pick up their bikes and want to go you you wanted essentially bullets it'll be full until people stop going to work but by the time people are returning from work to that residential area you then want it to be essentially empty at the point of the the the returning traffic from rush hour traffic goes or in the financial district symmetrically in the opposite you want that to be empty at the start of the day so that the people working the financial district can can park their bikes as they arrive but by the time but of course you want them then still the people as they leave and this is a scatter plot that shows across two Dimensions that as I think about what would be ideal at 7am versus what's ideal about uh 4 P.M again I mean I've highlighted in the examples I have shown stations where those ideals are extreme they want to be completely full in the morning and empty in the afternoon or vice versa but as you see across the scatter plot across the radio stations the complexity and the Nuance of what's ideal across different stations bills um well not completely they're you know they're clearly parts of the Quad the plot that are that are empty for obvious reasons but but you see the complexity of what it means to um so when I try to impress upon you here is sort of the complexity in just what it is involved in both designing and operating a bike sharing system how many dogs how many bikes do you want overall how many docks at every given station if I think about sort of the ability in a you know Harry Potter way that I could get the bikes to be wherever they want at 5am where the city is basically quiet how many bikes should be positioned initially this is an optimization problem given the models that we want we have a limited number of bikes we have an understanding of the cost that would be good of what it should be there and we can really understand not just at a station by station level of what's the ideal Target but as I think about system-wide how do I do that allocation of course we also can see that that you know we you know the New York City system for which um we've worked extensively I mean to give you a sense of the order of magnitude in in summer monthly there's something about four million rides a month um it doesn't ever go quiet um even in January there are something like between half a million and a million um rides some in the in the month it depends of course how much snow there is um it's uh which there's less and less um over time um so so this gives the ability to re to re-adapt the system of of you know just think about allocating bikes but think about allocating bikes and Ducks the docks are actually just heavy pieces of metal that sit on top of the sidewalk in Paris in contrast they're actually on the grid which first of all that's a province when the contract was renewed and there was a new provider after 10 years but but uh but but we can actually adapt the system how do you think about doing augmentation how do you think about adding additional stations all of this data can be used now one of the things that you know I I already mentioned is that this this is the old world this is a station-based um system and how do you actually operate then when you're not having all the bikes parked at a station and it's their natural extensions of how to think about it but they don't work particularly well and there's this additional operational consideration of of uh that we now have e-bites and in some sense e-bikes and scooters are equivalent um from uh you know thinking about how the system is going to get run then how do we actually keep them running um in terms of making sure that the charge is available when you want them in and this provides all kinds of um um challenges as well and of course everything is stochastic on the short term how do you mitigate the the imbalances that do um occur even across the planning and and one thing to sort of and now here to connect actually to something that is explicitly Market design um is that when we were working with City byte they were very much tied into a contract with with New York City for what the pricing scheme would look like and this is what what it was it was really geared towards attracting long-term subscribers it was not being um even a a price single ride or a day pass those was a very small fraction of the traffic life has changed substantially in the last few years um and so we didn't have the you know the the kinds of tools that all of you in this room would want to use we wanted a price you know that we wanted to say it's really expensive to take a ride you know at 9am from from Penn Station to the financial district because you're using up critical resources at exactly the point that's in sync with everything else and so what we did is we instituted an alternative currency that we instituted an incentive set of points that that Riders could collect that you could enroll in being a bike Angel and depending on um where you were um that you could either you know get a point forget renting at a given station and and get a point or more points from returning given station and so we had a completely dynamically expected map that set up that you you know that users could do that our our main Hope was that we could sort of nudge traffic that sort of as new you know New York is a very heterogeneous area in that you can rapidly transition for things that are more residential to more commercial and so that if you could just get traffic to shift a little bit it then then you could do a lot of mitigating what would happen in terms of matter moderating demand at this point more than half of rebalance I mean one of the the dirty secrets of bike steering is that a lot of you know as much as you can Market it as a sustainability enduring uh promoting thing a lot of energy literally was spent um moving bikes from places where there are too many to places where there are too few and and this is a mechanism for building into the market a means for doing that um with that with actually Pedal Power Instead This was then gamified and just to give you a sense of the power of gamification in terms of people incentivizing so there was a leaderboard and Joe Miller here being at the top of the leaderboard these are all of the rides that he did in in April 2016. so so the extent to which the the the this that this can happen in fact it was really dramatic in the sense there today more than half of rebalancing is done by uh by by bike Angels overall this is something that lived and or actually motivated before that was bought out by Lyft implemented across its systems even in in Montreal there is not like Angel by Les mbbc um and uh there but of course one of the things which of course is is near and dear to all of you is how are these incentives how are these Point values created and this is again tied back exactly into the cost Matrix that I was talking about that we can exactly Target them overall in in in in in setting this in motion let me just take a step back in the last three minutes let me sort of throw out some wild and speculative things um I want to come back to Michael's you know sobering thing about and I'll join the distinction of ride hailing versus ride sharing but a little bit about autonomy and I want to talk a little bit about programmable spaces in my last three minutes ride hailing versus ride sharing we just heard in this sort of simplified what's there Lyft has abandoned ride sharing to to go to ride hailing that Michael set the stage perfectly already for understanding why but what I call ride hailing that is single user single passenger things went viral it was just the right moment at the time it broke the Monopoly of the taxis it did all the right things in establishing a market right there's a there's a fundamental question of is pricing and congestion issues does that is is Right handling sustainable and and as pointing to the van questions you know what can we do to make ride sharing work and but why is it hard and this actually is in many ways lying on my shoulders is it is really the combinatorics and the optimization of actually doing in a dynamic time-sensitive way to actually keep Cars full and this is something which neither at least I can say that Lyft did not get right in the sense of having a large enough investment but I do think it's solvable it's just hard but it's a computational problem and I think that's where a lot of research will go and of course it ties into the ultimately the pricing of how these Commodities are in um autonomy and one important thing in thinking about you know what the future will hold is is you know how soon will autonomous vehicles arrive I'm actually a pessimist on this 10 years maybe but really 20 years is is what I think of as the timeline for when you know a substantial fraction of traffic will be autonomously driven vehicles um that isn't to say that I think that there aren't domains in which autonomy will play a role exactly in the spec in the space if you think about how how large a bus is and how large a band is that is in some sense a cost of Labor trade-off and as late as as autonomy can can can work in in different Limited settings this is a setting with even within an urban traffic where I see a space of it having an effect and as we think about public systems where autonomy is used I mean Bart is largely autonomous Muni could be much more autonomous it is as they think about light rail because of the limited interactions that it does but this also allows us in the kinds of we all know from renting cars I don't have a car that does this you know when you cross the lane and you get those you know there the ability to know mild things about how traffic control could work is the sort of thing that we can do so we could have spent you know fancy pains that allows us to have programmable Lanes in urban traffic that sets aside by bus lanes bike Lanes different kinds of traffic and all of these kinds of things interacts with autonomy in a way that I do think could happen in the next 10 years and then of course sets up new markets for all how we actually price what it takes to do this and what it means from the system size I do think that this you know the small synchronized shuttle kind of model is the kind of thing that that has I think um that that as you think about the road space then we now will have the potential of what I'll call reconfigurable roads that will allow for congestion pricing in in interesting ways and even more broadly as we think about what happened to sidewalks and pieces of Roads as in the pandemic we'll have the potential for sort of Recon configurable Urban spaces that allow us to have different resources across the public space overall to be used by different Commodities altogether and with that 