hello everyone thank you for coming to our Workshop where we're going to show you how to do a number of things on the Nevada protocol um so hopefully we'll be doing a few things that uh you'll be able to try out on our devnet which we have spawned by our friend banked over here this is banked um and I'm Park I do community Mata and banked does project management and just kind of like General namada stuff so um we appreciate you coming this works best if you have a laptop with you so you can actually try it out if you don't that's fine just follow along and add you from the stage so it'll be great um go to the next slide okay so what is num Ada is a proof of stake blockchain uh that is ABC connected it allows you to do privacy focused actions when IVC connected so that means is we run on comet bft we can settle effectively Within it's in the uh sorry uh it it takes multi-asset private transfers for any sort of currency that you might want to use within the uh within the cosmos ecosystem as well as the game currencies uh and anything that's within the pool is effectively not identifiable so what this looks like from the account perspective is any asset you have goes into the pool and the amount of privacy within the pool increases with the number of people who are holding assets within the pool um we have a number of different qualities for Nevada that we hope to have people engage in from their accounts part of this is also public good funding you can vote on different proposals that will be supported by the community as they continue as it continues to grow as we have a privacy focused community that is using nomada to guarantee privacy throughout the entire throughout the entire ecosystem and beyond anything IBC connected truly isn't that what I just said right so why do you want namada so effectively we need to have people think about privacy in a different way up until uh the current time all of the all of the actions that you do on blockchains are effectively quite transparent unless specifically within a privacy ecosystem trying to create is interoperable with other ecosystems that are IBC connected allows people to opt into privacy rather than having to engage entirely inside of a private set the issue with a setting is that all of the actions that you perform within it are private but you can't really do anything outside of that so Nevada allows you to engage other chains while still maintaining your privacy and um the way we do so is by having accounts when you put the assets into the pool we generate a pinned account on the outside of the pool for any actions outside of the but that pinned account associated with your account it's not visible you can actually see that happen um do you want to go to the next slide so with the workshop itself if you want to take part we'd like to have you join the Discord uh and in there there's the workshop Channel and you can use that to uh you can just get inside the workshop Channel and you can use that to send other people in the channel um your address which you'll need later in order to send some shielded transfers between accounts so if you'll just join us on the Discord first of all and then you can follow us at the um I'll follow along with the actual actions themselves on this hack MD it looks a little split up but it's a mother0x forward slash mass per temp and that'll allow you to whoops that allow you to actually pull the code instead of having to handwrite it yourself so I'm going to hand the mic over to banked to actually guide us through the workshop portion from here okay um I forgot to check the permissions of this hack MD so could I just get a raise of hands of people that managed to get onto the hack MD I had nobody sit um okay well you'll just have to uh uh yeah I mean it should be quite straightforward I did my job well it should be straightforward uh does anyone here not have git installed on their machine get clone and then this URL um and then sorry thank you um we will appear as a um folder that you could enter and you enter it by running CD join Network so once you've done that uh because you're on Mac which everyone is given that no one said they were running Linux you're going to run this evil command that lets you disable all of the gatekeeping that Mark tries to safeguard you or like the Mac software is trying to safeguard you from viruses and malicious software but in doing so it's very annoying so if you run this command it tells the my computer that you know what you're doing and will just help us move forward okay I'm assuming everyone's run that um so yeah that prompt should no longer be a problem and if it is just raise your hand and we can overcome that so you want okay yeah that'll actually have that moment in there yeah well the sorry the you are the QR is to the Discord yeah so the link to the actual icmd is down here okay so you can get to it yeah okay give us a thumbs up when you're when you're ready and I realized something very nice it's also in the workshop so sweet um yeah wait let's see so yeah I assume you've cloned this repo now um it's awesome that I can do yeah cool you have the repo sweet okay nice so yeah you've disabled the uh the annoying prompt and now you want to um enter so you want to run run the script using um this dot slash join Dash Network dot sh and it will prompt you with a bunch of questions so um I will do it with you guys you want to hold this forever um can you see that that's on the screen okay cool perfect I think if it's not allowed yeah it's a locally generated definite but in principle you could use this grip to join a Tesla as well um so then it will ask you if you have the respective number binaries installed for this chain I'm going to assume that you don't uh so if you hit n it will ask you for the version of the model that you want to install for this chain ID it assumes that you're running version 0.19.0 which includes a bunch of cool stuff including the each Bridge although we won't be using the youth Bridge given that we're only using one chain right now boom it downloads the binaries and then asks you if you want to add the binaries to your path permanently if you hit yes it will prompt you for your password which hopefully now is not being revealed on screen and if you enter that successfully it will ask you if you have a custom base directory you'd like to use so when it comes to base directory what that means is like I don't know if you're familiar with other chains in the ecosystem Celestia being one of them uh that like default place where people tend to store all of their like chain configurations as well as like the walls everything that has to do with the specific chain you're trying to join in this like Dot nomada folder in your home directory uh we chose to go and use like the actual correct directory for that which is specified by um like your machine which happens to be in this place called library application support uh so if you don't specify to be a special place such as like dot nomodo which you might want to use uh it will be saved there they asked me if I'm a Genesis validator no because I I'm too busy coding um and then says please run this command in a separate window [Music] um which I will oblige so I have this other window and if you don't know how to open a new tab it's literally just command T when in terminal here foreign and you will see a bunch of logs and it will start trying to catch up to the latest block out of the network and it's asking me is The Ledger running yes it's smart enough to realize that it's not caught up yet so it waits oh wow we really managed to turn through blocks we'll just wait for a moment as it catches up exactly and oh okay yeah um but I forgot to have that um it shouldn't be too long though it should only take five because when it responds like three hours ago there we go well I'm really surprised by how far it's gone okay well as fun as it is to look at a ledger run I believe there are more fun things to do um so once you've run this script you should have the mod installed so if you run namada dash dash version it should output the expected version let's see if that's true yep um this tells you about where your base directory is stored like I said it uses the standard that is meant to be used so for Linux that would be in this special folder so home dot local but otherwise it'll be in your application support folder um and this is just a reminder to read the log so if anything ever doesn't work as expected the logs will be telling you why that is and when I say logs what I mean is this here whatever is written here um okay so when you've run this script it runs a bunch of commands that um creates both keys in your wallet and reveals the addresses to The Ledger to create what is called an implicit account so whenever you um have um edif25519 keeper you have the ability to send money to the address of that key pair what is an address an address is simply a hash over the public key so I'm assuming most of you guys are familiar with how Keys work but that's how we interpret addresses on the model we then have what are called established accounts and the difference between an established account and an implicit account is that an established account has what's called like logic attached to so if you're coming from ethereum Land the way that you think about this is a smart contract wallet um right yeah um so you can add things like multi-sig capabilities you can stop assets from being transferred to your established account if you don't want them to be Etc when you make an established account you therefore need to pay for some fees to execute the code that creates that account um yeah this is still catching up so when you make an account you probably want to receive some funds on mainnet it won't be this simple because we won't have a faucet on mainnet however for a test Nets and devnets we have a very easy way of making you rich and that is by asking the faucet to send you funds we send funds by saying just transfer money from faucet to ourselves and it allows you to sign this transaction with any address normally when you send transfers from one address to another obviously you need to provide a signer of that transaction and if that signer doesn't add up to the person sending the money The Ledger will be like stop trying to steal money now whenever you do this we have a proof of work that works over the faucet to make sure that you do some work before you gain the funds from the faucet and does anyone know why we didn't have this in the beginning the first test net did not have a proof of work over the faucet what do you think went wrong yeah people emptied our faucet by just uh like asking for all the money in the faucet and then uh bonding their validator to it and then their validator didn't have the correct versions and didn't have enough upkeep so the network went on and then we thought hmm how do we let people use this network without letting them take over it Henry said let's just use uh this bomb resistant mechanism that's been tested by Bitcoin for a couple of years now that seems to be working fine uh and it solved our problem um how the hell have we not caught up yet um so once you do that you can check the balance of your account by running this command no matter client balance um and here you can check if you've bonded any stake you can see who's bonded stake and to whom by running the model C bonded stick um and this way you can query proposals on governance but it would be nice to do this live okay at this point I'm almost going to give up and just use the newly spawned doesn't it but we're so close potentially okay so I would if you're running go ahead and pause the script just close it um yeah with Ctrl C and we'll use a new chain ID these spawned on his computer because this is an old devnet so it's taking a while to sync up for the godson oh we just caught up there oh if you ended your process never mind let me go check let me go check yeah okay cool we're synced let's go um so then it asks you oh it's synced would you like to set up some default keys and fund them and then it does that now you can query a bunch of cool stuff so what did we say namata see balance um owner and then you can put in like the name of some account you have um within the hack MD as well it says Nevada client is a abbreviation that allows you to do the same thing so we have this uh account called us we haven't sent our new Nam yet so no non balance found um important to understand too here is that um the Alice account is an account within your generated account exactly yeah um so now the moment you've all been waiting for uh we're going to make a shield of transfer so the first thing you do is to create a shielded key so do this by running the model wallet mask a gen key I believe um alias someone think of a cool name what's a cool name just off the top of your head cool name Paris there you go don't encrypt this because I don't want to enter a password every time nice we have Paris so now we want to send money to Paris but in order to do this in shielded land you need to create what's called a payment address which is linked to this key so you do this um yeah possibly actually we'll find out um what do you want to call the payment address let's call it park because she's in Paris wait you know something um um key Paris no it's gen other nice now we want to send money to Paris and we do that by sending it to park who is actually a Paris you know like you have like a mask um so just to make that clear um the park or a generated address that is the shielded account that you're using from your wallet so your initi your initial account has generated an account Within namada that is from the outside not associated with this account that you just named exactly so let's uh send some tokens um I'm out at C transfer Source faucet targets Alice um 100 um this should be enough oh no token oh let's send some eth why not cool so that means they just need to find our account the reason this is taking time is because we need to make this proof of work if it we already had it it would be oh what listen bro I have spawned it with dominant 19 right yeah ah he might be on the wrong I have I have a small suspicion that we're on the broken Double match should be bad but not the biggest of worries this way okay I think what happened was we were on some devnet that had some issues with the faucet which I fixed but um yeah applied seven transactions okay okay so now it should actually worked oh why are you not receiving any funds yet oh we're still creating accounts um no okay as we let the code work does anyone understand what we're actually doing or like um are people familiar with how shielded transfers are able to hide things like the token the amount and the address no would you like to learn cool um I think so I think the Aztec are using the um the same circuit as um because but I'm not sure if they use this multi-asset set or if they have one uh like so there's a very easy way to do it right is just to take the zcash circuit and then create one for eth and create another Pool for um like atom or Nam or whatever uh let's just see did this go through this time oh um but the cool way to do it is to allow for uh asked and all you need to do is to have a separate generator point for each asset on the same curve um and if you can just generate these like generate generator points but you get what I mean like find a way to create these generator points in a way that it's not like um there's there's no way to uh connect one generator point to the next through some multiplication then you're because if you were able to do then you'd be able to do some wacky like convert your RAM to eek big problem so yeah as long as you you can solve that then suddenly you're capable of um having all assets in this pool when you do a shielded transfer you do is you create your own knowledge proof which generate object called a note and a note is simply a zero knowledge proof that commits whenever you hear the word commit means it hides the asset type the address to which it's sent to in order to create a to prove that you're not I you're not creating new money right so you also need to prove that you uh either deleted or like removed that value from the transparency or that you remove that value from the shielded side so when you Shield assets then you use the fact that like your transparent balance has decreased then you can just provide that balance but when you remove a shielded like when you try to remove value from The Shield pool you prove that you destroyed a note in order to generate the new one uh so that's what we're doing here in the in the background I wish they would say something cool like you are destroying and creating notes welcome to the dark side or something but instead it just says transaction as well um so let's see okay we have we have balance now so we can finally Shield it so you send money from Alice who is on the transparent side and you send that to Port and remember Park is just the payment address for the shielded key called Paris fantastic and now you should have now you should be able to query the balance of um and suddenly we have 10 shielded none so just to go over that again right we sent it to a different address name and the balance is now in the Paris account showing that the Paris account wasn't represented in the transfer to that account which means that it was shielded correct so now Paris can spend this money um to anyone else that has a shielded account or a transparent account to be fair did you manage to set this up oh I see oh yeah no worries basically you're getting the number one important uh thing that any shielded like pool needs to work around and that is the fact that everyone can see what's gone in to the shielded set and you can see what's coming out so if you wanted to de-anonymize people then the first person that enters the shielded pool has zero privacy because they're the only ones that can exit and as soon as they exit you know who it is when someone else enters the shielded pool you have a 50 chance of guessing right from who took it out when n people enter the shielded pool your guess is as good as one over n until you take into account the amounts because let's say sorry what's your name origin puts in all of his if which is a million eth and then I only have 0.4 eth which I've put into the shielded pool and it turns out that the other 10 000 users around the world have put in a fraction of that like let's say a hundredth of an eighth now Archen Arjun wants to take out his eth and he takes out 500k of eth no big deal the problem is everyone knows it's him because no one else was able to um uh like even if he sent I guess he could have sent the 500 ke to someone else in the shelter and then they could have removed it uh but it's very unlikely that he he did that without buying like a country somewhere um so like uh the more assets we have on the model and the more users we have the better privacy guarantees we get for everyone for that reason we have this incentive scheme that incentivizes people to Shield their assets and to keep them in the shielded pool so each epoch namada assets are converted into or sorry any asset that's incentivized is converted into a new asset which from like the user is equivalent but has this like Epoch attached to it or like this time stamp and in this way Whenever there is a new Epoch you get rewards for keeping your assets in the shielded pool um and this reward schedule is dependent on how many assets are currently in the pool so that when there are very few assets and here is like major Alpha for like people looking to reap rewards is that when there aren't a lot of Assets in the shielded pool the model will be paying you a lot of money to Shield your assets once everyone finds out that this is a way to make money especially for people that like might be indifferent between privacy and non-privacy people will start putting their assets into the shielded pool and this will decrease the reward rate because uh the need for these additional assets become um less and less valuable to the ecosystem cool cool uh so if you guys want to see so you can see here that it says the last Community ebook was four uh so now if we check hopefully my age was long enough for us to pass people um nice we passed Epoch into Epoch five and now the asset becomes converted to the latest Art Attack the problem is that we only shielded 10 Nam um and Nam is hard-coded to have zero percent like reward rate on this debnet but had we shielded like eth which I believe is like hard-coded to be one percent um if we shielded 100 you'd end up with 100 eighth plus one num in your account um which is pretty cool um yeah I mean I feel like yeah I've exhausted you enough with with how to use namato but I feel like I've gotten the big idea through to you and that is how do you Shield assets and this is going to be important for you guys if you're going to be working on the Moda mainnet and trying to reap these shielded rewards which will be very high in the beginning because guess what there are going to be very few Assets in this shielded pool to start with so um yeah tell your friends uh join don't tell your friends if you want to make all the rewards for yourself but um yeah but just to pin in a little bit more on your question right at the beginning of the network yeah conceivably you could like detangle who it is that is in the set but since there are these rewards the incentive is more people will be added to the set more assets will be shielded and it will be less and less obvious who it is that's inside of the set so maybe at the beginning but if you're if you all you do is put it inside the set all it is is inside the set so as it increases like at that point it becomes very difficult to disambiguate yes so great question within the shielded uh shielded site you can only make transfers however it supports any asset type so you could send an LP position as long as it's represented by an erc721 into the shielded set and no one knows zones anymore so we have this thing called shielded actions where so park was touching on this earlier on before I started to bore you with my monotone voice that you could send assets from the shielded pool outside of the shield pool to some protocol such as that it needs to be IBC compatible because you send this as an IBC message to I believe osmosis does uh liquidity pools so you can get the lp token from there and then send it back to Nevada and in this way you can kind of create this shielded liquidity position um which is very cool um and get to use the liquidity that's on osmosis at the same time um one thing I forgot to mention with these rewards which is very cool is that they're distributed in a shielded manner foreign how do we know who to send rewards to without knowing who owns what we don't Instead This conversion itself is part of the circuit and occurs algorithmically based on some really cool cryptography that we've added to what zcash pre-built for us um you how do you erase your hand raised so okay that's a very good question and the beauty of IBC is that the when you make uh I don't know so like Aztec worked on ethereum right um so you use like then you do need Bridges to like get out of the Aztec Network and onto uh some something else but the the beauty of IBC is that you can so far like even though it's in the specification common bft has implemented it so far all I know that people use IVC for is moving assets from one place to the next boss IBC is more powerful than that it allows you to attach what's called a memo field to the transaction which says which is received by the other chain and as long as the other chain is a contract that reads the memo field of that IBC message it can execute arbitrary logic based on what is specified in that memo so in this sense what is needed from a developer point of view is the app on the other side so osmosis which we're doing in collaboration with needs to implement in their uh I don't remember if they call them smart contracts there as well but uh their equivalent form of smart contract uh that they will interpret this memo field and then all that is needed from the namotic side is to write that memo field in a way that it can be interpreted by osmosis and we're done yeah so it seems are you familiar with IBC itself okay so IBC allows you to like pass packets between any IBC compatible chain which means you don't need a bridge so you have these this is the system of receipts between them which allows you to not have to worry about Building Bridges between layers of anything that's in the cosmos and that's the greatest one of the greatest value propositions of Cosmos is actually the stock that Cosmos is built out of is mutually compatible between all chains within Cosmos they're each Atomic l1s which can be used either as an individual L1 that's acting as an app chain or as with a modular stack between different pieces of a stack that you're trying to build so packets that are sent between them don't need Bridges because you're using like a message message transfer protocol between them that doesn't require you to actually build a bridge because it's it's instantly already compatible between either parts of the stock or different chains nice so yeah if you wanted to send addresses between machines then you need to use this form of address which is actually interpreted by the chain so in order to find that you type um you can do map address list but this actually brings in all the ones um and I could oh wait no it doesn't actually bring in the mouse ones so here we have this park payment under it payment address where this is what you'd need to send to someone else for them to transfer that asset to you within the network obviously as a user the wallet takes care of this for you but if you're building a wallet I'm assuming no one here is building a wallet but if you're building a wallet this is where you'd grab these addresses from um yeah that is another great pretty but it was a great question but uh more important to understand is that a lot of the pieces that go into namata um are parts of anoma the it's like namata anoma has all the qualities of namata no matter doesn't have all the qualities of anoma so the way that Nevada is built is off of the stock that anoma will eventually use but it is a separate L1 to answer specifically what parts of the stock no matter uses that is part of Noma is that nomada uses this validity predicate um like architecture so whenever you hear intent Centric architecture it means that instead of smart contracts we use validity predicates and validity predicates are meant to be coded in a way that it represents what wants to be done right like an intent so all everything you've seen here with all these transactions all these transfers have invoked hard-coded validity predicates that are like coded in a way that uh yeah uh when you make a transfer it needs to satisfy the fact that um yeah sorry it needs to satisfy the conditions that you you have the balance uh that um this address that you're sending to is not on your blacklisted addresses Etc but all this is happening under the hood and we don't allow for users to customize their validity predicates on the model and that was something that was going to go into like the original um no matter spec but we decided to remove that because we targeted like another type of use case for a model which is just transfers so the way to easily be enabled yeah uh once we launch if if we want that so the way to think about it is essentially the architecture within namata that allows you to perform transfers in the way that we do is what will be used in anoma as well it's just that in namata it's hard-coded so there's no variation of how you can express your intent the intent is um hard-coded into namata itself so um anoma is going to be obviously you have a lot more variability on how to express your intent and that will be a lot more in the hand of a user of the architecture that comes from anoma but we built it we built namada on the basis of using stock like pieces of the enoma stack and therefore we'd like I don't know if you've heard of our pitch of a no more like you're familiar with the stock there but once like it's a subtle difference once you allow for intents to be generalizable you also need um like abstract form of ways to solve these intents the nice thing with intense being hard-coded is that we can provide a simple solver algorithm that's in baked into the protocol but once you have like arbitrary intents that can satisfy any desire uh we can't like predict every type of intent that will exist and neither produce the most efficient way to solve these intents and then we need like this look of solver top here and suddenly the question or like the implementation becomes much especially if you want to use like zero knowledge proofs over these State changes so um this is this allows you to do transfers privately and that's it while still using the logic of what will anoma will use in encouraging like making it so that it's private and still using that same um like closed validity predicate another thing uh we had so anoma has this thing called fervio which is like front running protection uh so Nevada had that up until um or like had built like had that as part of like the plan to be included uh but eventually because of how we like change strategies we remove that but when you see you saw these transactions go through earlier um first it says wrapper transaction hash was valid and then it executed the transaction hash that is simply uh like the reason we structured transactions like this was that first the robbery transaction needed to be committed by the validators whilst the inner transaction was still um encrypted and then once the wrapper transaction was committed to the validators would decrypt the transactions using a MPC scheme and in this way you you get front running protection because nobody knows what the the transactions are going to do until the validators have committed to them um which is a pretty cool like design concept and um something that might be implemented in the future in the model if the community wants it we use Comet bfts our consensus algorithm andoma will be using an inbuilt or like an in-house one called uh Typhon at the very start of minute like it's maina will launch with this incentive Innovation scheme and uh I said like this these values were hard coded for this devnet for the next testnet it will be dynamic the most recent PR ixes the or it changes the hard-codedness into being dynamically adjusted based on how much is in the field so if you want to test this incentive mechanism or this incentive scheme join the next testnet which should be all if all goes well Tuesday yeah so oh uh one mainnet right end of the year end of the year for sure when and then by the end of the year I don't want to promise you but um we're aiming we were aiming for September but if you're in the Discord you'll be able to stay up to date you're on the test net to test all other roles and yeah when you say value equal what you mean so oh I see oh yeah we have no we have no like um uh we have nothing somewhere to uh Olympus or whatever that uh is that we're like referring to but like we pay fees in in nam tokens um we use fee use Nam to in order to uh you know how we have like this governance uh like we have governance on the model in order to be able to change like literally any parameter of the chain and that is done by how much like you can vote on these proposals based on how much Nam you have staked so Nam is very valuable in the sense that the people with the most numb have the most say in how namata will look like in the future essentially the value accrual for a cosmos chain comes from the utility of that Cosmos chain to you know it's not just like an inflationary reward but like the prices the price prediction would be on the basis of like paying fees on the network as well as like its value to the surrounding ecosystem so if you want to perform actions from within the cosmos ecosystem then the utility of this the having things inside the pool and having your rewards they're in the form of Nam or your staking rewards from the validators that you're sticking to um the value of the network is dependent on how much is being used within the entire Cosmos ecosystem so the price prediction people like what the the price would be as a result of people's perception of the utility of the token itself sweet we're three minutes over uh thank you all for for your day and uh we hope you learned something for sure thank you sweet 