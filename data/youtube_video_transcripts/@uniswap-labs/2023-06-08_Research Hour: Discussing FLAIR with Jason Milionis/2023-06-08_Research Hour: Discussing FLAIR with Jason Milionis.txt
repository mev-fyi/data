still like talk like we we always like start doing going immediately and everyone's like what is happening and yeah okay whatever I'm I'm going to start so uh you guys ready sure okay of course uh everyone welcome to the third episode of the research hour series hosted by unisoft labs I'm Shin researcher at unisol labs and co-host of today's conversation with me here is Austin my colleague at labs and co-host for the space as well unit swap is the largest Marketplace for on-chain digital assets the tools we create are built on the unit swap protocol which is governed by an independent and decentralized community of uni token holders and today is the largest decentralized trading protocol to date the protocol has served over 1.5 trillion dollars of transactions across multiple blockchains and never being hacked making units one of the most trusted names in defy uniswap Labs is focused on Building Technology that enables users to swap tokens by nfts provide liquidity and self-custody their assets with confidence the opinions expressed during today's conversation will be ours personally and not that of the labs Our Guest today is Jason miliones Jason is a second year PhD student in the computer science department at Columbia University Jason's research focuses on Game Theory especially in conjunction with machine learning and design decentralized Finance Jason has written six papers on amms and two others on nft auctions with potentially many more to come in the past few months Jason has been a research fellow at Unison labs and it was a great pleasure to work with Jason welcome thanks in and Austin for having me it's a pleasure to be here and pleasure to have worked with you also cool first question why are amms and nfts interesting to a game theorist that is an excellent question so I think that in general the crypto space is like very exciting it's it's full of um interesting and completely novel research problems that um really once we dig deep into them they can lead to fundamental contributions in significant domains of both computer science and economics one of which is um game theory that um that you that you mentioned so um if you ask me then why why Game Theory then um what I can tell you is that essentially Game Theory can offer what we are largely missing in the crypto space and we've already started kind of incorporating through research and in particular we can account for incentive compatibility issues so this allows us to both analyze and like uh sign light and often um ill thought aspects of various designs as they play out with strategic participants and they can help us prepare an advanced for for such issues so the interesting thing for me um as a game theorist within um within this space is basically that you have um novel problems that um kind of illustrate the problem of incentive misalignment that is Central to the study of Game Theory and this this basically dates all the way back to the um first self-dis mining paper by ayal and Sir essentially you know um no one expected the 51 is actually not the attack there so for for Bitcoin but it is even lower and the thing that came up there is the common theme in the whole game theory so that is that um essentially when you have self-interested participants that um only optimize for themselves and they don't care about the um social welfare let's say so the total welfare of the protocol then essentially the incentives that they have um can lead them to behave differently and potentially unexpectedly or even maliciously you could say under some notion of behavior that you might have in mind so you can use Game Theory um and in particular the mathematical tools in the theoretical analysis to basically properly align the behavior of these participants and so this is what's um what has been most interesting for me in the space and the new problems that this space Also contributes to um to Game Theory fundamentally got it Jason um are you on any particular speaker because I think there's some noise that both Austin and I can hear yeah you should be able to go to the settings under make sure it's the right mic sometimes I guess have issues with them like let me check that out real quick um can you hear me better now yeah now it's better okay okay sounds good all right perfect now we'll uh we'll sort of go to the next one so uh we had CMAC on uh for the first episode he gave us sort of a wonderful overview of whoever um so as another author on the paper how would you describe it from like a different angle than him so I think we kind of um have a common understanding in that regime so actually maybe to recap a little bit for um parts of our audience may not be familiar with um lever that's basically a sense of losses for liquidity providers automated market makers essentially when you're thinking about providing liquidity in a market um you have to think about both the upside and the downside so the upside is clearly the fees that you're receiving but the downside is basically more challenging to think about and so in our paper with xiamak and team we said um okay um what else could you do um apart from providing liquidity so that we can figure out your theoretical loss it have by by providing liquid in this market and now a common metric to kind of measure that is permanent loss which basically focuses on a binary choice so you either LP or you all the position fixed and so what we are saying with our paper is that there's so many things that one could do that why should my alternative essentially only be to hold the position fixed so for example I'm a smart guy let's say I might decide to do all sorts of crazy things in my in my strategy so what's the common factor of all these things all these things essentially involve What's um what's called the market risk so does the price go up or does it go down um so the idea is that in order for your comparison of providing liquidity to some other strategy to be kind of fair it should be done in the way that you can do your crazy thing on the side but essentially providing fluids should be separate from this Smart Starts you're implementing and so in other words to evaluate providing liquid on its own um I have to remove all Market risk and it turns out in our paper that there is a unique way to do that and this gives rise to our metric in that paper lever and now there is there's many interpretations to lever and I don't think we could finish the day if we recount them but the critical one essentially for this kind of work is that lever kind of um measures the maximum adverse flow or otherwise known as toxic flow that you as a liquidity provider might be getting through the amm so in this way I would say that um lever is essentially showing how how advanced your counterpart in your trading the amm could be in the worst case so the higher the lever the more sophisticated counterparties you're going to encounter and now there is something that we should pay attention to here and that is that um this does not mean that if you have higher level than your um strictly worse off just by definition because you might also be getting more of the positive upside that we said before the fees but in general the my view with lever is that essentially it accounts for your worst case um order flow toxicity that you're getting in your amm yeah so uh we sort of thought of an orthogonal metric to that which is flare uh which is a paper that sort of came out at the beginning of this week on Monday uh and we frame it as a metric that is orthogonal to lever uh but it's still sort of helpful in understanding LP returns so um what essentially you're telling us what is Flair and uh how is it sort of related to lever for the audience yeah sure of course um so we're in the business of making names here sounds like it and I know it sounds like a mouthful so let's um slowly decompose it into its components so basically the acronym flare stands for um fee liquidity adjusted instantaneous returns and so the key idea with our work is that basically you need a way to really not account for all the fees that you're getting in the pool but only for this portion that was um actively used or received by a liquidity provider or by the Confluence of liquidity providers let's say in the pool as well as these liquidity providers efficiency in using their Capital to capture this this um this portion of the and so this metric that we that we came up with is essentially um complementary to lever and in some way it's um it's orthogonal to this because lever can be used to essentially evaluate the counterparty the trader that um you're essentially um getting so primarily concentrating on the information and the balance that you're getting between that of the liquid providers and that of the Traders but it doesn't sort of give you a way to account for uh the competition of liquidity providers within the same tool so for um for a simple example for that you should think that essentially um some liquidity provider who's constantly adjusting their um their position within the pool might be able to capture the fees that um the Traders are are giving to the pool much easier than one who is essentially being static through the entire pool and so essentially this um these active sort of liquidity management strategies they're not um captured well by um just your adversity you need to look within the pool to to account for them and so Flair does that um so Flair um sort of measures the return on Capital that you can have on the fees um looking into the microstructure of each pool so that would be my my take if you if you want to do this that's all a good take I always think it's very valuable as well could you reset your mic again really fast as well I don't know why it's from having issues today maybe it's like a noise canceling issue or uh Echo cancellation issue maybe just sit a little closer that might be good and I'll let Shin tie in yeah uh okay um quick question uh who should care about about Flair so that's actually um a good question I think the I think the overarching goal with uh with our work is essentially to be um very useful to practitioners who actually want to um evaluate um LP returns and maybe also um design um better markets to um to essentially capture um capture fees or essentially increase um competition in the pools so for practitioners I think what um what would be interesting in this sort of work is essentially to help explain um aspects of the lp returns that you're seeing for example um actively providing liquidity or as it's called um jet so just in time liquidity provisioning um and as well essentially you can um use um you can use this this tool to to help you design um better markets so basically um see how you can make everyone more competitive um within the sample I think these are the most interesting aspects and I think it's a metric that practitioners will find um extremely useful if you look at the formula for Flair for a single position at one point in time uh it looks like the it's just the fee it receives divided by the amount of money it's in the pool so is flare just fee um how is it different how is it different and and what's the what's what's our research contribution here to the literature yeah I think that's uh that's an excellent question to have um by the way can you hear me with the mic is it is it all right yeah okay um so basically um the idea is that um there are various flavors um of flair let's say within um within the pool and um flares essentially capturing the efficiency that you um that your Capital can capture face with and so these various um favors of flavors of flair one of which you mentioned are not only um designed to kind of account for your Capital efficiency but they're also designed to offer a variety of other things so for example to measure any number of LP positions over an arbitrary period of time including a single um point in time this is where the instantaneous um comes from and so essentially you can you can use this metric not only to um to account for the return on capital of but to also attribute the historical performance within pools to specific LPS and also for new positions you can also use it to back test some LP strategy that you might um think would be good to have or even optimize new liquidity development in in general so in this sense it's um kind of like we are um we're building a portfolio optimization story over here and I think that's the um that's one of the um contributions of our work so to recap I don't think it's um just fee it has a variety of other uses and um I think it's going to be very interesting um especially for uh from the optimization side for uh for new strategies yeah so I guess on that lines uh and a question from the audience it's also sort of the same it's very similar to what we wanted to ask because like what is what is uh yeah what is flare not take into account essentially um so essentially I think if I had to think of one thing that the sincerely flare does not take into account that would be um liquidity mining incentives so that's basically incentives for um you to provide liquidity in pools um in a way that you're getting token rewards besides um just fees now it's not it's not easy to capture these because they can have an arbitrary form but I do believe that there is a way that you can account for this but we mostly leave that for future work so that's something that um I think Flair does not does not take into account the sort of the researcher special is it's out of the scope of this paper right you sort of throw the good things at the wall and you're like this is a nice metric uh or leave the slightly other things that are less problem or problematic for future paper uh you can't you can't use your work as we say exactly right you can't work yourself out of a job right I can't answer all the questions at once so um I guess on a different topic right I think a lot of people in a lot of Industry practitioners think of uniswot V3 as similar to somewhat similar to a central limit order book uh or somewhere in the middle between an amm and a central order book uh you have this big wonderful paper with Tim I think CM back about exchange complexity talking about how expressive amms can be uh sort of what is the conclusion from the comparison what do you have to uh add to that literature um yeah so the basic idea is that um concentrated liquidity amens are kind of um similar to limit order books in the sense that they they allow um LPS to be able to express very um a wide variety of types of positions that they can have so the idea with this paper is that essentially there is various types of markets that um we see and the question is fundamentally how should we think about this from a theoretical perspective how do we compare them um before our work we didn't have a unifying framework to compare them and what we did is we essentially came up with a theoretical framework that allows us to reason about all sorts of generic exchange mechanisms between um two assets from the perspective of LPS so this includes both limit order books and cfmms as well as many other types of exchange designs including Game Swap V3 which is essentially concentrate liquidity AML the generally da is that liquidity providers have some generic preferences in the form of essentially asset demand curves that they ideally would want to submit this to The Exchange they participate in the problem is though that an exchange mechanism must restrict the liquidity providers for for efficiency reasons so it can only allow some combinations of demand curves it cannot allow you to be fully expressive as you'd like so in this paper what we do is that we Define a notion of exchange complexity that's essentially the minimum size that you can use to um to essentially generate um all the demand functions that are allowable by an exchange and for a simple man this would be a single because you have a single liquidity parameter for for a CPM you can imagine that essentially the complexity of a CFM would intuitively be B1 now a limit order book essentially you can imagine that it has many texts we can prove that the complexity of a limit order book would be essentially the number of the ticks that you can express and this is similar to unisa P3 and Celsius going back to the um back to the topic over there the idea is that um how many ticks you um you have um essentially on on a concentrate liquidity um amm this affects your um your expressivity this affects your approximation as a liquid provider and the more ticks you have the better it is but also the um the higher description complexity you need for um for your exchange so what we do with this works is since I need to quantify in a very theoretical way this um this optimal trade-off between exchange complexity on the one hand and approximation error for a preference of the 3D providers and V on the other hand Jason you might want to reset again I realize it it just gets better every time you reset it and then it's it is good for five minutes and then it it degrades once more so I think you just have to repeat every five minutes unfortunately can't win you know makes the Fun Zone live uh the live podcasting you know let me know when you're ready you have to give you have to give something with with a live broadcasting okay um yeah one more question on your exchange complexity paper uh my interpretation is uh you're kind of solving like a min max problem right where you say uh which exchange structure can serve the most demanding and unreasonable customer who have this like weird demand curve for his asset and if my interpretation is correct then should people be using this as a guideline for mechanism design right because student exchanges be designed to solve like the median or the mode customers problem instead of like the most annoying person in the world's problem why why should we care about this min max problem here so I'd like to think uh think uh so first of all I think your interpretation is right like this is um this is what we do in the paper and I think the um the general so there are two arguments um essentially for this um the first one is um is that basically you want to serve even the most demanding LP because if you don't do so then um because we have um free competition and we're in a free market we'll find some other Marketplace to go to and so essentially you'll um you lose them from um from a customer and by keeping keeping losing LPS eventually there might be a point where um some other type of Market becomes more more competitive some other type of Market design let's say that's I think the the one perspective for why you might want to um optimize for the most demanding LP you might you might get another aspect is that um recognizing this um this thing you said for the median or the mode customer let's say um it's essentially that you might want to adopt a robustness approach where essentially you're kind of um robust to slight changes to the um to the liquidity provider and now this is long this is known in in the computer science literatures um something like smoothed analysis or smooth complexity where essentially you're getting this um this worst case LP and you're trying to smooth them with some notion of adding some notion of noise and then it kind of becomes um almost like um like um a smooth adversary so essentially something that you can optimize easier for the reason why you don't want to straight up optimize for the average or the median LP is that you usually don't know the distribution of being of the LPS that you're getting so you're not actually sure what it means to um to optimize for someone that's um that's median like this this median is going to be different under um under lots of um distributions of liquidity provided preferences let's say so you really don't want to optimize with respect to the median because you you don't really know the distribution that you're getting um so this is why the I believe the the smooth analysis approach is something that um it's interesting for future work as we said and I do think that um this is a kind of a compromise between um the two things that you discussed in the Minimax interpretation and in general more than this question that you just answered who who should be the audience of your research who should be reading and using it and and apart from the should who do you think will actually read and use it in practice yeah I I like how you phrase these two questions differently they um they can be answered of us different in some cases so I think that my work is [Music] um first of all very interesting to fellow researchers because um as as researchers in Academia we we really want to understand the space and provide analogues to more traditionally known objects for example in Game Theory like um auctions and their incentive alignment issues so first of all understanding what kind of analogs exist between the um crypto space objects and the traditional objects is something that um um it's very very interesting for us to really fundamentally reduce the uh the complex and the confusion of these problems and then again I think that my work is also predominantly interesting to Market designers so as we're essentially inching closer to a more comprehensive understanding of um of the virus trade-offs that in General market design is subject to this is broadly what my research is about if you further this line of research then um this would give us ideas on how to design both effective and efficient markets with all of the possible constraints that we have in mind and so that's why I believe it's it's very much an active and physical research topic and also finally I would say that practitioners should be very interesting in my kind of work let's say um and I think there's two ways that practice is being affected by uh by the kind of theoretical work that I really enjoy working on so first of all it kind of um helps practitioners explain what you see in general that might be going on so a good example with that is um for example these um these nft auctions where you um you know you see that um the gas goes wild every time that there is a hugely popular um nft drop and initially you you might not understand why um why that is like why um why that's a fundamental problem and Game Theory actually helps you uncover that it is really due to the misalignment of incentives that your uh your oxygen mechanism actually gives um to the nfds so this explanation aspect is one very very important aspect that I I see moving forward and something that game theory is really good at explaining it and the second aspect is that of the market designer hat that I um I said previously so basically it can help you as a as a practitioner use these um theoretical tools and metrics to essentially try to find the optimal Market that you you can do whatever that means in each scenario whether that's um an auction mechanism whether that's an exchange mechanism it it really depends very much on your setting but you can try to find the optimal market and actually Implement that in practice so I think that um there is there's many ways that practice can be affected by my work and I think that practitioners um better look out for it foreign yeah so I guess we'll go into the fun questions now uh so you think if somebody won a Nobel Prize for some working crypto uh what do you think they would win it for um well that's um that's a really good question maybe tough tough question to to actually answer um because you know the the difficult factor is that is in the in that is that um you don't know um what one day will be considered as um having stood the test of time right so you don't know um exanti um what's going to be important in the future but if I if I had if I had to take a wild guess and maybe um have some speculation over there uh the generic theme of problems that are interesting to you know these um this category of prices let's say um it's essentially some general contribution or a general characterization of all markets or something that you can do in all markets and look at you know look at myerson's um theory for example it allows you to characterize all types of auctions that you you can possibly Implement so if we could come up with something like that in crypto for example some ability that's um given in in the crypto space that allows you to um expand the design space of what you can traditionally do in Game Theory along with um a complete characterization of everything that you can do with this then I think this um this is very likely to to be considered as having stood the test of time in the future and consequently winning uh um a very important price um would you say that John Nash got something around here or um you just failed to speak to some potential limitations of his results or or are people applying it way to liberally in their in their application of the Nash equilibrium yeah I think uh that's a very loaded question as you as you phrase it and I I wouldn't go as far to say that he did something wrong let's say you know his work has been very influential for um decades now and it definitely stood the test of time hence the you know the Nobel Prize um but you know the so the notion of the the nas equilibrium that NASA is famous for if um if our audience is not familiar with it um it has um it has essentially certain issues in the in the modern environment so basically nowadays um we're mostly interested in something that's called repeated games or otherwise known as game Dynamics where essentially what you do is that you don't just play a game um one time the participants don't just engage in playing a game on time you get the chance to essentially revise your playing strategy based on what you see from the other participants and whatever information you glean from the game and then after you you play and you revise your strategy then you play again and this happens forever or for for a very long time frame let's say um for example the stock market is such such kind of a game can be viewed in um in a generic way the difficulty with the nas equilibrium is that really um in some sense it does not um it does not capture um all everything that you can do in these um in these repeated games and in particular in uh um in a result with my um my advisor um Chris's puppy Dimitri and um collaborators from uh from Singapore and Oxford we essentially um saw that um it's fundamentally impossible for for the nas equilibrium to to capture the long-term behavior of um of players in such repeated games and so essentially the question that Springs to mind is that um maybe the notion of a Nas equilibrium is fundamentally incomplete due to due to this aspect and I think that um in future work it's going to be very interesting to see um what other kind of Notions we can give that are more suited to this um This Modern environment but essentially I don't think anyone has has a good way of thinking about this um for now so for now I think that still uh the notion of Nas equilibrium remains dominant but I do think that there is there is a gap there that um we need to address and I think that this is potentially work that will um standard test of time if if we can manage to actually give something notion great so now uh last question for Jason and then we'll be taking some time to take questions from the audience uh if if you would like to ask any of us a question please type in now as we ask the last question to Jason um and then once we finish we can just read from the screen so uh yeah Jason what's next for you uh what are you excited about and where can people find you and your results online if they want to follow your research so um so basically um I have a website online that um jasonmilley.github.io so there I have my contact info my email um my Twitter Twitter thread is a good way to reach me also although I I prefer the email format much more I would say maybe I'm kind of um old-fashioned at regime and I don't follow um traditional crypto space Norms another another way that I don't follow traditional um crypto space Norms is that I I don't really use telegram that often and I'm it's kind of a pet peeve of mine like if someone messages me on telegram I'm always like a little bit annoyed by that um I should say um so yeah these are you know just some of the ways that one one can reach me um and essentially what's uh what's next for me is basically thinking about um more fundamental Game Theory um problem as they um as they arise in um in D5 and more generally in the whole blockchain Space because you know as a as I said in the beginning what's interesting for me in this space is that um we're given essentially new capabilities that we didn't have before but we also have new problems um so specifically incentive alignment problems um that we need to solve and so bridging these um these two things is essentially what I like to think about and I think that I like to think about that in uh from all of the possible settings that one can think of because I think that's that's essentially what um what interests me in this space and what excites me um here all right perfect so we'll there's two questions we see from the audience uh so one is probably more related to me or Shin which is about like a variable relationship between tick spacing and pool fees uh the the the background on the variable ticks on tick spacings and pool fees is that the pool fees sort of or the tickets wait Austin uh would you mind uh reading the question first so yeah people watching the show can then know yeah whatever all right so yeah so the question is do you think having a variable relationship between tick spacing and pool fees would benefit LPS um it's not sort of it's sort of uh I'm not sure I guess so the text-basing which choose chosen to uh minimize gas costs for backgrounds essentially uh so it's possible that tick spacings could benefit LPS by allowing them to be more um expressive with their limit orders but at the same time it's always a trade-off of gas efficiency uh you send you don't want to change text spacings too often especially on trades that are uh noise trades because every single time you change text basings it's cost money um and gas so it would probably it would be interesting to explore that but uh currently in V3 they're sort of Set uh so it'd be good to explore like if that would be beneficial in the future or just sort of allow users to customize and uh uh I don't know figure I figure it out right like if they want to do it they can and if it works then it works and we should we should uh a lot of people do that in the future um and this next one is probably for Jason uh which is uh noting the orthogon orthogonality of lever and flare could you imagine an example case where both can and class should be considered or compared yes so I think that's the that's kind of the overarching goal with um with our work like we have um essentially a quadrant interpretation where you you plot on the one axis the lever and on the other axis the flare and essentially the the goal with that is that um flare basically um separates Pools by additionally considering the competitiveness of LPS so an example case um as I mentioned before is um is a pool where you for example are a passive LP and you see um other people trying to constantly um jit or essentially offer a request for code what's no RFQ um in these cases the vast majority of the fees is going to go um to these um these very active um LPS if you might do um extremely active liquidity management and you as a possible P um you're not going to get almost um almost any of the fee um so basically um lever with some accounts for your order flow toxicity so for the uh the trader that you're seeing on the other side as well as the characteristics of the um the assets of the pool would not allow you to distinguish between one pool where you see this kind of situation so a very passive Health being a very active one that gets all the fees and um another and another situation where everyone is basically passive so everyone kind of obtains the same proportion of fees these two situations you can't differentiate um by um just using the notion of um lever you have to additionally account for the competitiveness of LPS and this is exactly what time flare um is uh is built to allow you to do so let me just phrase it slightly differently I think that the two uh the two metrics being orthogonal is intended and it's also intended for people to use them uh in a combined way so that you're basically we're basically adding one additional Dimension that you can compare uh different positions different LPS and different pools and hopefully you know we're we're measuring something that's lever was not designed to measure to give you more insights into the Dynamics on the AMF yeah exactly so so through um through this um through this plot of like um both lever and flare for a bunch of pools if you if you plot a bunch of pools then you actually get something that's similar to the Pareto Frontier of pulls so these pools that you should um actually try to um LP at um versus those that um you shouldn't and that are essentially very competitive and now there is um there is one comment that I'd like to make for that maybe if we if we have uh time do you think we have some additional time yeah so so essentially I think the more um overarching idea with the whole Market design um questions and um that flare is eventually in the future going to lead to is that whenever you have Arbitrage in a market somewhere um someone's always going to try um if you if you if you see of course free and fix frictionless and perfect competition to take advantage of um of three Arbiters at the cinema Market so in the end I think that perhaps you know many years from now who knows all pools might might end up being kind of mid in their in their flare but um but that's the that's the goal of um of Market design like the goal of Market design is since a little make it easier to reduce or to the extent that it's possible eliminate marketing efficiencies and I think you know samak said this um excellently in your podcast three weeks ago in that the only end goal if you want of a market is to facilitate the transfer good of goods from from people with low intrinsic value for for this good to those with high and so this is because this increases the social welfare of the whole system so that's kind of the broader idea and the more overarching perspective with um with these um with these goals these metrics everything that um that essentially can help you um as a liquidity provider decide in a better way where to put your Capital to use great and given that there's no more questions I'm going to close this this episode slightly earlier um if you would like to follow us on Twitter I'm at Shin to underscores one and Austin is at Austin Adams 10 and Jason you can find him on Json underscore off underscore CS is that the correct Twitter handle Jason of Cs that's correct yes uh the recording will be available on YouTube we're working on bringing it to other platforms and with that we will see you guys in two weeks in another episode of research hours at nearsoft labs all right see you everyone 