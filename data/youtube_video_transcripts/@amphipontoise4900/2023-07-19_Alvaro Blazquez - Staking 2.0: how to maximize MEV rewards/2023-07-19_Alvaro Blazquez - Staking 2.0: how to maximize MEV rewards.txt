[Music] [Music] thank you all right um good afternoon everyone um so let's get going so let me get the timeout uh it's taking 2.0 how to maximize Mev rewards so my name is Alvaro I'm part of the product analytics team of entrika in case you're not familiar with metrica we provide free alerts on dashboards on the ethereum ecosystem so anything around the consensus layer withdrawals Mev relays all of that we've got it so head out to ethometricalco and check them out you can also follow us on Twitter and join our Discord if you're interested in like what you're here um so the agenda for the talk is pretty simple we're going to talk about staking I'm going to talk about Mev and then how the two of them come together and um as a validator get more Rewards so let's start with what's taking staking is essentially a way to participate in the ethereum network as a validator and the way you do it is essentially providing collateral 32e once the validate is activated um it performs the duties to to secure the network and if those Duties are performed correctly it will then earn rewards that's essentially what being a validator is let's look a bit more into what the duties are so as you probably know already every 12 seconds there's a new Block in ethereum so without the Mev boost craziness um essentially every 12 seconds I randomly chosen by data we're going to look at the main pool pick the most profitable transactions and create a block as simple as that I know the duty of the white datas is at the stations so every 34 seconds or one Epoch um validators vote for the view of the chain and this is critical for the consensus layer um so how do you stake uh three options uh mainly first one most Hands-On but also most flexible is using a self-managed you know handle everything software Hardware Keys all of that second option using a sticking as a service provider so instead of managing the node you can externalize that for a code of the rewards and the third option is a liquid shaking provider which is essentially sticking through a smart contract and letting someone else do the actual validating and you get a card of the rewards so other than to actually secure the network what you'll get as a validator is around five to seven percent apy and you can see a breakdown here of [Music] where those rewards come from so big chunk is at the stations and you see smaller chunks from from broad proposals and then from those block proposals you get a card of the execution layer and then we've added here a bit of penalty essentially it's just missing at the stations which happened every once in a while and then you get to the final final value so in terms of adoption and and market value some surveys have estimated that um almost two-thirds of the or more than two-thirds of the institutions are interested in staking for increased uh yield on their assets and uh JPMorgan estimated that the Market's going to reach around 40 billion by 2025. but what if there was a way to increase those those rewards um maximum extractable value you've probably heard of Mev before I haven't seen that many talks here but uh you've probably heard about it and what is Mev so and maybe essentially maximizing the block value by including including or reordering transactions here I'm showing the top strategies um first one arbitration which is essentially just taking advantage of the price difference of an asset in different exchanges showing here between a centralized and decentralized exchange but it could be between the centralized exchanges um or a combination of both um another top strategy is front and back running which is essentially just targeting I'm showing it here in red uh the target transaction and making sure that that your transaction the one that gives you the profit is either right before or right after the the target one and then the third one which is probably the most controversial is sandwiching sandwich is essentially taking profit from the slippage in in trades so what usually works is um the Searcher or whoever's gonna profit from Mev is going to pump the value of the asset with one transaction let the user run their trade and then liquidate and and make the profit on the last transaction so like I mentioned before with block proposals every 12 seconds a validator is a single validator in the network is is has the power to propose whatever block they want so in theory you could uh if you're running that validate on and propose a Blog you could do any or all of these strategies but it does require some specialized knowledge and some specialized research research I may not be available for for available to everyone so I just want to take advantage of Meb but don't have that research available there's still an option and that's through Mev boost flashbots Mev boost there are other clients but this was the first one and what Mev boost does essentially is run as a sidecar to the consensus layer client the validator in general and provide access to that block building Marketplace the validator is still going to build a standard block as a backup just in case and that extra block Builder Marketplace um it's gonna give the validator an extra one to three percent apy but let's look a bit more into how that block building Marketplace um actually looks and and what's the supply chain like so this is a bit of a diagram of how the supply chain looks like right now so you've got on one side The Searchers Searchers are essentially just looking for those Mev opportunities I talked about before and then once they find them they'll submit them to the block Builders block Builders are essentially building blocks they could add their own Mev opportunities and then once they're I guess happy with the blog um they'll send it to the to the relays relays are essentially a third party trust layer between block Builders and validators and their goal is essentially to make sure that both block Builders and validators do what they're supposed to um and if you're not familiar the way validators decide which block block from block Builders to to select is through an auction so block Builders are incentivized to share a bit of of their their rewards so that's where the one to three percent apoi essentially comes from so up until this point I'll talk about uh how do you get Rewards but you know there are things that can happen that could minimize those those rewards um so ideally if you're running a validator you know interested in getting the maximum rewards you also want to minimize those those risks um and what are those risks um so we uh group them into three categories um first one's operational anything that happens running the relay uh the validators right ethical regulatory and custodial on the operational like I mentioned penalties if you miss an attestation if you miss a block proposal If instead of proposing the imeb Boost plug you propose a regular one things like that essentially anything that that drops those those rewards you can also get slashed and this is basically the validators is going against protocol rules go from 1 to 32 each so um yeah don't don't do that um and then on the ethical regulatory side uh with Meb boost came OPAC and compliance um if you're not familiar with ofac they're a U.S entity that essentially enforces sanctions so whether you're you want to be over compliant or not and don't want to censor anything I think if you're using Mev this is something you need to be aware of and then on the custodial side you've got key management um you know you need to have a good policy and you know things can happen with the keys who's got access to them all of that and then if you're staking through a through a liquid thinking provider there's also the smart contract risk which you at least need to be aware of so on the on the financial side uh the average validator is taking home next to 96 of the Max total rewards so it's a pretty good number on average but there are things and and some things I have in the past that that make that drop algorithm two of them um one of them if if you're not familiar a few months ago in April uh there was an incident with with the relays and then um a month after that uh ethereum have some trouble finalizing um so I'll go over the two of them so the MAV relay incident was essentially caused by changes in how the relays uh propagated at proposed blocks and what that cost as you can see in both charts number of forks to the left mesh proposals to the right uh caused a spike in in both of them um and Twitter this was only a spike on maybe boost proposed blocks so if you were a validator and decided to turn off me boost or weren't even running it during that this time and propose the block you're fine um so the other one uh was the finality incident a few months ago so finality if you're not familiar come from the attest stations we talked about earlier um sorry I mentioned every validator of epoch votes on their view of the chain and essentially what that does is make or help the chain reach consensus so if two-thirds of the validators agree on the vote uh the checkpoints finalize and justify get upgraded but if less than two-thirds of the networks agree then they don't get upgraded and that's exactly what happened um you can see here on the on the charts on the big one on the back uh votes over time Green Line Network success right that's essentially percentage of validators that are voting and you can see it drop during the incident and whenever it drops below the 66 percent line uh kind of in the middle of the of the chart that's when you know the Network's not going to finalize um during the incident we also saw an increase in misproposals uh which was essentially caused by the the validators kind of going going offline um so at the end until end of the of the incident you can see the the votes going up and then going up the 66 percent Mark and then that's what when you know the the Network's gonna going to finalize and typically like finalizing is that does not mean the network stops or anything like that but it does mean um that in some use cases you have gonna have to wait a little bit more um so let me summarize a little bit real quick um so on the nav relay incident we saw around three times the average mesh block um and that we estimate a cost or loss in in around 0.5 apy plus the Mev opportunities which are kind of impossible to determine um and then on the finality incident so ethereum usually finalizes into epochs in this case there was a delay because this was actually two incidents and it took four and nine epochs to finalize and we saw a lot of attestations and and block proposals during that time and we estimate a loss of around 0.5.8 of of that five to seven percent apy I mentioned at the beginning um so on the Meb boost side there are also some some risks with the relays jumped here a bit missed by relay and what we categorized as a Miss bit is essentially a validator having registered with a relay and then the relay for whatever reason not providing that bit that block so if you're using Mev boost and then and are subscribed to one of these relays at this time well you're not going to get a block so essentially what this chart tells us is you know don't just describe to one subscribe to as many as you feel comfortable with um there's no harm in that so don't put your ex on on one one basket um another type of risk is the ethical compliance one so I'm listening here all the relays currently available and I've split them by their intent to be Alpha compliant so essentially not include transactions that are on the ofak list in in Block Story they really but this is just their intent uh having that intent does not mean bad things don't happen so we took a look at a few months worth of blocks from all relays and you can see them here in pink even with the intent to to be compliant well they're still learning through some some of a compliance non-compliant blocks um so even you know even if you subscribe and you want to be compliant And subscribe to all of our compliant relays you need to you know still check yourself trust that verify as we usually say um so in a nutshell how to minimize uh some of these risks we've seen on the personal side main one is to monitor an alert um don't just let it sit you want to be alerted as quick as possible because in most cases if you are quick you'll minimize that risk and and don't really lose any rewards and then second one is to diversify like I mentioned don't just describe to one really subscribe to as many as you feel comfortable with same with the clients under setup if you're running multiple validators don't just take prism and get and replicate all over use different clients the finality incident for example uh only affected two clients so if you're running only prism Lighthouse only half of your validators would have been affected um but not just clients um if you're using Cloud providers if you're running on on cloud providers different locations diversify that as well we'll know almost 30 of the notes run on USD East um and you'll probably get a bit more rewards with that but you know if USD goes offline you're out um so a third option and this is probably not yet possible um is to use DVT you're probably heard about it before but essentially distributed validated technology allows you to split the key of A validator into multiple nodes so even if one single node doesn't doesn't do its duties you still get other nodes as backup so you shouldn't lose any any rewards and then on the ethical regulatory side uh like I showed uh you need to monitor it's not just enough to trust the relays in most cases another option for Meb boosts if you're not aware is main bid mint bid is is a parameter you can set in Mev boost and I believe in vouch you can set it by relay that essentially allows you to to only take blogs uh Mev blocks over the amount you you set so if it's either you know you want to not censor the network below x value or you want to only take Mev uh boost blocks over x value because that's what uh that's the risk you're willing to take whichever one uh you need to be aware of it um we've got a table to to that splits the rewards by relay and aggregate it by percentile so to give you an example for example if you take the last line uh percentile 25 if you set it at that value 0.03 Eve you would only discard the bottom 25 of of Mev post blocks you can go higher than that obviously but that's up to you um and then on the custodial side um key policy Whoever has access to the Keys has access and essentially can do whatever they want with the validator so you know don't just leave them there and then on the smart console side be aware of of what's what's happening any upgrades any Dow votes things like that that might change um how the staking providers is operating so to recap uh staging is not set and forget uh but things we've seen happen um so Monitor and get alerted when they do um because that will probably minimize the the rewards you lose if any and then thoroughly be aware and like I said mitigate those those risks and then if you want to know more like I mentioned at the beginning uh we've got free community dashboards and alerts at ethermetrical.com so if you're not if you don't know or or haven't seen us before definitely go check it out and if you're interested we've also got a white paper for institutions taking for institutions so if you're interested Reach Out thank you and I think might have time for four questions [Applause] oh yeah yep foreign [Music] 