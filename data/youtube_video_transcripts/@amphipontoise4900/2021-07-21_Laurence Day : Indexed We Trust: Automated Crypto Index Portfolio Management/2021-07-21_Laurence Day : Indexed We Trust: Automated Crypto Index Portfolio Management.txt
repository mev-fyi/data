this is admittedly more people in the room than i thought were gonna happen so i appreciate that in advance thank you very much thank you well we're just going to keep that sidebar okay so hello everyone i'm laurence i'm from index finance and i will be talking to you today about uh ways one of the ways that we uh allow for um oh i forgot the mics in my hand it should be up by my mouth one of the ways that we enable portfolios represented by single erc20 tokens that rebalance themselves so this is just signposting some of the talk in advance uh the alternative to reading this is to just watch me give the talk but here you go at least so you have some some stage pointing so i don't think i really need to talk too much to people that are in the device space about what indices are in the purely academic sense they are literally just numbers that track the performance of something going over time such as weather or what have you in the traditional finance sense we all know what they are the s p the dow jones your nasdaq and so on um any component that's in an index has a weight and the weights of these things are determined by some fixed strategy um not necessarily you could have someone just deciding them but by and large if it's not some purely info like quantitative things such as price capitalization or equal weights you'll have someone that's trying to maximize or minimize for some particular uh characteristics such as sharp ratio uh crypto index is fundamentally no different an asset is just a token and again the whole point of these things is to diversify you somewhat minimize your upside but you also minimize your your downside because well lifting uh rising tide lifts or ships but at the same time you might then be in a position where you can catch one or two that's going up if something that you invested in tanks then you're similarly limited exposure so um in the this is something of a witness i'm so sorry in advance um it's a bit strange in crypto because we've got all this information in our fingers that um you really get to pick one of three parts right you either get to say this is the one that i know deep in my bones and it's the one that i'm going to mortgage my entire house for or you can sit there and go well someone on facebook my uncle told me that dog money's funny therefore sheba is where all of my money is going if you've got a job or a family that you love and time that you want to spend away from your computer if you're like me you are going to be sitting there going well there's too much choice i know what the big names are but i don't perhaps know up-and-comers i don't follow all of the tech i'm going to show some of my kind of trad five experience and go it's generally a better idea to be sitting in an index um so yeah liquidity pools as they stand in amms are indices a uniswap liquidity pool is an index of sorts perhaps not as helpful because of a fixed allocation but the price that you track of that lp is itself an index of some form an lp token is a share in that index it's a claim on the assets within balancer pools are slightly closer to the ideal um you've got their finalized pools where things don't change but they're smart pools you can adjust those weights as and when if you desire so you can have several assets in a single pool as well it's not just a 50 50 split so i'm mentioning here for a reason these ones uni rv curve compound and maker because what we've done at indexed is we've taken balance of smart pools and we've forked them we've made some adjustments to enable assets to be phased in and out more easily we don't have to rely on external liquidity i've just looked straight into the camera that was a bit weird hi youtube um someone's saying they're going did you feel that um i mentioned this because i mentioned these tokens in particular because they are the members of what is currently our largest index by tvl the d55 um here is a screenshot of its performance well just generally how you would look at it from um our website uh it's a bit small for those sitting at the back or those that have rubbish eyesight like me but as you can say it's so it's uni's sitting there at what is it 40 man i should have taken a higher resolution image of this it's 42 uni 10 rv no 18 my god i am so um curve compound whatever you can see interactions happening with it as an erc 20 token we're tracking the performance for it you can get it on polygon with quick swap uni swap you can view its details on each scan etc um i admittedly and apparently preemptively took a picture of this at 9.2 mil tvl before uh things started slipping a bit um but i'll take that so if you're not talking about kind of 50 50 presentations of things like uni swap pools if you want to have a index that represents some kind of real strategy you've got two things that you need to decide you decide what the weights are that much is obvious and then you decide how often you want it to rebalance so in tradify things they do this quarterly or you know semi-annually and you have someone that's pulling the trigger on those things um this is now a personal take of mine and one that i represent within index that having someone or someone's make that choice make those choices for you isn't ideal not all people agree with that but that's the one that we take also within crypto given that i've just talked about how people that can all into one particular take and turn your 20 30 50 x i'm a believer that passive management is better than making decisions in the fires of a volatile market um when warren buffett finally does apin and you do see this on youtube um hi please send me money um it's not going to work is it but i'm going to try anyway so yeah even if you do have people that are making these decisions for you and if they're acting with the best will in the world there's no malicious intent they're doing their job if they have to do something for you make decisions about quantitative er facets if they have to um if they have to execute trades for you you're gonna have to pay them because no one works for free and you know this is where the management or streaming premium comes from and that eats into your profit which if you're sitting in crypto you probably want to minimize um i realize that every single meme template i use here i misuse and that is on purpose so so the way that we get around this having to have a human make the decisions is that we defer it to a scoring strategy which is a smart contract that sits bound to an index pool which decides asset weights using on-chain data so there is someone that is pressing a button in order to say actually do the work for us but they're not deciding the figures themselves so all of the stuff that we use at um all of the pools that we have at indexed use a square root of market valuations either being fully diluted or circulating market cap but we use top particles for that on uni v2 now we can talk about top stuff being a benefit of you know accuracy versus security but it is what it is as a choice we take the we take these ftvs that we calculate we square root them we sum the total and then we give weights to assets within the index based on their proportion of that sum total now here's a couple of figures for you here's just an example that i took a couple of days ago about the things that are within the d5 index i just grabbed whatever coin gecko was telling me is the numbers i really wish there was a laser pointer on this holy apologies um so i just grabbed these prices these are the mac supplies that are currently sitting on chain calculate their ftvs square root them and then go okay well here's the sum total of them this is what the proportion is of 34 now this is actually well timed in terms of recent news because grayscale's recently come out with its d5 fund right and there some people some crypto twitter conversations have started saying um this is great but uni is overvalued at 50 and a couple of other conversations about why link wasn't included etc but this is something that we've bought in mind as well we use square roots of stuff to kind of crush the differences between major outliers in terms of price and everything else similarly we have an oracle index if we just use ftv alone link would be sitting at something like 80 of it it's just a choice um too many numbers somewhere else so the question becomes if we don't have humans making the decisions about when what the waitings need to be then the question becomes okay well who can trigger a waiting are we waiting who can actually we do still need to have someone go okay this needs to happen now even if they're not making the decision themselves so anyone you or me typically me lately can actually update the top oracles for the assets that are within an asset pool you can also go okay now we've updated our twitter articles we can submit a request for the re-waiting to happen and that will be accepted if seven days have passed since the last one so weekly um again there is a gas cost to this a bit of link a bit of eth that's borne by the index team currently and yeah the neat thing is it's something that we're working on currently is that um yeah these aren't restricted to eoas so we can have smart contracts do them we're working on um outsourcing this stuff to keep us uh be it maybe through keeping at work or something more recent that's coming out like gelato so that we can just ask someone to go if you do this we will refund you the gas that you've spent and give you a little bit more as a thank you so that's an incentivization for people even if they're not necessarily involved in indexed to just do the work for us so okay um this is now where we get to talk about favorite things who has in their portfolio more than 10 tokens apparently i'm uh me and my six even beforehand is uh i i have limited imagination but okay so that's a fair few of you i counted at least eight um within index pools um we allow for maximum of 10 assets that have weights bound to them at any one time now this is because because these things are ammms themselves they can each of the each of the pairs can be swapped between so you've got a n choose two uh permutation of how many things you can swap between if you have too many of those you introduce il leaks now it is the case that no matter what market sector you're trying to track or what thing you're trying to minimize or maximize for performance there are going to be more options than you that you can have as choices than are sitting there in your um in your index um again i could probably without a gun to my head list about 50 things that i'd at least be interested in or could name and talk about a little bit but i wouldn't necessarily want exposure to all of them because within crypto at least at its current stage of evolution with a rising tide raising or sinking all ships with the exception of news that is unique to these two uh to these things five or ten tokens is enough and uh but again there are so many so the question becomes well which ones are the best representatives of that market sector so he says turning around for no reason we do allow pools to have lists of assets that are candidate lists so they're not in an index at any point but they're sitting there on the sidelines and they're being monitored so they're eligible to join the pool of assets provided that the score given by that automated scoring strategy ranks them as sufficiently high so every month after every three way three ways or not necessarily every month depending on if people actually do the three ways on time we do a re-index so that involves querying the twap for everything not just the things that are currently in the index scoring them and then ranking them and if there's something that has overperformed relative to something that's in the index that gets a weight what happens to the thing that's in the index gets booted out set to zero so about two two and a half weeks ago this happened for one of us just as an example so we have an oracle index that tracks the oracle market sector utterly dominated by link this is with square roots um so um in the middle of last month uh it was link uma or i chain band and dear and uh when i did a um a re-indexing at the end of the month api three had exceeded uh dear in mcapp and so got phased in so you see that went from being 6.8 to zero api three phase in from zero to seven point three again these were weights that were determined by on chain strat and as of now and i'll talk about this shortly this is what the weights were about a week ago now we'll talk about why that's been quite slow but it is happening um telor and dos down here they've you know they're present as candidate assets but their scores just have not put them in that top five so i'm not going to get into any messy stuff here but if you change the weights of an amm pool immediately and you don't do anything else about them you change the spot price so this is a consequence of balances in variant v which is this the same kind of invariant like formula they follow with uni swaps xyk if you have claims on the assets in that pool you are able to add and remove liquidity to the degree of the weights that you're changing that's fine you can make those shifts without changing the price but as i've just alluded to because we allow anyone to make those reways we can't assume that people actually have the claim in the form of the lp tokens for that index to make those removals or additions so well how do we do it then what we're doing when we do a relay or a re-index is we go here's what the target weight should be now how does it actually manifest so he says very dramatically as he does this so again these things are amms and so that means swaps happen within them and so we've got a post swap hook that checks after every swap and goes okay if a trade happened in the pool and the weight of a member needs to be increased it does a very small bump of that weight similarly the other way around if something's being swapped out and the weight needs to go the other way then it drops it by a small but it's one percent of whatever its current weight is and this fires every 30 minutes it used to be an hour we've sped it up a little bit recently but this is so that you can't just constantly bang a pool with small trades and introduce il and in order to make sure that again because these are amms in order for people to actually see them and interact with them they're in the one-inch router all of the ones that we provide so even if we just we all fell down dead these things would still have volume and therefore if the weights were being adjusted still then these bumps would happen with the post swap hook here's an example again i'm just relying on my d55 here i'm not going to get into too much of the detail here but if i swapped maker in for uni in the d55 pool and the uni's weight needs to go down and make his pull needs to weight needs to go up this loses 10 one percent of his current weight goes to 990 125 to 126.25 and you'll see that the weight has dropped for uni from 40 to this and everything else has been dragged up this is just a proportional a proportional game what this does do is it does introduce a small change in the weight uh sorry in the way i'm talking about weights an introduced a small change in the price of it the net asset value of these tokens has changed but it's very very gradual and that incentivizes arbitrage to even things out against the decks or anywhere else where it's listed so it does happen and it's powered by external people sorting it out for us the question then becomes with all of this stuff that's there there's i i have mentioned that there are things that people do need to do at least while we haven't got stuff that's sitting on a i don't know like on some kind of automated devops for doing re-ways and re-indexes how do i see what tokens are in a candidate list how do i find out what a target way is for an asset where do i go to update an oracle and and on and on and on i've missed two of them here what do i do to trigger a re-way or a re-index and so we handle that with um controller contracts and as soon as i put the word administrator here in certain slides i was like that is a poor choice of words it's not an admin contract it's just a centralized it's a single point of interaction for which several index pools can be interacted with at the same time so this is owned by a dow we do have an index finance dial it's run with the ndx token and that has the power to add or remove tokens from its pools with so ndx is a fork of uni it uses the governor alpha module for dealing with governance it handles it that way anyone an arbitrary account that's where these controller contracts is where people can perform updates or relays or re-indexes they just need to know what that thing is and admittedly know what things to call but they can do it all from that one place the stuff that we use to handle these things administratively they are upgradable proxy contracts so again should the dow elect to they can do these things as well they can vote for these things to be implemented provided that someone's either done the change and puts it forward for a vote so that is in the end as it is i realized i hadn't actually mentioned the site at this point but it is indexed finance we do have six pools running at the site right now most of these are fairly self-explanatory d5 your high-risk high reward pool of stuff oracles nftp a wider exposure one and this has got some pegged amount of bitcoin and ethernet and then there's a thunder funds of d55dgen and cc10 if you want to follow what we're doing on twitter here ndxfi ndx5 there's our medium and there's our subreddit thank you very much for your time everyone hit me with the questions please yes hello i can hear you from here but the mic all right fine okay i have a question so you talk about indexed as a source of income and passive income mostly but you know that in d5 we can do more than hauling assets so is there something extra you want to talk about okay yeah all right fine um when i was preparing these slides i wasn't sure how much time i was going to have so i did the sneaky thing of which i learned from my time of academia which was slam all the stuff i want to talk to in the back if i got a chance at the end so thank you because this is great i now get to slide this into the question slot um so i promise you this wasn't planned i'm just very very grateful for this so um if you know um assets that sit within amm pools are um not productive now funny timing this because uh joseph de long has literally 30 minutes ago just spoken about upgrades to sushi if you came from downstairs um nonetheless if stuff is sitting in a um in a balancer pool it's just sitting there to be liquidity right it's not being used productively and most of those tokens for example the ones in d55 are able to be used in lending protocols um so compound or rv or what have you now if you were to use those instead then you get an interest bearing index uh i'm going to leave to the side um the question about whether you know what kind of a centralized exchange would think about if you had a lp of wrapped interest bearing tokens instead i'm just going to assume that's a non-issue but the rates of these the way that things currently stand is that these wrapped tokens will sit on a single protocol to be learned out so you've got your rv wrapped die or you know your compound interest only die what have you and this they can be moved around um if you want you can go okay i'm going to withdraw from here and deposit here instead it would be nice though if the work that work was not something that we needed to worry about if in an index we said well we didn't we don't want to go okay um i'm going to move all of the stuff that's in d5 from compound to rv like without and then phasing stuff in because that could be a slow process so it would be nice if you could have one wrapped token and you can say i'm leading up to something here one wrapped token that said okay here is a representation of token and then the underlying assets are being loaned across several things at once a compound of a fulcrum cream etc we weren't really happy with what existed um around there so we went fine we'll do it ourselves and so okay i'm going to set this next slide with bearing in mind that the name has not been finalized yet but this is something we've been working on is known so it's a permissionless yield aggregator that um we have white listed protocols uh common interface for tokens and we can segment funds in them across any of those whitelisted protocols at once so each vault has a array of weightings that you can set uh to arbitrary ones so for example a default of 50 compound 30 of a 20 cream any eoa so not a smart contract but an eoa can suggest a new weighting which is then verified on chain using those protocols uh apy functions and will execute a swap of funds within the vault if you get a higher rate of return so this is it's a minimization problem um i'm not going to get into zero one knapsack stuff but actually determining the stuff off chain to propose is fairly simple computationally and the idea is that once this is out we were hoping to have it out now for this and this would be a big reveal but we're still getting some stuff right that we would use this stuff as proxy tokens um proxy assets so the waiting of uni would be represented by any uni indexed uni known as a brilliant and terrible joke of nurn indexed urn nern skyrim simpson um the yeah so this supports uh six uh protocols to start with uh we launched it on any asset that has at least that supports at least one so it's 100 volts it's going to kill us to deploy um ap wise things currently range between about 46 to 212 bips there is a white paper there it's not out of draft yet but you can if you choose to and that's i do not actually have any bonus slides after this thank you i get any i have a question yep um how do you make sure i'm over here how do you make sure that it maintains the peg like can you redeem the index for the underlying tokens yes yes at any time um so because these are lp tokens um there's on our interface we've got i'm hoping that i can see burn options from here just to illustrate that it is a thing that you can do uh please sorry bear with me yes so we have burn up here so if you do have those tokens you can uh choose to either redeem them for whatever their current weight is in their full amount so you go for this i want all of the con you know if i've got 100 d5 i want to get six of the assets out there's six in here because one of them is phasing in uh it's not the d56 um but yeah all you could choose to redeem them for one of the assets and um that's that's also fine provided that you're not trying to swap out one third or more of whatever is in there and that's just a security thing that we've got in place but yes um so this allows this is kind of how the the index price changes introduced by the post swap hook is able to be arbitraged up or down if a change is a change happens that knocks the nav out from whatever it is on a deck you can either mint and sell or buy and burn to bring things down so what assets were you putting the new oh god and the new index so you said you've got a list of 100 what ones are you going to put in the new one if we're going to i think to start with we would just say the d5 the contents of the d55 we would just replace with the interest bearing equivalent assets i uh i don't have a good answer for this as to whether it becomes whether we just say if you're holding d5 just wait and it will automatically migrate like there's nothing to be done or we go and we go okay we'll launch another one that's an equivalent mirror but that does split the part a little bit um it's it's a good question one that i don't have a yes or no answer to yet oh thanks surprise are you just buying the rap tokens on uni sushi or are you creating routes and storing them and then going directly to company so like for example some context if i come was die west whatever do you then go and wrap them for me or do i then come with the wrapped already to deposit into the indexed i am not necessarily the one to talk about the implementation of this i believe that we would have some router logic that would allow you to just deposit the naked asset and it would sort it out for you but um dylan who's not here hi dylan i know you're watching um would be the one to answer about that once this stuff is kind of you know out of its finally nascent stage i've got one more go on if i can fine they all come in threes um if you are doing the routine how are you optimizing for gas if you're let's say coming with 10 west well actually let's say 0.1 west and whatever die your gas cost might be extremely high for depositing so how are you optimizing for low amounts of deposits and the native token to then be wrapped into the wrap not something i've thought about personally okay um i mean it is what it is yeah i don't know an answer for you for that thanks i have a question does um how does like indexed like i guess you the company uh monetize this or do you guys like making do you have like a token or something governance token so there is a governance token for it it's ndx um the way that this is working as it stands is that the protocol generates revenue from burning the tokens which actually leads in quite nicely to your first question about can you burn um yes if you do choose to burn we take a half a percent of that and route it to a treasury um for the for the dell and we are currently setting up a process by which people can stake those governance tokens in order for a claim on protocol revenue um so between that and when erst wildly named nirn is released um performance fees of it's a small fraction of the yield generated from those vaults will also be routed towards members of the dell cooler it it depends on whether you're doing um the the fee claim as um someone who's just withdrawing or whether it's happening from a from a protocol and it can be one of one or the other but they're equivalent anyway so i have no idea what time it is because i'm not wearing a watch so i don't know if i've gone over time do i talk into it oh hi yes only one i guess um i guess you answered my question about the burn fee it would be around what like point five percent yeah so i guess that would mean that it would offset some of the margins of arbitragers what would happen to the traders if you're just buying or selling these tokens spot you pay no fees um that that was an intentional choice um quite anti the idea of management or streaming the idea of having to pay to exit or hunter but because we rely on arbitrage to deal with this rounding off the edges that are introduced by reways their arbitration will take some of you know a fraction of that from it so and then the 5.5 percent goes into the pool it goes well so there is a swap fee um within the pools themselves to minimize il that is given as is the way of amm pools to holders of that token but when you burn a portion of that token is just sent to a dow account a time locked account run by governor alpha thank you no problem that was the one other question so thank you very much for your time everyone absolutely surprised 