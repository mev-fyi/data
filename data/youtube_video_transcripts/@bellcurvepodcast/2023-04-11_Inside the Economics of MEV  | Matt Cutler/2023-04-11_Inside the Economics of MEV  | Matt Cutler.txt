there is absolutely no economic incentives for operating the relays the relays carry very real cost very real risk and they carry zero economics hey everyone before we get into it today just want to give a quick shout out to this season's sponsor Rook close to a billion dollars worth of Mev has been taken out of users pockets and that's just on ethereum and that number is only getting larger unfortunately Rook thinks that it's time for a change and they've built a solution which is going to automatically redirect that Mev back to where it belongs into your the user's pocket so you're going to be hearing all about them later in the show I'm a huge fan of this team and what they're building so stay tuned to find out more alright hasu um welcome back to another episode of bell curve today we're going to be talking to Matt Cutler of block native you want to say a couple words about why we're having met on and what we want to get out of the conversation yeah so uh Med is one of the experts on the Mev supply chain so I think we're going to dig into that with it with him um block native his his company they also run a relay in the Memphis ecosystem and um just to to give uh our listener some context so on Monday uh last Monday if you if you're listening to this when the episode comes out um there was a major exploit uh on a really implementation in the math boost ecosystem and so I think it would be very interesting to dig into this with Matt as well as the implications and I know he's been a long time advocate for um a kind of better incentive design um at the relay level um so we're gonna talk to him about that and his company block native is also one of the kind of lead us on esc437 account abstraction on on ethereum so um I personally haven't thought like nearly as deep assume about that and so it would be very interesting to hear some of his perspectives this is going to be a fascinating conversation I think the first episode of our series was like with tarun and Justin it's really interesting setting up some of the higher level almost philosophical debates around Mev and in this episode we're really going to get into the guts the infrastructure and how it all works yeah yeah this would the contrast the contrast will be great I think I agree I agree all right let's get right into it then hey everyone welcome back to another episode of bell curve uh today haasu and I are joined by Matt Cutler who is the co-founder and CEO at block native Matt welcome to the show thanks for having me hey Michael hi Ashley how are you hey mad time Mike no complaints no complaints it's been a slow uh sleepy week in Mev land if I love Dad joke to show off uh and I think what we want to talk about today we really want to get into the the guts um of the infrastructure that supports Meb so the first I think episode of this season was kind of high level and introducing a lot of the sort of philosophical arguments around Mev and Matt what I think casu and I are very interested in is kind of getting into the guts of how it all actually works and I think a theme of this conversation is going to be how the infrastructure required to support ethereum today is actually getting more and more complex which I think is an interesting theme to kind of dig into so I'm going to start actually guys by just sharing a super simple diagram here that I'm sure many many folks listening to this podcast will be sort of aware of but it's just a very helpful uh sort of basic visualization for the MAV supply chain as it exists today and I I think many folks have kind of wrapped their brains around what this looks like today but what I hope you know when we get to the end of this conversation we're going to realize how this is getting more and more complex by the day and this is like you know not a great actual visualization for what this looks like so Matt maybe I can kind of first turn this over to you I know you have a lot of thoughts around the infrastructure around Mev can you kind of just walk listeners through this Mev supply chain diagram that we're showing who are each of these individual actors what are they responsible for doing and then I'd love to kind of get into the economics of what um especially the Searchers and Builders kind of look like so this is the the canonical Mev supply chain the first time that I saw this was actually in Amsterdam at devconnect in April of 2022 um it was quite an interesting room to be in uh it felt very privileged to be there I was actually a speaker as part of the Mev day agenda which was an amazing event and uh this introduces uh this notion that a user has something they want to do on the ethereum blockchain to do so they need to access their eoa via a wallet so let's say they conduct a simple uniswap trade that goes into the public mempool which is not referenced here a Searcher then sees that observes that transaction realizes that this trade uh has Mev associated with it whether in the form of a sandwich or in the form of Arbitrage the Searcher picks up the transaction and creates one or more response transactions and forms what's known as a bundle a bundle is a collection of transactions that need to be executed in a very specific sequence in that sequence of the bundle they then submit the bundle to the Builder you can see that right there the Builder's job is to build blocks for the blockchain so uh post merge there is this notion of PBS proposer Builder separation which separates the job of proposing blocks to the network from actually building those blocks the Builder's job is to build the most profitable block possible which includes transactions from the public mempool private transactions as well to search your bundles as you can see here Builders and compete with each other to build the most profitable block and the validator through a couple of mechanisms that aren't uh shown here selects the highest bid they accept the the block from the Builder and they then go on to propose that to the network and this supply chain results in a new block being proposed to the network that then becomes truth super helpful um so maybe we could kind of Zone in on this sort of uh the tail end here in between the Builder and the validator so we know that one step uh you know around this kind of area of the value chain is a relay and block native you're an operator of a relay you guys are also a block Builder can you get into a little bit more of the detail around what do economics look like for a relay today and same question on the on the Builder side of things sure so uh there's a couple of pieces that are not uh Illustrated here in the supply chain that are necessary connective tissue so the validator runs what's known as a sidecar it's an optional piece of software that now I think over 99 of all validators have installed um and today it ranges from about 80 to 90 percent of all blocks come through Mev boost so Mev boost is this a small piece of software that connects validators to the Mev boost relay Network and so what relays do is they sit between the validators and the builders and they basically serve this critical middleman role and it's a trusted role it is a uh a a trade-off that was made to bring PBS to the network at the merge because many of the design questions associated with in protocol or in Shrine PBS haven't been answered yet so uh what relays do is they accept blocks from Builders and and basically they absorb very large amounts of network traffic because Builders uh build blocks continuously um there's there's something very important to understand about what happens to the left and what happens to the right of this diagram to the right of this diagram is the chain and the chain is a discrete system it clicks forward like a watch now every 12 seconds click click click in perfect synchrony okay it's it's uh 100 consistent 100 precise and it always moves forward okay on the left are the public mempool it is a continuous flow system anyone in the world can submit a transaction at any microsecond and they do and so what happens is these two different impedance impedances a continuous flow system and a discrete flow system need to get matched up and they get matched up by Builders building blocks continuously basically what they're doing is always collecting the latest transaction information always trying to recalculate what's going on and then they pass those blocks on to validators okay sorry not to validation to the relay okay the relay accepts the block what the relay is supposed to do but doesn't always do is then validate the block to make sure that the block built by the Builder is valid and can be accepted by the network validate the bid and all that sort of adjust this then massively simplifies the the network and compute challenges of the validator because the validator doesn't absorb all this traffic doesn't need all these Builders hammering it with all these blocks that it then needs to validate all it needs to do is ask these relays give me your most valuable bid and I'm going to trust the relay that that's going to be a valid block that I'll be able to accept by the network okay and so what's interesting is there's some subtlety here there are multiple relays in operation today at the moment there are 11 relays that power the ethereum network but only seven of them have more than one percent share and they're actually only six independent operators because there's a specific operator that operates multiple relays today okay and so it's it's pretty centralized more centralized than any of us would like um and what happens here is the validator who's running Mev boost can selectively enable one or more relays okay and so the validator can choose which relays they pay attention to and there's a whole bunch of policies and associated with that certain validators say there's no risk I might as well listen to them all I'm trying to do is get the highest bid other validators have specific policies like I'm a us-based entity I Service uh institutional clients I can only accept uh ofac stn compliant blocks so I will only listen to um uh relays which offer that that capability they filter out certain sanctioned transactions conversely there's other groups that say the opposite we don't want any censorship we want open network access and so we'll only listen to relays that are non-censoring and believe it or not there's weird crosstalk between them so there's large US entities that only take non-censored transactions there's Global entities only take sensor and there's it's a lot of complexity in all of now these relays without the relays the network doesn't operate okay meaning that that the Mev Boost network is entirely dependent on them they require 100 uptime because if they don't do their job you have missed slots they require uh High degrees of network connectivity because they need to be able to accept blocks continuously they require High degrees of CPU because you have to simulate these blocks and make sure that they're valid and don't contain um you know various sorts of bad action transactions and there is absolutely no economic incentives for operating the relays the relays carry very real cost very real risk and they carry zero economics and in fact if your relay doesn't do its job or there's some misconfiguration and you miss slots the validators often expect reimbursement so they have negative economics and so it creates this very um a significant point of exposure and then there's something that's quite subtle here which is uh at the consensus layer we care very deeply about uh client diversity independent code bases so if there's a a bug in any one of these uh consensus layer clients the whole network doesn't Suffer Well today there's only two code bases for relays the flashbots relay which is open source and everybody else runs and the block native Dreamboat relay which block native alone runs so there are two code bases but there's only one relay that's operating the the diverse one and and in our experience actually talking to the validator set they don't really care about this this is actually not a determining criteria and so one of the things we're are trying to do is encourage more teams to participate as relays and to either develop their own relays to encourage relay diversity or to adopt the alternate code base iers and again there's no economic Advantage for us in doing so but these are all factors that create points of exposure in the network and this week we saw one of those points of exposure get exploited which is unfortunate so lots of lots of great information there and just to maybe sum up and this is where I'm going to kind of turn it over to haasu and haasu kind of ask you to put your your flashbots hat on here but PBS was a you know a decision that was made to be enshrined in ethereum not yet right but it's separating this role of the validator their proposer and then Builders right to avoid kind of this Mev dystopia that I think Stefan kind of coined now one solution that we have in in place now is this relay sort of function right which allows Builders to communicate uh with proposers in a trust minimized sort of way now Matt what I heard you just say is like hey there's this crit critical bit of off-chain infrastructure that an enormous amount of ethereum is relying on and the economics of It kind of suck today right you could argue that there's an enormous amount of risk that you're taking on liabilities with not a whole lot of economic upside so then you know you you might rightly be concerned um about the uh the sustainability of that long term hosu is uh you know kind of In Your Capacity as flashbots is the original uh original sort of relay love to get your kind of thoughts on what Matt's out there yeah um I I think Metro is so first of all thanks for the explanation of how they may use supply chain works I think um the way that I always explain kind of the the need for for relays is that math boost is a protocol to to basically broker trust between um validate us and and block build us and in in order kind of to understand the role of the relay from a very high level we can go back to how things used to work and in proof of work where um the flashbot there was only one relay it was the flashbulbs relay and it was it was connected directly to to the mining pools and actually um the the relay only sent individual transactions uh or individual abundance to the mining pool and then the mining crew would use these bundles in their own block bidding and so the mining pool always saw all of the transactions that the Searchers were sending to the relay and they were including the best ones using a kind of uh local block building algorithm and this was okay because the the mining pool was seeing the transactions but the workers in the mining pool were not they were only hashing um the block the block header that the mining pool operator was giving them and then trying to see if they could find the golden knots right and so you had this implicit privacy mechanism um in proof of work where the workers were not all of the hash power was not seeing the nav transactions which were valuable um and the the my inputs pool operators did but they had a lot at stake they were only like five or six big mining pools and they all if one one of them lost their access to Mev then there would been devastating for them and so you could bet that they are very unlikely to to to um misbehave enter proof of stake and the soil formula changes because now all of a sudden you have staking pools but the role of a staking pool even though it has the same name is something that's completely different from the pool and proof of work the pool and proof of work was the central party that also built the block um whereas in proof of stake every validized building their own block locally and so it's almost like you're dealing now all of a sudden with a million different mining pools and so who do you trust right and so it's a it's a really big problem now all of a sudden for the for the Mev relay to decide who they want to send their transaction to and um so um the answer was basically either we find a mechanism uh so I either we we Mev becomes exclusively available to trusted validators usually big node operators staking pools and so on it currently excluding solo operators or kind of less trustworthy available or we find a mechanism that um basically encrypts the transactions um in in a way that that still allows smaller validators to participate in this market and there's this this trick almost in mechanism design where you can solve almost any problem that you want just by magically introducing the The Trusted third-party um that that kind of operates in the in the middle right and that's exactly where the relay comes in right because the the relay takes these bits from um from the builders it takes the blocks but then it shows only same as actually as improve of work shows only the the block header to the validator and uh and then the value that I can sign the block header and after I receive the the signature the Relay can then uh either release the block body or kind of publish the full block to the network and I think later in the show we will get into how this exact mechanism broke down um and cost is expert to happen uh two days ago and that's why I thought it's it's worthy of explaining this from scratch so oh do you want to jump in here Matt it's worth saying that the relays provide tremendous economic value to the entire network for two very specific reasons one the average Mev boost block includes about 22 to 25 percent more transactions per slot than a vanilla block so it's using block space more efficiently and critically because there's more transactions per block there's a higher rate of Youth burn via the base fee and so all etholders benefit as a result of the work of the relays okay two validator rewards are significantly higher through Mev boost blocks I'm using a rated network has a dashboard on this but it's about you know the execution rewards are about 272 percent greater right so the validators get paid more so the security budget goes up the the network is is used more efficiently the the base fee burn is increased there's more deflationary pressure and so there's huge amount of economic benefit that result that is driven specifically by the work of the relays and the rest of the supply chain and yet none of that value is today shared with those infrastructure operators right and it seems to me like there's certainly opportunities for us to say well you're brokering all this value like there should be some opportunity to participate in that value now there's many ways we could do so there's lots of debates about that but to me as an infrastructure operator that's a debate I think we should have yeah um I'm very interested in having that debate um so I think I think there's a few ways to to start with this I think um you definitely I definitely agree with you that relays create a lot of value in the Mev supply chain but I think in some ways also the value is is misunderstood in that relay is not necessary for most participants in the Mev supply chain right and that's why I took this a bit like longer answer showing that um only untrusted parties would be excluded from the Mev supply chain if relays didn't exist because so let's say you have kind of you have flashbots and you have block native and you have Builder 69 and you have Jane Street whatever you have all of these Builders right um and you have Lido you have coinbase cracking buying Etc all of a sudden you have 90 of the Builder Market 90 of the staking Market um and these parties all trust each other right there is no need here for a trusted third party and um it's basically when kind of the 10 interacts with the 90 or um the 10 interacts with the 10 is is basically the cases where the market structure benefits or these are the parties that that benefit from uh from having a relay and I think I think it kind of points to so why at so at least in my position um at flashbots I have been critical about um the possibility of monetizing relays not because I think um we don't want to right we'd love to make money from this if we thought it was possible but we are we are kind of we are thinking it it would actually make it more likely that this already kind of fragile Market structure this fragile protocol that is math boost um would degrade uh into something that actually uh when more and more parties start to circumvent relays altogether because as I said the relay is not necessary for all parties but because because like some amount of parties need a relay um we have almost the social uh uh consensus the social Norm that everybody goes through a relay and that's really important because we want everybody to operate on same footing but once we start monetizing relays I think it it creates this incentive to circumvent relays for all of the parties who don't need it because that would now increase their their bottom line and um so that I have more arguments that I can favor and against but I really so we can go into them but I first want to hear like how we would respond to this one because I think this is for me is really the Crux of the meta sure so you know at the at the end of the day right we want to have an open list trustless and permissionless network that that anyone can participate in so we don't want to professionalize uh the security budget and the staking layer we want independence takers to be on equal footing as everybody else right so that seems pretty enshrined to the ecosystem and and you know sort of I don't think anyone's arguing that that's something we want to reconsider right um two is today we I will agree that the the echo the the market is fragile but the market doesn't have very many participants and there's no incentives really today to increase participation okay so my view of this is what we want is we want lots of relays we want a lot of people going look the economics here is amazing right this is a great business to get with to get in and we can add value here and so what we want to be seeing is uh more relays with more diversity and more uh different act you know various actors do it today uh basically there's a small set of private entities who are using Venture Capital money to support the network and a couple of public goods that have passed the Hat and that strikes me as at the the core of the network not sustainable and not ideal for a network that basically is trying to to be able to to fund its own operations overall now the incentives are are real right so you know there's this argument of well any relay that accepts uh economics would then just turn around and refund it back to their validator set so um you know the the game theory here is it'll all go to zero anyways and and my argument is that's the same thing with block Builders today block Builders can subsidize blocks and yet there are block builders that take profit that actually take margin from this right and so uh it would again the the mechanisms here I think need to be explored at the end of the day the idea is there is a trade-off between the simple cheap path for validators and staking pools to say you know what maybe we could eke out a couple of tenths of a point here but we're going to destroy that on you know the extra overhead that's associated with building these private Pathways and doing this stuff ourselves and you know what the easy button is just press use the relay Network and you know on a temporary basis until in protocol PBS exists and it's totally worth it and and we understand why that uh absorbing the denial of service attacks absorbing the network bandwidth doing all this work is totally fair to have something so again maybe I'm being naive about this but it strikes me that the path that we're on leads to out-of-band incentives or leads to uh uh reduced participation and ultimately a high degree of centralization okay let me let me throw a few more arguments at you and and see how uh what you have to say about them so just responding to this one um I think just like following all kinds of Economics uh economic theory so how how can a bid a monetize successfully if they he got some kind of uh competitive Advantage right so um and that's what we're seeing I think in the in the Beta Market if a beta just makes consistently more valuable blocks than other betas then they can monetize the kind of the Surplus between the two so successfully because they only need to Output the second best builder they don't need to bid any kind of absolute highest amount and so in the relay Market how they would translate is can a relay um can it relay basically differentiate in a way that lets it consistently provide more value to either block Builders or to validate us um and um I think so far we haven't really seen that that a relay would be able to like in a free market kind of sense and that's that is the reason why we are talking about this in the first place right that kind of the free the free relay Market doesn't really allow for any relay to upgrade its technology in a way that that lets it differentiate itself from the other relays and just hence win more customers or provide more value to customers that they'd be willing to pay more the reason why we are talking about this is because the service they provide is extremely fungible um and hence we need some kind of social convention on their ability to monetize right so worth noting there is no economic advantage to operating different consensus layer clients they all operate the same fungible service so so why do we have multiple code bases why do we have that well the ethereum foundation has determined that that's a priority so this is another way we have this you know and again um it strikes me that there are multiple Pathways here that we could pursue that would make uh my point like there's two very valid arguments one is the the economics degrade regardless of how you do it the other is it's not a free service it's in fact a very expensive service and a high risk service and ultimately on a long enough timeline these things are not sustainable now the answer that's often given is in protocol PBS now honest answer what's your earliest timeline for in protocol PBS on mainnet I think it got it got a lot put a lot earlier this week that would be my honest answer um um so like no I mean I uh I think it depends I think so if this now became kind of the number one priority for ethereum polysium roadmap but without any kind of emergency uh timeline then I'd say 18 months um if if if we think we have to fix this because there is now an emergency we think we can't the math boost protocol starts to break down then I think it can be accelerated like a lot faster like faster than a year I think um so um but I want to like I want to so I want to say that I really really agree with you that the relay ecosystem today is a public good so none of my comments in any way were pointing to saying that the relay ecosystem doesn't provide tremendous value to the ecosystem uh in fact kind of we pay the same cost uh as you you guys do at block native right for running the flashbots relay um and uh we do that because we think it's it's essential to uphold this this Market structure and so um I think public I think yeah we have to basically talk about it from a funding public goods anger more so than from an angle of how can we turn this into a market that can be monetized successfully um in a kind of free market way yeah uh it's worth noting that you know uh we sit on the same side of the table and in many ways flashbots is is out ahead right there by the Champions and architects of this which is an incredible system that that you know is is uh really helping the entire network move forward so the the benefits again are tremendous but the Flack that comes back the heat the argument like is is it's not very gratifying to be an operator in this role right and you know hasu makes the point about Builder differentiation and we can talk about this but some of the earlier episodes was all about latency and it turns out that a lot of the Builder Advantage not all of them but some of the Builder Advantage are actually latency games and so again it sort of all reduces down to latency games and the reason why latency games are problematic is it favors uh the largest best funded most sophisticated actors in the ecosystem and then we're back to where we started you know the whole brand ethereum experiment experiment is to uh build the foundation for the next economy and to make a funnel only more Equitable system and if at the core of the system there's not very much Equity built in or there's you know incentives that route around that then that's problematic right um we as a as a group were very early advocates for Mev recirculation back to users because fundamentally that's where it starts we've been really happy to see that Meme really take off and now it's sort of the topic right now about how do we create more um uh Equitable recirculation and the right ways to do so um we're sort of want to get out in front of this issue as well that that in the the formative stages of ethereum you could assume the infrastructure is just like uh we I don't know it was in fear we don't really think about that right turns out if you ask in fear it's a pretty hard job it's a pretty expensive job right and and we're now to the state where there's enough economic value flowing through the system that assuming the infrastructure we think is super dangerous we think it's it's bad for um uh the participants in the network not to really understand the infrastructure implications and we think it's um a short-sighted not short-sighted but but incomplete if the incentives don't account for hey look there's latency infrastructure advantages here and unless we're very explicit about creating uh compelling incentives then negative incentives and therefore centralizing incentives will emerge and so you know we're starting to see some some traction on these Concepts as well but that's basically where we think uh uh the next series of debates needs to happen inside the the the the ecosystem I think it I think it's it's an interesting interesting question to what degree that the relayer should be incentivized and I yeah I have a few more like we can do like a quick lighting round because I do want to hear what you have to say about the rest of these arguments so for one you were saying we want many many relays and I would say I don't think it's I don't think it's so clear that we actually want many relays because like having 10 relays is not twice as secure as having five relays in fact every relay makes the system more fragile in a sense because you only need one relay if if you're a builder you only need one relay um to defect and cheat in order to Studio Mev and if you're validator you only need one relay to lie about the validity or the bit size in the Block in order um to steal your imev from you so the relay is actually in the position to steal Mev from both participants right and so if you have nine honest relays and one dishonest one then all of a sudden um he the whole system breaks down right and so um how do you think about that well you know you had mentioned the prior State under proof of work right so under proof of work we had thousands of machines that were securing the network but they were aggregated into a small number of mining pools it turns out that the mining pool operators the ones who determine the block template and so there were like four or five entities that basically nobody on the network could mention if you could mention one you knew ether mine didn't know anybody else and with totally opaque structures totally opaque governance totally opaque policies that were basically determining which transactions got in and in what order and this was widely and by the way they were then listening to a single relay um uh map gef and this was widely perceived to be you know overly centralizing and and risky because there were a small number of actors that were able to determine the behavior of the network right so enter the merge enter map boost enter this architecture which we think is a massive improvement over what came before without question and yet we're we're basically going back to where we were before 4 there's four or five entities that determine what happens right they are they have um opaque incentives and by opaque I mean like there's private investors who fund us who basically say this is a good use of their capital and at any point may say yeah we're not so sure about that or maybe hey let's figure out some alternate mechanisms to monetize these capabilities so if we just think about it objectively from the point of view of the network um having a critical dependency on a small number of actors that have uh independent incentives it's not healthy right so on the spectrum of do we want fewer relays or do we want more relays do we want fewer participants or more participants you know my general tendency is more is better now you're to your point each one has to then stand up on its own merits right each one has to then go out another risk for relays is you got to go and Lobby the validators to say hey you should adopt my relay here's the policies here's why yeah right then you're you have dashboards like the tornado watch dashboard that are keeping you honest right and you have to go talk to the Searchers and say hey Searchers here's why you should send submit bundles to us right yeah and then everybody's sort of pinging each other to figure out what their bids are so um operating a relay requires real human capital real you know out-of-pocket expense and depending on your jurisdiction May often real regulatory exposure and and therefore having a small number of entities and a small number of geographies doing so not great for the network hey guys quick break from the show here I want you to imagine something from me imagine swapping two stable coins on chain paying zero dollars in gas and instead getting a rebate of two thousand dollars this is something that's actually happened on chain to understand how I want to introduce and thank the season sponsor Rook zooming out for a second the current state of affairs at Med is billions of dollars so far have been extracted from users Pockets using Mev Rook is coming in and saying enough is enough blockchain should drive value to their users and the applications they use it is time to leave the hobbyist era behind us if we want to move forward we want to get this right that's why Rook has built a custom blockchain settlement Network and it's one that gives you full control over the entire transaction life cycle today you can connect to an open source rep node The Rook protocol will automatically match bundle and auction your orders and transactions in seconds with zero gas overhead also any Mev that's discoverable along the way will be returned to you the user created as a collaboration between the industry's top mechanism designers and Mev Engineers Rook was built from the ground up to be scalable safe and programmable you can get your own mempool choose searches and Builders and link your mempool with others to discover even more Mev you can Define how the Meb is shared and delivered as well and what could basically process anything from transactions to meta transactions and more this is the way that blockchains basically should have been from day one so if you're a user listening to this here's what I want you to do I want you to go to your wallets go to your favorite app your node provider and say Hey I want you to be working with these guys rock I want the Mev that I create to be redistributed back to me if you're a developer and you want to stay ahead of the game the best way to do that is to follow them on Twitter they are at Rook or even better yet slide into their DMS they are lighting responsive they'll get you set up today and if you do slide into those DMS as always please tell them that I sent you what I want to get into here a little bit is um some discussion about the builders because honestly for me even going into the season I think that was the that was the part of this ecosystem that I had the least like when I closed my eyes was very difficult to imagine like who those people were and what they were doing but just to like bookend that last uh that last section that we were discussing could you uh either one of you or maybe hosu because you wrote this whole post-mortem on the exploit can you explain what that exploit was that like how that ended up happening why that was such a big deal and then we can kind of get into like who the builders are today what the relays transport From the Block Builder to the velder is basically this valuable payload that contains the Mev transactions right and the way it works in the good case is that the um the relay shows the block header to the proposer and then the proposal selects the the highest block header and signs it and then upon receive the signature the the relay um reveals the the block body to the proposal and the proposal can um then then publish the full block the relay also publishes the full block so both are happening in this case um the relay made there was a there was a bug in the relay implementation that caused the relay not to check whether a particular part of the um signature was actually valid so what the uh what the validator did was they they sent a signature but the signature was not valid and so it didn't make actually a full block and so the relay couldn't publish the block to the network where it would then be picked up by other nodes and in the attestation committee it would receive attestations and this would give it then wait in the focus Rule and this block would get finalized right but this is not what happened so the relay um couldn't publish the block because the block was not valid but it still released the block body without checking whether another block was basically already being finalized and so it gave away this information about the Mev transactions to the proposal and the proposal had then all of the transactions and they could construct their own block um and and steal the Mev but stealing there maybe was not all that happened here so if they store the Mev then they would have made a couple of maybe like the average average Block in in math versus like is what is 0.2e for something is is a small number right yeah so that's not what happened um what happened was also that they in the first step they put out very very specifically parameterized traits in very low liquidity units of pools that baited very specific sandwich Bots to make very very risky trades um and then they basically took these trades knowing that they were exploitable to be what we call re- sandwiched um and then they basically drain to so much spots that way so it was an attack that was not on a particular Builder per se it was on on specific uh it basically exploited two things right yeah it basically exploited kind of a vulnerability if you will in like the searcher strategy and it combines this with the vulnerability in the relay which revealed the block body and kind of putting these two together yet this explosive cocktail where um I think four Builders lost collectively so sorry four seven spots lost collectively around um 20 20 million dollars in that transaction wow two things to add here right so uh the forensics here are pretty interesting so the relay successfully validated the block signature which of course it has to do but there's actually additional fields in the header payload and in particular what happened was the parent root and the state route which are necessary uh to be certain values in order to propagate the header to the the block to the network were zeroed out and the relays in this case had not been were not the code did not validate every field because the Assumption was why would you do this right so this was a the first example post merge of a malicious validator of a validator operating on the network that was specifically trying to exploit and and clearly whoever did this it was well orchestrated it required some time to set up and test and um they had very deep understanding of how this stuff actually worked and where there were gaps okay and and again this is the sort of thing where you say with increased code diversity might a team who had been building this sort of thought of this and the note maybe we don't know right um but regardless these are the sorts of things that happen when you have small number of of actors who are responsible for large sets of the network handling lots of value and you have very clever adversarial actors out there who are looking to get an advantage right um and so on one level you could say hey well played on the other level you could say this is kind of gnarly and and when we talk about trust assumptions it's easy to sort of abstract and I find part of what happens in this world is we have these high level abstractions like the Searchers trust that their bundles are private they expect the relays to to handle them very carefully and because of that trust relationship they can sometimes maybe not be as careful as they should be okay because they don't need to be because there's trust right and that trust when it gets pierced again in this case not intentionally but but but accidentally right there could be significant Economic Consequences of that which is why we all go for trustless permission the systems because that reduces the the likelihood of any of these sorts of situations happening Matt I would like to push back on on one thing that he said so I agree with everything I I disagree with the point you said about relay diversity because I would argue in this particular case would not actually help because the valida is free to choose um to basically get the payload from any relay they want they are not forced right to take the pedal from the highest paying one so um if any relay and that's that's the CR that's what I meant earlier it's why it's not clear that we actually want more relays more relay implementations is because only one of them needs to be malicious or faulty is to have some back it's like one of n security model um where only if one of them is 40 you can always like attack the whole system so there's a social layer here so so in this regard and this is not a criticism by any means um in this current situation there are some new things that have come to light what is a flashbots team doing it's proactively alerting all the relay operators okay saying hey this is an issue we've issued some code you need to upgrade now we who operate Dreamboat it's different for us because we then have to implement that code ourselves but this is not some this is the this notion of there is information sharing Among The Operators so in the in the alternate timeline where there had been many relay um uh code producers perhaps one of those code producers say hey I noticed that we're not checking everything here hey everybody this strikes me as something that's vulnerable you know ours is checking yours to check too and we all go oh good catch thanks and we do that so so again not a it's just more of the more eyes on the subject the more people who are thinking about it the the more likely um gaps are likely to be spotted okay and again you know hey just write code that doesn't have bugs we've been saying that for 60 years now right the reality is is this stuff is you know I that I agree with the more the more ice we have on this the better um but that that side I would still say it's better to have more eyes on the same code base than have more eyes on several record bases simply because this is unlike a consensus system right where we just we just need like 30 of the network to make progress and then the network stays live or whatever this is actually if there's five code bases and one of them has a has an error of the system or is always getting exploited 100 gentlemen I respect the healthy competition between a couple of relay operators but I'm also going to firmly drag us up the value chain here uh like like this is this is an issue that's been debated between the Bitcoin and the ethereum community actually for I think as long as ethereum exists at this this idea of like having multiple client implementations versus the single one so that all these battle lines you know what can I say part of the reason this um this whole season has been so fun for me is because I will continuously come across these ideas and like this is really interesting only to realize this has been heavily debated for you know five or six years and even toss you sometimes I'm like hey we should talk about this you're like Mike this has already been talked about like this is a subject that people have a lot of opinions on but I think the where maybe I could just interject my own opinion a little bit and maybe from a little bit more of an outsider's point of view is I think you know when we're talking about this exploit and who it impacted look there are two ways of looking at this on on one hand it's very easy for me to say hey the P the the groups that were exploited here are Searchers which are basically just hedge funds right and this isn't even the most sympathetic corner of the serger Community right these are people that are running sandwich bots so I don't think anyone you know let me play the world's smallest kind of violin here on the other side of things Matt I heard your point about there are certain rules that you'd like in how this system needs to interact remain trustless and while I think there's a certain there's almost like a right way for Searchers to lose money but you don't want them to lose money because they can't trust right once you pass your the bundles that they assembled to to builders um but I gotta ruminate on that and and try to figure out where I actually come down but I want I want to pull us up to uh uh kind of the the top of the the supply chain here because there's some really interesting kind of new forces that I think are going to to start pulling on this the supply chain this neat easy to understand supply chain that we've outlined and maybe the very first one of those is the introduction of order flow auctions and the growing influence of wallets over the course of the next couple years and Matt um you actually in in our kind of pre-call use this this exact term uh sleeping Giants so I'm actually going to show that the next one of my uh super simple diagrams here how order flow auctions might change uh kind of this Dynamic that we were looking at before so this is a slightly different view of the Meb supply chain with kind of the uh a very simple diagram for how order flow auctions might interact with things here so that maybe I can kind of call on you first here like talk about why you think the the increasing influence of wallets and user preferences is going to be prevalent as a person as a force in the Meb supply chain and what do we mean when we talk about order flow auctions sure so just real simply like I always bring it back to the user so Mike conducts a uniswap trade via zapper using his metamasker Ledger wallet okay uh Mev then results right today uh Mike or any of the tools you use is does not it's not aware nor does he consent because there's no mechanism for Mike to to share his preference right there's all these other actors in the network who have these explicit facilities to uh exert and and specify their preference right but today the users cut out of that doesn't seem great right and if we look at sort of the root of Mev like the reason why Mev exists is because these four actors the transaction Originators Mike uniswap zapper and the wallet Mike uses uh basically conducts a transaction and so uh one of the things that is you know prevalent in the ecosystem today is hey could we recirculate this Mev and and cut folks in you know to to participate in the value the great news is there's now this explosion of proposals we at block native have put forward what we call wallet boost uh flashbots is put forward Mev share and there are multiple others there and generally what this does is say expose the transaction at the intent layer right so the user is intending to do something and by exposing that intent Searchers can now get access to that earlier in the cycle or exclusive access potentially and say and bid on on these opportunities and the way that the bidding works is it goes back up the value chain to the user the wallet the protocol the DAP Etc right and now if we really think about the mechanics of a transaction the the privileged actor the actor who has the most control is the wallet and the sleeping Giants are historically the wallets have basically been blind to this like sort of the best you could do is configure you know flashbots protecting your RPC endpoint to to you know privatize that but but I always equate that to like anything that expects the user to be smart is generally not a good idea like what you used your Mastercard at the grocery store on Wednesday night oh dude you just got screwed right everybody knows not to use MasterCard on Wednesday night oh you don't have a you don't have a Visa so well then you shouldn't shop on Wednesday nights like no one wants to work that way no one has that expectation right that that you you aggregate knowledge you push complexity to the end user like instead you want to have tooling and applications that are me to be aware or even infrastructure that's Mev aware um and I think we're seeing all of that happen but to answer your question OFA order flow auctions is hey see the transactions early bid on them push value of chain and there's a bunch of uh action that's happening there and and flashbots is at the center of all of that as well awesome any any commentary there I know this is this is kind of an idea that we're very keen on exploring for this this whole season so I'd love to actually just kind of ask you on on air and and give your perspective for the audience here like what are your sort of thoughts about this um you know the introduction of order flow auctions I mean I I think um it's an extremely fascinating development one that has been long in the making I agree with Matt so one of my main surprises is that basically the these other quote-unquote sleeping Giants they haven't like woken up earlier to this because there are a lot of ways to mitigate Mev at the application layer so uh Drake's aggregators for example hardly expose any Mev right um but the thing is for it's not clear to users necessarily that they are creating Med and so they they are not using tax aggregators as their default right they prefer kind of the brand that they trust which is maybe unisop or some other exchange um where they are exposed to to more Meb I mean UNICEF itself could have done more a lot more to protect the users against Mev just in terms of setting Dynamic slippage limits in their front end based on the pool you trade in and whatnot right there's like a huge bucket list of things that could have been done that haven't been done um but I if I had to guess then I I think you know so V4 if if it comes out um would probably uh address some of these things on on kind of the user side right um now I think what makes autoflow auctions very interesting I think the problem of Mev um it kind of in the most simple way it it it's almost like a second transaction fee right and so already as a user if you had the ability to to kind of set a negative transaction fee then you'd be in many cases able to internalize the Meb yourself just through the all of the existing infrastructure right so we don't have we don't have that capability but that would that would be one of the ways of doing it um another way would basically be that you show what what both um flashbots and block native want to do it just to show the transaction to um to a market of searches we can then add their own background and then they get bundled together and send to different block Builders and that's how you kind of achieve the same thing um just that the in the one case you basically pay less for your transaction uh and in the other case you basically get rebated the amount but there's yeah so I think it what it points to is there's a bunch of different ways of doing uh order flow auctions uh we haven't touched nearly on the whole design space yet but um I think there's a big design space and I think it's it's going to be something that's um that's going to be very very interesting in the next six months and it's worth noting that we're collaborating on this stuff so this is not there's not people are dog fighting for the right way to do this it's like hey let's make it easy for the ecosystem to have one set of Standards to to apply to and we're trying to reconcile all the different all these various approaches um but it's interesting to consider if we look at the total value of Mev and the sources of it it could be reduced down to a handful of wallets and a handful of protocols and there is already evidence that some of these entities are moving to internalize that so you know I have no foreknowledge of uniswap but unisot built their own wallet right and so now uniswap is taking control potentially over more of the supply chain and therefore could you know imagine uniswap as a builder imagine uniswap as a relay again not suggesting that that's what's happening I have no knowledge of that but suddenly you go oh there's this whole section of the Mev the actual economic value that gets cleaved off and internalized to that system and how do we feel about that is that good or bad and this is when I talk about um uh out of band economics and and centralizing forces these are the sorts of things you go huh let's that's that's a little cons maybe concerning yeah I think you're absolutely right I I would love to this is my kind of mental model for this uh I before getting into crypto actually I was a I was a consultant and our sort of specialty was steel and I got way deeper into the weeds than I would ever want to or need to revisit on how the steel supply chain work for someone like uh you know GM who's building a car and you know some similar to that very simple kind of diagram you can almost imagine like a mill who actually produces the raw material steel at the at the base of the at the base of the uh supply chain then there are service centers that kind of cut out these enormous you know coils of Steel and then there's um you know these kind of tier one tier two tier three where maybe you take a more manageable block of steel you mold it into the shape of a car or a car door then there's someone who puts the electronics and the window on that car door and then the OEM basically is assembling like five or ten large Parts at the end of that chain and there was always constant competition in between who is exerting uh leverage over that supply chain and there were different parts I you know you kind of get that basic understanding of how the chain works but then you look at individual ones and oh there are some Mills that also have their own service centers and there are some uh you know tiers that kind of have like they will make the car door and the electronics and the window and it's just not as simple as you might otherwise think and there's constantly you're trying to pass like commodity price risk across the different parts of the value chains through contracts you're constantly trying to negotiate like hey I understand what your margin is that's like way too much so when I hear all of this my mental model and framework for this is wow there's going to be an actor at the top of the the value chain either through wallets or returning Mev to users that's going to suck some of this Mev that was being generated away from Searchers Builders um validators and potentially relays if they end up charging is that the right mental model should we be expecting some of the Meb that was gen that was kind of allocated to this bottom portion of the value chain to be moving up you know I think I think you have exactly the right mental model so the my mental model for competition is in the most simple way basically you have this profit pool that's that's being generated by users kind of using the chain and um and then you you have all of this everybody down on the supply chain kind of in this industry and they are all sharing the same pool but everybody is kind of at the mercy of the user right and you have you have in the supply chain you have different parties that are all kind of powerful in their own way and usually powerful means they are kind of what there's a lot of concentration at that particular step so for example in the PC uh industry right uh Intel and windows are kind of capturing they used to capture like 95 of the profit even though a lot of other components go into making a PC it's just because they they were kind of they were dominating their respective step in the supply chain right and so it's very similar actually in in Mev and in crypto where you have metamask meta masses what 80 market share in the world in the wallet market and in unisop unisoft has 80 market share in um in uh The Exchange Market and it gets very very hard to I think for anyone else to compete with these two giants in the room right um so as a smaller player I think you're basically at the mercy of uh of what these major players are doing um and um they have a lot of Leverage also over the user right because the user has a lot of inertia as we know so and that's why it's very so important what you said earlier the kind of the smart users the smartest most sophisticated already using deck segregators or using kind of rpc.flashbox.net or whatever right they they know how to protect protect themselves it's kind of the users who not as sophisticated or kind of inert um who lose all of this Mev and and yeah they are kind of the users who basically just follow the default that their wallet gives them or the default that the exchange gives them and and so this this equips uh these participants in the suppression with a lot of power yeah I would agree I think this the the metaphor is an apt metaphor and it's worth noting in the area of the Model T you'd have right iron ore come into a a Ford factory and you'd get a car that comes out the other end and this idea this totally vertically integrated thing could control quality but at the end of the day it proved to be wildly inefficient right and so I think one of the things that we as an ecosystem sort of strive for is modularity and and competition at each stage but again this requires adequate incentives at each stage and the issue here is there's relatively low marginal cost for a sophisticated well-resourced actor to vertically integrate top to bottom and already seeing evidence of that and so again this is this whole Meb dystopian meme of like recreating Citadel and so um I think there are some you know real risks here now there's counter prevailing forces Along Comes account abstraction in 4337 and and I think the the subtext to all of this is today the the user base is relatively small we want to onboard the next billion users in order to do so it's got to be a lot easier to use and it's got to be perceived as Equitable right if users are like I don't use that because they steal from me or because I don't really know what's going to happen it's probably going to depress uh user adoption well 4337 opens up all sorts of new possibilities for traditional actors to now get involved here right and those traditional actors are also quite aware of the Mev game and what's going on there so you know while it can look like the micro environment that we're in right now is sort of tied in a knot as we pick our head up and look down the the the the road map it starts to open up quite a bit but with each new thing that we add in it adds complexity and I think this is again one of my messages to the ecosystem is don't assume the infrastructure do consider the incentives here because these incentives need to be ecosystem aligned at 4337 and at 4844 and as you go down the line and so anyways that's that's the the drum that we're continuing to beat here super important and for me I'm just going to try to introduce mental models for how I think about this stuff but for me like complexity ends up being kind of a tax and you can even imagine something like the tax code of the United States I don't know if you've ever tried to pay a complicated set of taxes basically impossible to do yourself and in order to interact with that layer of the system you basically need an accountant or middleman to just explain to you all these complicated rules it ends up being so that's why wealthy people in the US ultimately end up paying less tax than non-wealthy people a lot of the time now Matt you brought up a account or um 4337 account abstraction and that adds that's this is the last of my my diagrams that I'm going to show you here and this actually comes Matt from your own thread that you tweeted out but it was the most helpful diagram that I've seen so far on this exact issue and I'm hoping that you can explain this so um this is going to be for those of you who aren't following along via video uh we're kind of looking at a simplified version of the chain that we've been referencing this entire time and then what we're looking at is inside uh in between like the user and the eoa that ethereum had just assumed before so Matt can you explain four three three seven just give us like a kind of a super quick high-level tldr and what account abstraction is and then let's get into the the Mev implications of that at a simple level account abstraction makes wallets and their transactions more expressive and more programmable so today uh to do a transaction what's known as an eoa it's it's pretty narrow in terms of what you can do and and what those things can be and also puts a lot of pressure on the user to manage private Keys okay what account abstraction does is sort of open this universe up quite a bit and and make uh wallets uh and and accounts just more abstract so you could do more in different things with them now I was very challenged to wrap my mind around this I was reading all this stuff on 437 I just couldn't picture a mental model I went up reaching out to a bunch of friends in the ecosystem smarter than me and they all said the same thing they didn't have a good mental model and so we sort of realized that a lot of folks in the ecosystem didn't have one and maybe we should try to develop one the big unlock to me was that you have a signed transaction today with an eoa and in 4337 you have a signed transaction as well but you introduced this new actor known as a bundler that acts as an eoa proxy so they basically signed the transactions on your behalf oh so now what the realization is what 4337 and account abstraction does is introduce this new layer and I call it the user intent layer there's this word intent is a little bit overloaded now but basically it's this uh pre-chain layer where users can express their what they want their smart contract wallet to do they use this using a 4337 wallet they create these pseudo transactions called user Ops and very curiously they submit those user Ops to what's known as the alt mempool so today ethereum has a public mempool which is shared quote unquote among all the nodes of the network now we're going to introduce an additional mempool that's a brand new construct and though it's called the alt mempool it really should be alt mem pools because there can be an arbitrary number of these so now you're going to have these issues of mempool fragmentation you're going to have issues associated with various rules for for all of that now the alt mempools contain these user intents the bundler basically acts A Lot Like a Block Builder what they do is they take these user Ops which are the intent they put them together into what's known as a bundle they sign that bundle and then they submit it either directly to the public mempool or privately to a builder and because uh this pattern of take the CPU take the network take the storage put it out of band bring it give it to a third party incentivize them right this pattern is now repeating we had it with Builders we have it with bundlers and there is speculation that many of the builders will become bundlers right and again here's another example of supply chain integration right uh same things but the net net of all of this is uh it requires it's an upgrade to ethereum user experience without requiring a hard Fork it opens up wallets to do all sorts of new and interesting things like Social account recovery like gas sponsorship like being able to use any token to pay for gas to do multi-part transactions like an approve and a swap at the same time but it does so in this relatively clever way by creating this new intent layer that's a very quick overview which uh is hopefully explained here in this diagram which you can find on my Twitter feed yeah Matt that was that was super helpful so you know one of the one of the things that immediately kind of jumps out to me first of all there's the introduction of a new set of actors right they're bundlers here so I have some questions about who those people what those people actually look like in practice and if you see builders end up being bundlers but even before we get to that you know it occurs to me maybe this is just the way that you've laid out the diagram but that all of this stuff happens almost before right at the start of where the supply chain started before so you know the first question that I kind of have for you here is does this introduce the opportunity for more front running somehow quite possibly right so before we talked about ofas right and now here we have user intents so I'm intending to do a train that trade is going to imbalance a pool right so now bundlers will have access to Mev opportunities at the intent layer and this may be one of the motivations for being a bundler and why you may have bundler search your integration right Etc I'm sure hasu has a POV on this actually not as much of a POV on this I I mean I I would resonate with everything that you said um I I kind of have a relatively superficial understanding of esc437 but it it seems very logical that all of block Builders will take the role of being bundless um and this is basically another role that that the builders have to take on and so instead of having kind of uh build a centralization we now also have to kind of think about like bundler centralization like what what will bundling as a as an additional job for uh for Builders due to the Builder market like does this introduce more centralization do we now need to make sure so because for example we're talking about this problem of exclusive order flow um which is if a builder has access to more order flow than other builders then they can use this to make more valuable blocks and they can use this to get access to more order flow in a kind of safe reinforcing cycle and so um what I've heard a lot of times is that it can be many many mempools now and users can decide whether they're sending user Ops and this immediately kind of made my exclusive order flow alarm but it's uh go off because if if if kind of the user Ops are not widely available to different Builders then all of a sudden you kind of have almost a supercharged version of exclusive order flow and so vague queue is met how you think about this intersection of uh of user Ops and and bundling and and kind of data centralization so we we're thinking quite deeply on this and we at blocked in have been publishing quite a bit on 4337 um I think the simple answer is too early to tell how this Market's going to evolve um there is a very high degree of interest in all things 4337 so I think we're going to see a lot of experimentation there um I was recently quoted in an article on cointelegraph saying like look while anyone could could be a bundler there are open source bundler uh code out there it requires a fairly High degree of specialization you know you need to bring a bunch of CPU you need to bring a bunch of network you need to bring a bunch of of storage and to bring a bunch of relationships which again your average independent actor is probably not going to have right as opposed to hey I have 32 eth I want to set up a staking right yeah exactly and so again Builders who have okay to Marginal economics today you look across and you say oh we can reuse our existing capabilities in this new area we can layer on another game that we play that's great right so it would it strikes me that the game is going these games are going to get more complex but also there's again this pattern right by the way the same pattern is going to exist in 4844 with data availability sampling right like what are the economics of being a data provider in a post-4844 world right because the Builder is already going to have a lot of the data because they already need to do that already by the way side note on all of this mempools are by definition ephemeral there is no record of that we at block native archive everything we've actually archived the entire ethereum uh uh public mempool for three plus years now and we're working right now to open source this for research purposes because we believe it's in the ecosystem's best interest that this be a public good so that researchers can understand these games that are happening so there's a bunch of effort underway right now to to contribute this to the ecosystem in an organized fashion largely because you know more visibility here is going to be better than less visibility I want to say that's that's really awesome I didn't know about that yet so it's not public yet we're working towards it uh hopefully we'll have more to share coming up but again as part of being a positive contributor to the ecosystem but let me just give you sort of a a timeline that we think a lot about which is credit card issuers now can turn your credit card into an ethereum wallet a 4337 wallet and you can use your credit card you can use your points balance to pay your gas fees okay and you as a user when you're trying to get your Ticket Master thing you could get your nft and have it on your credit card all brokered via 4337 you know uh uh stuff right with with credit card issuers basically driving massive influx of new users who aren't even aware they're using ethereum aren't even aware of this stuff they just know like oh my tickets on my credit card it's super secure I can move it around there's no ambiguity like I have via StubHub right like this world is coming and coming rapidly okay this is going to be highly constructive to the network in terms of influx of new users we believe but now we're going to have entirely new actors who come from a different ecosystem who are going to have different incentives right and so how are these uh uh games set up how is how are these roles set up to facilitate that in a way which is not massively centralizing this is the stuff that we're spending a lot of calories on at blocking it Matt yeah super well said and you know the more I dig into account abstraction and what 4337 solves I think it solves some of the foundational roadblocks that have kept a lot of people out of crypto thus far um so I I kind of think it's this entirely new Force that's really going to change I I think it has the opportunity to onboard a whole lot of people and uh you know rather than than speculate uh kind of wildly here but you know I hadn't even thought of of that entire possibility so there's a lot to ponder and also you and I can kind of unpack that throughout the the course of the Season maybe we can get Visa to do that because I just read that's so funny I read visas uh the the kind of the the company history of visa and their original Vision actually was kind of this payment so not about it's not about credit at all it's about creating a payment Network that can tap into any source of wave that you have no matter what it is and it kind of interchanges between them um in an extremely seamless way the history of Visa is worth digging into it's a fascinating company but I'm of a certain vintage where I remember when credit cards you used to put it like a piece of carbon paper and you go and you'd basically imprint so the thing is is credit cards have raised numbers for that and the reason for that was a usability thing because before that you would write it out by hand took time and was error-prone so Visa actually the earlier versions of it basically developed this like oh we can process people who are standing in line faster if we raise and we provide this little machine and then I can move customers through and have a lower error rate right that pattern Visa embracing a usability improvements to streamline payment is like over and over and over again today what do I do I use my Watch tap tap takes like a millisecond right and so I think that these sorts of Innovations in our ecosystem make this world a lot more familiar to some of these actors right and there are some really smart people at many of these organizations who I think would be happy to share their perspectives guys maybe maybe closing question for you here let's take this um sort of bright future right where people can you know use their Visa cards to do a lot of the stuff in uh the transactions in crypto today I have a feeling that might be the point where Regulators start to get a little bit more involved in how Mev works like you'd have to imagine right if people are you know spending you know tens or hundreds of billions of dollars on their Visa cards every year and that's being settled through crypto networks I feel like that's the point where I'm actually not sure I should know probably what regulatory body would would really care about that definitely the SEC cares a lot about like best execution and stuff like that so maybe just to to end this as maybe kind of a hypothetical let's say Matt what you just described ends up happening during kind of the next cycle right where Visa through 4337 basically opens up this entirely new world of being able to buy things on chain with your credit card I mean how do you how do you envision sort of the increasing uh presence of regulation in crypto impacting everything that we've just talked about well so uh is interesting uh uh situation to ponder these entities I won't speak to Visa specifically Credit Card issues are already money service businesses they're already highly regulated entities all the way around the world so you know they can say this is familiar to us a so there's this big barrier so like are the crypto companies going to figure out regulation or the regulated entity is going to figure out crypto that's the race right what two these very large actors and it's worth noting Visa is the largest Financial Service Company by market cap by a lot you actually look that up it's shocking and sort of how large of an entity that is they can help shape the regulatory environment they're a different class of actor and so it might be quite constructive for us we go hey finally we have the intention of these of these large players who can create a more rational um uh regulatory environment that we all can participate in um I tend to be optimistic about these sorts of things and know some of the folks at various of these entities and believe that they're generally beneficial actors um but I think that's one of the big debates that's going to be happening in one of the big Battlegrounds to follow um I will say that the the main streaming of all of this will be net constructive for the ecosystem but there'll be a bunch of interesting arguments that happen along the way figuring out the regulation is always is extremely difficult because you never know what's going to happen I think Visa is already testing in fact I was just Googling on the side they have been testing already payments on usdc on ethereum for a while and so I wasn't even thinking about that when I brought in Visa but it seems like very factual very like actual example um uh yeah given that development and I I think I want to also say that like a coin abstraction is so much more than just paying like guest sponsoring paying stuff in another area I think the most underrated aspect is probably the security so I think it's it's just um the one of the biggest frictions about more people coming into crypto is is basically the risk of losing funds or making some of their wallet accessible to them and um that's why to everybody I bring into crypto I always advise using Argent or some other nurses safe right um and I think this is something that that the kind of obstruction also provides just the ability to have Smart contract wallets um where you have a native way of recovering your key and that could even be through a service where for example you uh you use like a centralized service that you trust to recover your key but they can't steal your key or something right so there's all kinds of schemes here and um yeah I think I really agree with Matt I mean this uh really has the this idea of a construction really has the potential to supercharge um the user experience of crypto in a way that no other proposal has has done over the last 45 years there's there's a closing comment I want to add here which is Mev is unavoidable right like that we wish we could just sort of scrub it away and and the truth is is that Mev is everywhere right the original sin that that we have suffered in web 3 is that it's open and exposed that Mev when it's controlled by a private actor is okay right and that is SEO right we all understand that search engine ranking the first ranking is more valuable than the 15th we all understand there's games you play to get ranked higher and we don't really begrudge Google for for uh managing that whole process I mean now we're beginning to but like it's okay as long as it's private right I mentioned Ticketmaster before we all understand that the later we call for concert tickets the worst tickets we get right and the earlier you get the sooner you get right and as long as Ticketmaster manages that that's okay um you know it's true of Airline Landings you know runways during bad weather right the the airlines that rent the most Gates right they get preferential treatment when they need Landing rights right that's why if you live in the Bay Area like I do you fly United why because when the weather gets gnarly here which it often does they're more likely to take off and land right and so there's all of these examples of preferential ordering and extracting value as a result in the regular world what's different here is that it's open and exposed and transparent which we would say is is better but it creates all sorts of new levels of scrutiny and so as we go forward um as we onboard new users as we create new capabilities the Mev is going to be here right and it's going to be transparent as well whether it's transparent as it's happening or it's transparent after the fact and I think the opportunity that we all have is to create incentives for all the actors to make sure that that the system we wind up with is both decentralized not prone to regulatory capture and as Equitable as we can possibly make it so that's the exciting part of participating in this space well said Matt you know it's funny out of uh we're three for three now on referencing Google as a uh as a as a source of real life Mev and uh I the Ticketmaster example is also funny I I've never told you guys maybe it's a good time to reveal I was at one point a very poor Searcher on uh Ticketmaster I'd actually have lost some money yeah uh my my co-founder Jason he actually um I always joke that he dragged me into some bad Investments pre-block works but there was a one time a uh Jerry Seinfeld concert in Manitoba that was a sure thing if you bought these tickets um that you could flip them for at least 2x I didn't flip one of those tickets I lost uh I took a bath so anyway that was the end of my own did you go and attend though I think that's the most interesting question it was it was February in Manitoba I couldn't get I could I couldn't get anyone to go with me uh all right gentlemen uh this has been a super fun conversation uh Matt thanks so much for coming on and joining us with me uh my pleasure thanks for having me you can follow me on Twitter I'm Adam Cutler you can find us at block native and uh if you're attending any of the major ethereum events I'm usually there please do come up and say hello I love to to engage in this stuff as you can tell all right thanks guys all right haasu excellent episode two that was uh that was a lot of fun oh yeah I really enjoyed the conversation with Matt I'd never met uh I've never met Matt face to face so this is actually the first time that we talked uh via video chat um and yeah I mean I I was loving the energy I um I think we had a great back and forth there on uh kind of relay on relays and uh um monetization in the video market and later on on the concept section and yeah really enjoy it really enjoyed the conversation with him but let's focus on on that that sort of back and forth YouTube had over the economics that support relays because man this was just uh I love these sorts of debates because I don't think there's any one right answer and man I can really see both sides of the equation right and if I'm summing this up correctly your point is basically like look relays support that like if if we didn't want to rely on just like big centralized trusted parties we wouldn't necessarily need relays there right there's like the Jane streets of the world can talk to the big uh you know staking pool operators and then we wouldn't even need the relays to begin with the reason we have relays is because we want those small individual kind of stakers to have the same opportunities that the big centralized guys do and if you were to charge for your relay you would defeat the entire purpose of that on the other hand I totally understood where Matt was coming from as well an enormous part of how ethereum works today is based off of the work of off-chain entities and right now there are no economics to support it yeah I mean he has a totally valid point that's uh that's the thing in kind of this discussion about relay monetization there's no clear right or wrong answer uh there are there are parties in the Mev Supply chains and build us who basically need a relay so they can even talk to each other right and you could definitely monetize a relay that that does that but the problem is kind of if all I really is monetize uh if then just like the the participants who don't need to relays will start to circumvent them and um and as long as so as long as there are relays and that's why we just can't monetize and as long as some relays don't monetize no Relay can monetize because the service they provide is kind of function right that's kind of the line of argument the main line of argument for why it's basically an impossible in a free market way to monetize nonetheless it's kind of we had this back and forth they do provide this very valuable service um and there is a reason that we want all all of my books to go through relays even though it wouldn't be technically necessary which is just we want everybody to operate all build us invalid us to operate on kind of the same latency right and so if some Builders could talk directly to validators and vice versa and didn't have to go through relays they would give them a distinct advantage and that's not something that we want to enshrine right and that's why we think having relays is better than not having relays or kind of having having relays as a mandatory role is better than having a relays as an optional role um in terms of the the monetization then we had these other arguments I thought the security back and forth was really interesting right because I think the the point on how many relays should there be and how many relay implementations should there be is very nuanced um because it's not as straightforward as saying that having more relays makes the system more secure because you only need one relay to be broken or to cheat um in order for the whole system to to break down in that case right um of course that Relay can then be kind of removed from the rotation um but it's it's very it's very tricky I would say well one idea that I'd like to you know I found myself thinking when you guys were having this discussion was I wonder if some of this couldn't be solved by kind of this again going back on this idea of fee preference in which like maybe there's another way to monetize the role of being a relayer without just charging you know like a per transaction the amount of transactions that flow through the relay for instance so like let me like to give you an example like Google right like one way assuming that the payments infrastructure supported it you could think about monetizing Google is I'm just going to charge people who want to make searches right maybe I'll charge one cent for each search but because of the way their business model was structured they you know they wanted to get a whole bunch of market share and they wanted to get all these people searching and improve the product so they didn't charge but they found some other way of monetizing which was through ads and like one idea I kind of found myself and this is this happens all across financial markets like the example that we talked about like Fidelity as a as a brokerage they no longer charge five dollar fees so they're having to change to all these other uh business models behind the scenes and one thing I just found myself wondering was is there another way that you could monetize your role as a relayer that isn't just charging for the amount of transactions that flow through it you know what I'm saying yeah I mean I hear you but I I just can't imagine anyway because because you're dealing with highly rational actors here they're valid at us and the value doesn't be to a lesser degree because they are also interested they they do make trade-offs uh if it's about making the network more decentralized we saw that with they let us uh adopting relays that are non-censoring but they pay less right so that was interesting um but on the Builder side definitely Builders are not making any trade-offs here I think most parties in the supply chain are highly rational and it doesn't matter how you package a fee I think it's always going to be felt at the end of the day by these actors because they don't care about anything any Dimension other than price and so it's I think that makes it very very hard yeah maybe absolutely right uh that's why I was just you know considering trying to see if there's another angle there way to solve it um well now a cool founders of flashbirds uh philday and he actually we're gonna have one later at this uh this is the season maybe um so don't don't want to say too much but um he actually makes another point I'm curious what do you think about it but but he's he has another argument that um against taking a fee at the relay level which is uh he doesn't want to enshrine the relay as a commercial role because I think that's that's that's the relay Market is very interesting in the sense that we want relays to be this time-bounded role that should eventually be replaced by an in protocol solution and if you make relays if you had a way to make relays profitable yeah you could kind of boost a number and their professionalism now but what I said like what happens when it's time for them to like disappear do they go do they go gently into the into the night or is it why is it is it more with like miners um when at the merge Etc right so I think um you never want uh to become dependent on someone where's this commercial interest on on their you know continued existence I have to think about that but that sounds pretty compelling actually I do sort of understand that yeah one aspect that I wanted to you know we haven't I haven't ever actually asked your opinion on public goods and uh I kind of have some thoughts about this but it's it's an idea that you hear a lot in in crypto announcing particularly the ethereum ecosystem and um oftentimes maybe to take a little bit of a cynical or slightly less charitable version of this idea oftentimes when you're facing a problem of mechanism design or when the economics of a particular subset of the infrastructure might lead to an outcome that you don't like there's this kind of tendency to say well let's just make it a public good and if I was really putting my cynical head on underneath that part of the reason that that really works is because there are these gigantic foundations right like that have an enormous amount of the token Supply and they can kind of be this actor in the space that says just be a public good don't worry about your economics we will help you with the economics um and forgetting like kind of free market versus uh kind of centrally planned uh thinking behind like not even approaching it from that angle you know sometimes I I just kind of end up thinking to myself like that will work for a little bit but eventually you know those funds run out so I I never really asked you like what are your kind of thoughts about public goods in general what are my thoughts on public goods in general well I think you have to start at a very high level if I because I encrypted there are a lot of like libertarian or kind of ultra liberals right who who would say there's no such thing as a public good right everybody that should everything that should exist that the free market will find a way to fund it and I I think that's definitely not the case um there's many many examples for things that are not excludable right and um and where there's simply no no way kind of to to build them in a in a for-profit way but that are nonetheless extremely valuable and um I I think that's one of the if I had if I had to like the way I think kind of about government in general is it should do like at least three things one is like um create the foundation for orderly markets one is the other is to two to fund public goods and three is kind of to put a price on negative externalities um and so that's that's kind of my very high level mental model and so I in ethereum um the closest thing we have to to government is is maybe the ethereum foundation although we have some other other players here like like Bitcoin consensus does a lot of public goods work um and so we at flashbots do do uh a lot in in the Mev supply chain specifically right and so we we do have players who do public goods and it's great that we kind of instilled and I think it's very much due to like vitalik's focus on public goods and the EFS focus on public goods but we were able almost to this to instill this expectation in a lot of projects that uh if you're in crypto and you you make you make money in crypto then you have this responsibility of giving back to the ecosystem give back to public goods funding which is amazing um and I yeah I think that's um that is really important um in the Mev supplies chain specifically so we often get asked that at flashbots why why is this like of why does it have to be a for-profit company and the answer that we we always give is is that the Mev Mev space is so has so much money gushing around they're so overwhelming kind of financial incentives that if you're if you're kind of uh a firm that that relies on being funded as a public good that relies on donations in order to build the market structure then you you're ultimately not going to be able to compete with these players who are for profit just because there is so much profit right and so you basically get get crowded out or you you get gobbled up right to the point where you rely on the donations from exactly the players who you're trying to regulate and I think that's just not sustainable right you need to have a certain weight that you can bring to the table otherwise you're not going to be able to to compete uh or to steer the the space that has so many potential Giants in it and and sort of so much revenue potentially behind it it's an interesting sort of tension a little bit and like I don't want to go this high level but one thing that I often kind of think about a little bit is you know there's so much economic incentive to vertically integrate and there's the the ins it's just so so so so strong and there are different like vertical integration in different sectors like my example of the steel supply chain has just so many less implications than vertical integration at some sort of financial uh layer of infrastructure and it just makes it very difficult and sometimes I wonder about crypto in general if we do need some sort of uh oh my God I'm blank and what's that the window the an Overton window shift yeah an Overton window to shift um to kind of show the market for people to wake up about the idea of resiliency and the impact that you know I I think I think it applies to Mev a little bit but I think it applies to crypto in general over and I spend a lot of time thinking about it you mean in the sense that we should be funding even more public goods than we are because I think in in the sense that like a lot of the one way to interpret some of the design philosophies of ethereum as an economic system is resiliency and fairness I think our two kind of right at the core um I think if you view these economic systems through the lens of efficiency then it's very difficult to compete with what exists today but it's just a different set of preferences and we are we're seeing how efficiency when taken to its logical extreme plays out in a lot of different spaces um and I just wonder you know once the collective value proposition says wait there's actually an enormous problem you can take efficiency too far it's like the paperclip uh sort of hypothe or experiment um I wonder if there's a point when people start to say wait there are actually downsides to the system we demand some more resiliency and transparency fairness and then crypto wins in that sort of dynamic oh you know I wonder I wonder if if kind of resilience is just efficiency over time right or like a longer time frame so maybe because like the most efficient systems are also the most likely to break down and the most resilient systems are not they sacrifice efficiency but they can survive for a very long time right and so maybe if you get people to zoom out and take a longer time Horizon they automatically start to favor they start to think more about the risks and they start to favor more resilient systems over more efficient ones it's super interesting thread to pull but I I want to get your your um your thoughts on kind of the the discussion that we had around account abstraction and wallets in general uh that one is you know there's like to me the the Innovations um around account abstractions are kind of twofold uh which is one it abstracts away a lot of the complexity of managing your private Keys um which I think is huge frankly and then the other one is it allows for gasless transactions so in theory you could have an app that is subsidizing the gas costs of its users so right there is kind of a huge double whammy in terms of from the user's perspective interacting with apps on ethereum is that you don't have to pay gas for every little transaction that you want to do and you don't have to worry so much about your your private keys so you know that was super interesting and I'd love to get your your sort of thoughts on it I mean I so first of all I thought that Matt's explanation of account abstraction was a plus I I thought that was really good um I'd never I had no idea explained in such a condensed way um I would agree with you I mean I'm not super deep on the topic myself but I've been a fan of uh smart contract wallets um for a long time um like early early investor in Arjun because I really believe in the in the idea of kind of I mean it's not even it's not even ideologically right there's a lot of things it's about I prefer system a over system B because for like reasons that I have to like actually like reason about it right and but with the smart contract wallet it's so no like I actually don't want to use in your a wallet because I don't trust myself to like do the necessary security like I need the security and that kind of a smart contract while it's what it provides me otherwise I don't feel comfortable using crypto on chain like that's the kind of degree to which I think they are better but so far they have been held back by it's like just so much more costly to use a Smart contract wallet on ethereum layer one and you already have all of these EOS and so all of this uh infrastructure is being built around EOS so like applications wallets they all kind of expect you to have an eoa and that's their constant users have and so I find it so so nice that kind of you now you can build this stuff on top of an UA and on top of kind of infrastructure that expects a new way that that that kind of combines the best of both words right that has this backward compatibility but it also gives you the security properties of a smart contract wallet apps absolutely um and it's still like the the implications of this I'm still kind of working my way through so I want to be careful about like getting too over my skis and just speculating but I think it's worth um maybe digging in a little bit more this this season because there's all the benefits of kind of account abstraction on the wallet layer but then we also found that it adds this whole new uh portion of the Mev supply chain and it also introduces two new sets of actors so one of those Matt uh got into uh which is bundlers but there's also pay masters as well so there's just like a kind of an additional layer of complexity as well and um that might also be worth thinking about as a theme to palette this season because almost yeah I agree it almost makes me want to Pivot a little bit and like do an episode on coin abstraction maybe see where uh what there is in terms of relationship to Meb I don't know if there is a lot of relationship to Mev I think there might be I mean it's definitely an economic pressure on the supply chain if nothing else but it would be interesting to see if maybe other things become possible um because there's separation between I wasn't I didn't I didn't quite agree with when Matt said that um uh the concept section has this intent layer because ultimately you're still making the kind of pseudo transaction and the way that it can be crafted into a transaction is quite limited but the way I think about intent is more broadly I guess right where somebody else actually constructs the full transaction for you but nonetheless I think uh the what you can do these pseudo transactions um I think that would be very interesting to explore I I have a feeling that you can do like a lot of things with that that we also want to do with Suave about programming like basically expanding the the express the range of preference expression that that users can have um that would be super interesting so I mean let's see if we can find uh someone who has thought about this in a deep way I agree I agree and that's probably a good place to end it and maybe give listeners a little bit of a tease of next episode so just on this theme that we have of increasing complexity right on top of all these New Dimensions that we're adding to main chain Mev there's also now obviously the implications of Mev in a mod a world of modular scaling of l2s and potentially l3s and uh again I I might we've we're having on Robert Miller and John Charbonneau for the next episode to kind of talk about this but I might also I want you to weigh in as well as someone who's thought very deeply about Suave because I think that's that kind of the heart of of solving that challenge yeah I think I think this would be this would I mean I'm looking really looking forward to this as maybe the highlight of the Season or one of the the highlights of the season um Robert obviously head of product at flashpoints is the the driving person behind Suave uh implementing Suave and and John charbono one of the most prolific uh writers and researchers in in the Mev space and I know both of them have thought a lot about Mev in the modular stack and would be very interesting to explore uh well how sequencing is going to work in in Layer Two but also what this means for the I mean the economics of layer one uh where kind of what what's going to happen to block building how Suave works and where it sits in this future stack and um yeah I'm really really looking forward to this episode this one's going to be a fun one all right my friend until next week foreign [Music] 