all right everyone welcome back to another episode of bell curve before we jump in quick disclaimer the views expressed by my co-hosts today are their personal views and they do not represent the views of any organization with which the co-hosts are associated with uh nothing in the episode is construed or relied upon as Financial technical tax legal or other advice you know the deal now let's jump into the episode [Music] hey everyone before we get into it today just want to give a quick shout out to this season's sponsor Rook close to a billion dollars worth of Mev has been taken out of users pockets and that's just on ethereum and that number is only getting larger unfortunately Rook thinks that it's time for a change and they've built a solution which is going to automatically redirect that Mev back to where it belongs into your the user's pocket so you're going to be hearing all about them later in the show I'm huge fan of this team and what they're building so stay tuned to find out more right now Meb is costing these amm liquidity providers hundreds of millions of dollars per year regular Traders are paying tens of millions of dollars per year and this is just like so fundamentally unsustainable just like cannot be the backbone of the future of Finance but no one wants to talk about it because the profits are all redistributed to etholder welcome back another fun episode here we're going to be talking about Mev on Solana um you want to give a quick intro for who we've got on here and and why we've invited them yeah so uh we have two outstanding guests I I've been looking forward to this episode on Solana because Emmy V on Solana Works quite different from maybe on ethereum at least today and I think we'll tease out why that is uh but also how how it's going to develop and whether the two are actually going to converge I think another big topic definitely is going to be the role of latency so Solana is a chain that you know puts low latency everywhere like having like a low latency chain that is the thing why like the reason why I saw that was created and I think that's why we get into some of the nitty-gritty and also some of the ideological debate about um how late how low latency does your chain need to be in order to be used for you um but also what might some of the effects be on the chain and so we brought on uh Eugene Chen uh so it's a zero extra Trader on Twitter and he's like a long-term longtime contributor and lurker in the flashpoints me V forums and like on all topics send me the uh he's building a central limit order Book Exchange on Solana so he knows exactly the experience of what that's like and then we'd have Lucas bruta uh and he is I think the founder of Judo Labs uh so Judo is kind of the they are trying to build the quote-unquote flashbots uh of Solana in the sense that yeah they they want to they want to basically do an Mev auction in Solana and I think in diving it deeper into this episode we'll see exactly what the challenges are with that and how that differs from uh flashbots on ethereum yeah all right let's get right into it all right everyone welcome back to another episode of bell curve today uh hasu and I are joined by Eugene Chen of Ellipsis labs and Lucas bruter of gito guys welcome hey thanks for having me come to the show guys yeah absolutely um all right so we are we're super excited here because uh you know Hassan I have spent most of this season focused on Mev from the perspective of ethereum and some of the activity there obviously you two are very focused on the Solana ecosystem so very excited to pick your brain about some of the different says about how Mev works on Solana so maybe using that as a jumping off point either Lucas or Eugene whoever wants to take this first what are at a high level some of the big differences between how Mev works on Solana versus if you were an expert on Meb in ethereum what are the most important differences to understand you know hasu has this like famous slide of like the transaction supply chain I think it's kind of worth diving into that on Solana because I think it kind of gives you a good high level understanding of how a transaction flows through the system and like why things are the way they are so uh you know if you look at ethereum um to start out with um you know the user signs the transaction in their wallet wallet sends it to the mempool um you know you have uh validators and Searchers looking to capture Mev maybe there's Mev maybe there isn't you have a lot of builders that are kind of suggesting these blocks to build and proposer just takes the highest one basically and uh confirms it so um on Solana it's very similar for the first half so you know you go to like Jupiter aggregator or some other application on Solana say you want to buy some Solana token you sign in your wallet the wallet will send the transaction to the current and next few block producers so I think there's a there's a big difference here compared to ethereum where ethereum has a mempool Solana doesn't have a mempool it's essentially what's going on is leaders changing every uh 1.6 seconds they have four consecutive slots in a row and so when you send the transaction to the RPC server it's figuring out looking at the current slot time uh you know figuring out who the current leader is and then the next few leaders and it will send the transaction to each one of those leaders and then it goes into this like uh kind of black box that executes the transaction and the transaction will um basically executed as fast as possible and streamed out as fast as possible as well um so that's kind of another major difference compared to ethereum ethereum has like discrete time Windows where the state will change and I think that's every like 11 or 12 seconds on Solana the state is constantly changing so the salon is constantly executing it'll receive the transactions and start to execute them as soon as possible and it will basically send out those uh they're called shreds they're essentially mini blocks and all the other RPC servers are playing replaying those shreds live so you know after that it will get confirmed so yeah that definitely I guess that's good that's a good high level of like Solana to ethereum um what ends up happening on Solana is that um you know there are people that because the state's always changing you're trying to ingest that state as fast as possible so ends up happening is that people will try to get in kind of like high-staked regions like you know Amsterdam Frankfurt Tokyo there's a few others um people run like modified RPC algorithms to replay things faster and uh you see a lot of spam as well where people are they're kind of like reacting to what's happening because there's no mempool you can't really atomically bundle things um start kind of reacting as fast as possible yeah Lucas thank you that was a that was a really helpful overview I don't know Eugene if you have anything to add before we move forward here yeah I think those are the main structural differences between Solana and ethereum as far as things that might affect the Mev supply chain I think the competitive landscape is also quite interesting to look at where Mev searching on ethereum appears to be very very competitive relatively efficient which is quite different from Solana where today it's still quite primitive I think there's a couple aspects here one is that validators are mostly benevolent in practice which is kind of a luxury but not something that we can depend on forever and searching is also quite uncompetitive although as Lucas mentioned it does impose negative externalities on the Chain like filling block space with failed transactions I think in many ways Mev on Solana is today is quite similar to what it looked like on ethereum in 2019 or early 2020 pre-flashbots when mud was just starting to become a problem but on the infrastructure and research side I think we have a huge Advantage because ethereum has already gone through this so there's a ton of fundamental Mev research that's already been done and we have a much better sense of the problem space than ethereum did in 2019. so uh I would like to dig into something that that you said Lucas so you said that Solana doesn't have a mempool which is something I I didn't know and I I find quite interesting so I want to explore a little bit more what it means in practice so in ethereum we have this problem where transactions they leak quote-unquote to the public mempool and Searchers can pick them up and they can front run them right they can submit them as bundles to block Builders so it kind of sounds like that's currently not a thing in Solana and correctly if I'm wrong but it I mean it like at the same time there are a bunch of parties even though it's not publicly gossiped who can presumably see the transaction which may include the uh the application the wallet the RPC uh the current validator and all of the future validators who gets also gossip to write is is that also what you meant uh Eugene when you said that validators are today mostly benevolent in the sense that even though they could front-run transactions they do not uh to answer that specific question I believe that to be the case at least I haven't seen any evidence of it although Lucas probably looked into the into the data a little bit more I think front running is also just less of an issue on Solana than ethereum almost fundamentally because the D5 protocol design looks a little bit different so we see much less of things like placing an order on an A M with 95 slippage tolerance that exposes you to sandwiching and front running I think in practice just the back running is going to be much more profitable and it's also less toxic to the user yeah to uh I celebrate on that we haven't seen any issues or any like front running pop up yet but is something that we are looking into I think um as there's more like G5 happening on Solana and you just have more composability and it becomes more attractive and profitable to do these things I think it is uh probably going to happen I think um it there's a good chance that it would have happened sooner if the validator was a little simpler um I think the the engineering curve for like modifying the validator to do these things is like very complex um so if if the system was simpler we might have seen it sooner so if I massage that today and so let's ignore the notion that front running is maybe not as attractive due to the application layout design but if I wanted to if frontrun use us as a search so then what would be the best way to do it would be would it be to run a lot of validators or to partner with a bunch of validators so they can gossip me the transactions um so the best way today would be to run a validator yourself um and there's no there's not really any like gossiping between validators um when with the mem or with the like this pseudonym and pool that Solana has it's uh so like basically if when you are a validator you have uh kind of exclusive access to this track those transactions yeah yeah oh yeah I meant in the sense that I I send it to my Sweatshop basically so yeah public yeah yeah interesting okay but then shouldn't I since you said before that the transaction is only sent to let's say the N next validators so I would have to run a lot of metadata basically in order to get a high coverage of the transactions that go through the network um so so yeah I guess you could potentially see them if you're the next validator and potentially respond fast enough to make it back to the current leader but um I think it would it would be more than running a lot of valid errors it would be having a lot of stake weight uh because and you would also determined by Stateway and you will still need to collude with the current leader because just because you see the pending transaction doesn't mean you can land in front of them right and unless they have something like Judo right which I yeah I assume we will get into so that right now that doesn't basically exist to channel 4. like a front running Market yeah there's there's like some mechanism for priority fees for ordering but it's not perfect um it's uh a decent heuristic right now but um that's kind of a whole nother can of worms that we can get into later on why that's not perfect because it's uh pretty in the weeds maybe we could I I would love to know maybe maybe Lucas is a starting point we could kind of tee this up for you but you know Judo is one of the few projects on Solana at least that I'm aware of that's dedicated to solving the problem of Mev um and you know some of the I think it might be nice to sort of level set with listeners on just the the sort of Market size for mbb on cylinder today versus ethereum and also the sort of relative adoption of Judo versus something like Meb boost on ethereum so you know I think when we were talking before this episode you know you you shared some statistics with me about sort of the relative size of Mev that gets extracted on Solana versus ethereum maybe there were some I know uh Judo has put together some statistics on the amount of sort of spam Arbitrage transactions that happen on Solana that you know don't even um don't end up being canceled uh and then I I would love for you to talk just a little bit about what Judo does and you know how it's been kind of getting adopted by some of the validations in Solana so yeah starting uh towards the beginning um you know I kind of fell in love with Solana like mid 2021 um did like the hackathon and um before that was working on like a MAV bot on ethereum so just kind of fell down this Rabbit Hole after reading uh the Dark Forest article by Dan Robinson and just thought it was like the most interesting thing but um skipping ahead to after a salon hackathon kind of had this theory about Solana that you know we saw a polygon in BSC having these like huge spam issues and then um ethereum definitely had an issue itself and uh which just like priority gas auctions and people canceling and making the gas super high for people and normal users kind of had a theory that that would happen to Solana so started Cheeto basically we're trying to minimize the spam and return value to users on Solana so um yeah I guess like the current state of Mev on Solana it's uh we did uh uh random algorithm to like detect arbitrages and uh compute the compute units which are similar to like gas on ethereum and found that 60 percent of all compute was spent on arbitrages and there is a 98 failure rate so uh you know 98 of Arbitrage transactions are failing on Solana and um you know because it's so cheap they're not really bailing out early like they would on ethereum uh they're just kind of like letting it run to the end and you know have your balance check and it reverts and you're just spending a lot of CPU and compute units on that um and uh so yeah like 58 of all compute on Solana is just spent failed executing uh failed transactions so we're basically trying to help solve that I think there's um the main issues that you know talked a little bit about this earlier but there's no like discrete time window in Solano or the state is not changing there's not really like it's like a continuous time Spectrum for uh Landing transactions and there's not really a good transaction ordering primitive we kind of talked about this a little bit earlier but you know the the priority fees are in a perfect mechanism for ordering transactions so essentially what we're trying to do is um you know minimize spam we have a bundle primitive very similar to like the flashbots bundle that lets Searchers Define these like ordering of transactions that they want to execute and then there's this like pseudo uh short-lived mempool basically the transactions sit in the mempool for roughly 200 milliseconds today and that's how long Searchers have to kind of bid on these opportunities it's essentially running like a 200 millisecond auction in the block engine block engines like simulating all these buttonholes figuring out who's paying the most and the the bundles that pay the most will get forwarded to the validator um so we're like pretty optimistic that that will address a lot of the issues because you know right now you kind of are the best way to like land a transaction is spamming transaction with bundles you have a very high reliability ordering on how the bundle executes in the validator this is so fascinating I have a bunch of follow-up questions um let's go in one of the previous episodes we talked with uh Robert Miller and John charbono he talked about me being the modular stack and we discussed the different approaches to sequencing and Mev supply chain design and the guys they basically hypothesized that different ordering mechanisms predictably lead to likely to predictable results and so they said when you have a when you have a chain uh um that is that doesn't have an Mev option that that kind of is low latency and it has uh it has high fees then it leads to let's see latency auction basically similar to to tradify hft co-location games microwave Tower networks and so on and if you have um the same but with low fees then it leads to spam and it leads to unchain searching and leads to a lot of failed transactions so um correct me if I'm wrong it sounds like you can exactly um confirm that hypothesis at least from the perspective of Solana yeah definitely there's a lot of failed transactions in spam on Solana it's like a hundredth of a penny to send a trade not including priority fees if you attach those so um super cheap to do it yeah so it's really interesting then kind of to dive into how you are approaching the problem um of designing an Mev option with Jito because it's like so one of the major Innovations in ethereum was the idea of the bundle right where you can kind of it's a kind of an array of transactions that have to be included in the exact same order that they are submitted um but it seems like that's actually a relatively minor part of what you do at gito because if you only introduce bundles it would actually change nothing about the failed transactions because the dominant strategy would still be spam um and so what you're doing it sounds like to me what you're doing instead is you're actually slowing down time you're turning it from like continuous time into discrete time so there's actually no waiting period for transactions to accumulate and then you run a simulation and you filter out the one best transaction and you discard all of the rest so would you say that is actually like your main approach to nav in Solana um pretty close I think like they're the uh the delay that's running is uh kind of like a rolling 200 millisecond delay and we kind of discreetize that to um like a 200 millisecond window and um you know it's censorship resistant because of the way that we designed it um packets of essentially flow through a relayer that an evalidator can run and that relayer is kind of the like custody or whatever you want to call it for that that transaction so the block engine can actually we call it block engine essentially like a submits a lot of bundles to validators it can actually censor anything and so uh we're actually dropping transactions at the relayer or the block engine level we're really only dropping the bundles that Searchers are submitting um so I think it's it's kind of an important thing to note is that uh we're not just dropping everything randomly that's failing it's more of just what the Searchers are sending oh so they are now basically two channels to send transactions there's like the main Channel where you do not drop any Fair transactions and there's the Searcher Channel where you do drop them and yeah you think it's preferable for Searchers to send through the Searcher Channel because they don't want to pay for failed execution um I don't think it's necessarily about the failed execution I think it's just the guarantee in ordering so um you know the bundle offers basically it's like an All or Nothing commit sequence similar to flashbots so we modified the validator so that it knows how to process a bundle in this like multi-threaded context and um it will execute it atomically which is a very strong selling point for Searchers that are kind of just spamming and uh crossing their fingers that it that it will land but I thought you said earlier that um I mean front so this kind of a domicity feature you mainly needed for front running or for back running when you actually have the transaction hash but it sounds like you do not really have either of those two and so you're basically back running a lot and you're kind of doing it because you saw that the state updated on some water Book Exchange right uh so I'm still struggling to understand like why exactly the feature of the bundle is useful is it because the bundle is is kind of prioritized over other transactions yeah this discrete time window yes so the bundles prioritized it has a special transaction like pipeline that it goes through that's much much less congested than the normal pipeline so you get the stronger ordering guarantees and then you also kind of um get to like skip skip the buffer so that it basically executes um f as fast as possible after the auction's over ah okay okay so I think that that makes a lot of sense to me that basically the the bundle skips the queue and it's it's so there's no concept of a block right would you say you as you almost create the concept of like a pseudo block here by slowing down time um kind of yeah I mean um I guess I guess you could somewhat put it like that depending on where you're going with it yeah so because I'm trying I'm approaching it from the perspective of like if I'm searched out can I break this mechanism right like is it for me is it actually like Optimal to use the Judo auction uh or should I still are there conditions where I may still want to go through the public member and still want to spam because this is very cheap for me right and if I do that then I might prefer this so how do you ensure that basically even if there's someone who's really good at spamming that's it better for them to go through the auction yeah I mean I think the main thing is that you offer the better order and guarantee and the chance to skip the pipeline um I think we'll probably see something similar to flashbots where like if someone has Alpha they'll probably just go through the normal Channel until it gets kind of like contested and starts to turn into uh this like fee war and then people start to extract things more efficiently using bundles yeah I have a question about that Lucas can you can you walk us through what it's been like on a BD perspective of getting adoption of Judo and maybe if we could and if I could pull you in haasu a little bit as well to just talk about because there is a stark contrast I think in between what flashbots has been able to do on ethereum versus gito on Solana and I do Wonder a little bit if that is you know with one of the big starting differences there is that ethereum used to be proof of work at some point where Solana never was and some of the BD work in the beginning for flashbots uh flashbots was kind of getting its start when there were these dominant mining pool operators and there were really only five or six entities that you needed to get widespread adoption of Meb gef or Mev boost uh I guess maybe yeah but uh Lucas talk a little bit about you know what that's been like on Solana maybe you could compare it yeah um yeah it's been pretty challenging from like a chicken and egg standpoint so um you know it's like Searchers I guess validators like want to run the software you know the main pitch is like this is healthier for the network um you know like more efficient Mev markets will lead to more liquidity which means leads to more usage and you know we want to see the network uh healthier and have less negative impact on users um but at the end of the day a validators in the business of making money so it's kind of like how much money will I make well it's like um it's pretty small right now because we have Searchers that are waiting for more stake to run the client so it's kind of this like you know go to Searchers say hey we have bundles here's how you use them uh and they're like okay we need more stake go to the valid errors they're like oh we need more money so it's like been pretty hard to kind of get out of that chicken and egg um I think like you know people talk about like doing things that don't scale in the beginning we've definitely been doing a lot of that like a lot of hand-holding validators and spending a lot of time talking to them making sure they understand what they making sure they understand what we're building and that we understand kind of what they want and um I feel like knock on wood we're like starting to get out of that so we're seeing uh a lot of bundles Landing today a lot of tips this tips are still pretty low um but you know we're seeing a lot of bundles land and we're currently at like 24 of Solana stake running the client and there's 115 validators running the client that's anyone from like super small validators to like uh P2P or um like a staking facilities so definitely a wide range I haven't actually as far as like the differences between flashbots at the beginning definitely curious to hear what haasu says I think um my current take on it is that when proof of work was out there's just a lot of concentration in mining pools so you could go to a mining pool and you know get anywhere from like five to forty percent of hash power um obviously there's a lot of BD in like hand-holding and things there but you know once that 40 flips on that's like huge um I also think that the um mevu is probably a little more developed on ethereum than it was on Solana at the time and then I think um you know as we saw the transition from proof of work to proof of stake I think the flashbots uh like block building motto is somewhat de-risked and people saw the money that they could make by running the software and then also the improvements that uh they brought to ethereum as far as like a less wasted block space so I think it was somewhat de-risk from that standpoint um I think another that hard thing that's on Salon is like you know there's been a lot of reliability issues on Solana the network going down so you know it's like we have this client that we've modified in there are certainly people that are maybe skeptical to run that um because it is uh it's a hard client to work on in a hard kind of network to to work on yeah so I when you and when you thought when you said that uh you have 24 of stake uh adopted I I thought you would say more like two percent because you have previously said it's like it's been very hard but I mean 20 24 is really impressive right um so because like the first 20 is like super hard and then the next eighty percent is probably like going to be very easy for you guys so um I don't I don't know that you need any that you need any tips anymore um but I I can still go into it a little bit so I think um you totally right in the Mev landscape on ethereum was already like quite more developed when we started it was like very rampant like much more rampant kind of Med extraction already happening in the public Memphis or for two years basically and um like private deals and things going on too uh not so much so I think flashbots was was the company was started or it was started as kind of a collective in response to uh to kind of vertical integration it was like just starting out to happen um so with that came the realization we need like the public auction platform that anybody can use and that's actually the most optimal to use because that leads to the best Market structure for ethereum uh no it was more so happening to Priority gas auctions so you could point to um Phil Dan's paper you could like fastballs also started like very importantly with this kind of data product um that just like illuminated how much Mev there actually was uh and in a sense almost advertised the idea of like mov extraction to to search us as well as as mining Foods at the same time because you could actually point to these numbers and say guys this is like how much money is extracted right now like this could be your money right um and so I think that like data was a very important part of the adoption strategy I think I was I think uh flashpot so I wasn't around at the time but I think the adoption strategy was very smart in in terms of the order with which um kind of the mining like we approached the the different mining pools um because it's like dominoes falling one after another that's like how I like to think about it um and so the the order in which you start has a big impact on how fast you can get them to fall and um what also resonated with me was when you said you find it very hard to get such adoption when there's not a lot of stake so I think um one important ideas Definitely dog fooding the product um and so you need some way to bootstrap either side of the market in any kind of two-sided Marketplace and since it's very hard to bootstrap the valed outside of the market I think you need to bootstrap somehow the special side of the market you need to make it very easy for people to enter this and so what what flashbots did was it wrote a lot of open like search up what's very very crude simply Bots they had no chance at all in the public member but because the option format was so the risk from the Searcher perspective and so easy to use and you all like if you paid more you always got priority then even for some time like the most crude Searcher Bots had a chance to compete and so they just open source them and basically gave them to people for free to use uh and run and so I mean that way they kind of um yeah basically cut the initial attraction in the auction and so yeah it appears to me like um all of these strategies would also work uh most likely in Solana so assuming there's like stuff like um flash loans and so on but um that should be right yeah okay so and you have the bundle so you have the atomicity guarantee so really using the option is risk-free right so as long as you provide kind of mock Searcher Bots then uh I think it should find a lot of interest hey guys quick break from the show here I want you to imagine something for me imagine swapping two stable coins on chain paying zero dollars in gas and instead getting a rebate of two thousand dollars this is something that's actually happened on chain to understand how I want to introduce and thank the season sponsor Rook zooming out for a second the current state of affairs at Med is billions of dollars so far have been extracted from users Pockets using Mev Rook is coming in and saying enough is enough blockchain should drive value to their users and the applications they use it is time to leave the hobbyist era behind us if we want to move forward we want to get this right that's why Rook has built a custom blockchain settlement Network and it's one that gives you full control over the entire transaction life cycle today you can connect to an open source rep node The Rook protocol will automatically match bundle and auction your orders and transactions in seconds with zero gas overhead also any Mev that's discoverable along the way will be returned to you the user created as a collaboration between the industry's top mechanism designers and Mev Engineers Rook was built from the ground up to be scalable safe and programmable you can get your own mempool choose searches and Builders and link your mempool with others to discover even more Mev you can Define how the Meb is shared and delivered as well and what could basically process anything from transactions to meta transactions and more this is the way that blockchains basically should have been from day one so if you're a user listening to this here's what I want you to do I want you to go to your wallets go to your favorite app your node provider and say Hey I want you to be working with these guys rock I want the Mev that I create to be redistributed back to me if you're a developer and you want to stay ahead of the game the best way to do that is to follow them on Twitter they are at Rook or even better yet slide into their DMS they are lighting responsive they'll get you set up today and if you do slide into those DMS as always please tell them that I sent you is is one other something else that sort of actually entered my you made me remember hasu when you were just talking there is initially in the last season of of bell curve we had uh Xavier from Chorus one actually he observed something I thought was pretty interesting which was he said the dynamic of who extracts value in the Mev supply chain is flipped from ethereum to Solana whereas in ethereum you have an auction mechanism where the vast majority of Meb ends up going to the validator because you can bid up and Arbitrage opportunity so theoretically if there's a dollar of Arbitrage you know a Searcher might bid up to 99 Cents right and so the vast majority goes to the validator what he mentioned is that it's actually flipped in in Solana because there's no auction mechanism the Searcher even though the overall Market size for searching is much smaller the majority of the value goes to Searchers instead of the validators so I'm wondering is that Dynamic correct and then B is that part of the reason why it's a little bit tougher to you know make a you know to get some of these validators to sign on because in ethereum there's a clear profit incentive whereas in Solana from the validator perspective maybe a little bit less um yeah I mean I think that uh I imagine that flashbots had the same issue like pre-flash or I guess your ethereum had the same issue pre-flashbots were people where researchers were like capturing most of the value and as more people compete in the auction it kind of flips it um yeah I mean we're seeing like roughly like anywhere from like four thousand dollars to like thirty thousand dollars of Arbitrage every day and Vegeta Mev system is not making anywhere close to that right now um so I think it's still um still kind of in it's like infancy as far as like searching searching goes um you should expect to see more of the value go to the validator as the auction becomes more efficient got it yeah definitely and yeah we've also like the the systems that we built will uh basically have the built-in mechanism to distribute the MAV to stakers as well um just because the staking is a little different than ethereum um where people can you know a validator may have like a hundred or a thousand stickers on it um there's also the mechanism to distribute Mev to the stakers like a transparent way hmm so that's interesting I think most of it or a good chunk of it will go to validators and their stakers and we're seeing anywhere from like uh five percent fee to 100 fee on the validator side so some validators want to share more and some don't want to share it all what would you say are kind of the problems with the Mev design in Solana today and how is that connected to um the spam but also maybe some of the outages so because we haven't touched on that yet so Solana notably had a bunch of outages last year were any of those connected to Mev in any way and yeah what what do you see as kind of the big problems um in kind of the chain design as it relates to MD yeah I think some of the very very early outages like maybe like mid to end of 2021 were related to Mev so there was one where um you know I talked about this earlier but uh when the RPC sends a transaction it'll send it to the current leader and then the next few leaders and then it's also supposed to forward if the validator doesn't execute it should forward it one hop and then drop it well there's a forward or bug we're just kept forwarding forwarding forwarding and there's like an Ideo so you have all these Bots that are trying to get into this Ido early they were spamming it there's this forward issue um and maybe not you know it was kind of a I went I would say it's related that was related to Mev just because people were trying to get into the idea as fast as possible um I think that like you know the outages I think are a lot of outages are related to kind of just pushing software to its limits I was actually talking to someone about this last night but I think like uh kind of a kind of an interesting comparison but you know ethereum I I could see uh it's kind of like a maybe like a Honda Civic or like a Toyota where you know the person that's driving that isn't really going to be like pushing it to the limits they're not going to be like rubbing the engine a lot and um you know going like 200 miles an hour I think Salon is kind of like a dragster where like everything needs to be working in like perfect Unison and you know the Pistons and the like cylinders and the drive trainer like being pushed to the limits very frequently and so that like if there's like any problems in any piece of it then the whole thing kind of just explodes um so yeah I think that like obviously Salon is obviously a high performance chain and it's being pushed to the limits a lot and I think that a lot of the bugs are just like finding where those like cracks are and like the drivetrain and things like that and uh fixing it I'm sure Eugene has a lot of thoughts around this too yeah I think just the complexity uh like the literal code complexity in the native Solana client Just Produce uh creates a much larger surface area for these types of bugs to exist and then I think there is much more of an engineering mindset coming from Solana developers as opposed to a more like research first principles guaranteed safety that we see more of from the ethereum side so I don't think it's too surprising that you see more outages on Solana I think the common theme though between all these outages I think has been like five or six which you know over the last couple years which is obviously too many it doesn't seem like there's some core issue with the way consensus is done a lot of them really do seem like like an implementation detail here or there and that definitely points to potential issues with the development process but not necessarily to the core mechanism itself I'd be curious you know a lot of the a lot of the difference for the way that Mev Works in Solana versus ethereum stems from the way that I guess the the way that fees are handled in ethereum versus Solana so I really do love and I think you know with hindsight the the way that fees work and the Feed Market that ethereum has created is pretty elegant and not to say that Salon is isn't but definitely you know having a fixed fee and I know that things are changing a little bit with the the introduction of the priority fee has created for some certainly some negative externalities in in Solana I I'd be very curious um from the two of you and Eugene we were just talking about this so maybe I'll turn it over to you first here do you see do you see the way that these work on Solana changing or evolving over time do you think it ends up being more like ethereum with the creation of feed markets yeah I think it kind of has to move in that direction the fundamental reason you need fees besides uh the network capturing a little bit more of the value it creates is you need to price these limited resources appropriately that's just the most economically efficient way to allocate the block space and so originally with Solana there was just the space fee which essentially is paid per transaction there's some Nuance there but it's not too important and that's on the order of 1 100th of a penny per transaction and this is you know basically zero and it's basically fine when blocks are not getting filled up once block started getting filled up you need to and a lot of that is these failed Arbitrage and failed liquidations that Lucas has pointed out uh then you need to have some sort of mechanism for pricing the block space so there's currently this implementation of a priority fee so every transaction is still going to pay the base fee and then now you can pay some priority fee chosen by the user on top of that and because block production is continuous this doesn't guarantee anything about ordering it doesn't guarantee anything about uh your likelihood of getting included but it sort of moved things in the right direction there's a lot of nuance in the way the Solana client orders transactions is sort of this like multi-threaded transaction scheduler that's trying to execute transactions and if you submit something with a higher priority fee you're more likely to sort of jump to the top of the queue in terms of execution and therefore placement in the block it's still relatively crude I think one really nice thing about Solana's programming model where state has to be specified up front so if I'm making a DEX trade part of my transaction actually includes hey I want to change for this transaction I need to touch Lucas's token account I need to touch the Phoenix Soul usdc account and by account basically mean a discrete piece of State so you can actually create state-based fee markets in the same way that you have a there's like a multi-dimensional EIP 1559 proposal from italic where basically you have a few different types of resources and you want to price each of them with a sort of like a 1559 like mechanism well there's limited amount of block space for touching the Phoenix Soul usdc Market in a given block there's obviously this Global limit as well and the resources you need are specified up front so I think it's pretty natural to have a very similar multi-dimensional EIP 1559 mechanism to more appropriately price different pieces of State because in most blocks you'll have some some State that's really really hot like a DEX Market that people are trying to ARB and that should be a lot more expensive to touch than some other random piece of state that only one person cares about in this block So when you say okay the idea I think of a state-based Feed Market is very interesting but you basically still need the ability to slow down time slow down time right in order for transactions to accumulate I don't think this is necessarily the case I think that's true if you want to very accurately price the state for the current block but if you make some assumptions about the shape of demand for Block space you can do something pretty crude where the base fee for a particular piece of State for this current block is based on how utilized it was in previous blocks yeah that's very fair yeah I forgot about that so this is less precise but I think definitely um demand for Block space well the demand for Mev transactions tends to be correlated because it happens in periods of high volatility predominantly right and so yeah you can definitely design a base fee based on historical demand for a particular state yeah it's an imperfect mechanism for sure but I don't think we can let perfect be the enemy of good and in this case in particular when it's something in protocol like an in protocol fee almost by definition you can't have a market for that that also lives in protocol so if you're going to have the market for that you have to have that off chain and there's a lot of trade-offs that come with that as well just to just to make sure that I'm understanding this right I mean this this is very interesting to me because it sort of Harkens back to I am part of the you know you hear this a lot from the cosmos you know part of the part of the world and their focus on you know app specific block space which is the problem with generalized block space is that sometimes you have competing demands from one sector versus another that impede the performance of uh you know our particular application so for instance what you wouldn't want is a decks going down because nft mints are exploding or something like that that just feels unfair from the perspective of a DEX operator so the sort of multi-dimensional or parallel fee markets would theoretically solve some of that where you could have a very high base fee for for instance if you know D5 is really heating up right as compared to maybe nfts being slower that would sort of separate the congestion between those applications is that am I understanding that correctly yeah I think that's fair again this mechanism is imperfect because it relies on past demand as an estimate for current demand so if an nft mint opens up on exactly block number one million uh probably the base fee is going to be way too low for for that block that might just be an issue with the nft mint mechanism where whoever is issuing the nft probably had an opportunity to capture a lot more value but I think the I think the main point makes a lot of sense where by appropriately pricing different pieces of State you are able to modulate demand with a fair bit of precision I think it probably has some other downsides too right so I I was asking myself well let's say it's like a very congested time like let's say there's a period of high volatility like can you really design a mechanism that constrains like the usage of the chain to be no more than like 25 on open C or 25 on unit stop or whatever and um yeah you probably could but I wonder if that is if that's good right if that's kind of good for the users of that chain as well so I think it's kind of a double-edged sword and now that we know a little bit more about the architecture of Solana and where kind of the current problems are now I'm really interested to hear like what's the Mev roadmap looking like for um for Solana so Mike mentioned some maybe some version of PBS that that might be on the horizon yeah I think that I need to go back and read that I think it was um uh is just kind of like a proposal so I think there's a lot of like hand waving in the explicit details I think that um it's definitely the right direction to go in I think that um the thing that's going to be difficult is can you introduce PBS without uh slowing down the block times massively and massively reducing the throughput of Solana um so you know I think Salon is a very fast moving chain I think that there should probably be uh like a tiny bit of compromise to look at PBS but you know if it changes things from like 10K TPS like 1K TPS that's just going to be like a non-starter um because it kind of just ruins the pitch for Solana um but I think that there's uh some interesting things so where are the judo's like the only I guess you could call it like a block Builder we're not building full blocks but we're basically submitting like sets of bundles to get executed and um I think that we're definitely learning a lot and want to uh kind of incorporate the lessons that we've learned into what this looks like on Salon in the future one thing that's like really hard right now is that you know talked about this a lot but um the state on Salon is always changing within a slot and so you know what ends up happening is if we're trying to uh if someone sent us a bundle for slot 100 and we forward that 200 milliseconds later uh there's a high likelihood that the state changed and that makes it really hard um you know we need to be the closer to validators that g does block engine is the better and um you know there's a lot of like uh a lot of like crazy stuff that we have to do from like an engineering angle to simulate stuff accurately and I think that um you know something I guess like whenever there's PBS there it needs to be kind of we need to like look at that part of the stack and see if there's a way to do it um to support multiple builders that can like simulate things accurately without slowing down Solana it might be a little early to ask this question but have you thought much about kind of the incentives for co-location between G2 and different Valdez and maybe different searches given that kind of the latency of the chain is so low how do you think this is going to evolve yeah I mean the the there's definitely incentive there I think the approach that we're taking right now is like try to set up as many regions as possible so that you know it's not just Frankfurt um because you know the the it's not like a heavy it's not like a force of gravity right right now but I think in the future it could be so you know as the uh as a block Builder on Solana we don't want that to happen you know we think that the geographic like decentralization is important and we're kind of like doing the best we can to support that by having uh we currently have four locations across four different countries and we'll continue to set up more um but I think that you know that is obviously pretty expensive in something that we want to uh change I think the the we just don't want to compromise and like the speed of Solana to get there I think Geographic centralization is also very path dependent so if you start with a very decentralized set and then you slap a system like this on top of it I think you're going to have a lot less gravity towards say like everything moving to sit next to maybe a slight slight pushback on that Eugene with that you know one thing that has been I've talked about a lot this season is the big one of the big factors in terms of like sexodex Arbitrage is where price Discovery happens so you know if price Discovery is happening on binance you know I I I feel like that's the more important sort of factor I guess than than anything else I don't know what you have to say about that well I think it's just really really complicated like if I'm a Searcher and I'm doing the sex detects Arbitrage on Solana let's say the validators in Frankfurt I think price Discovery happens uh on binance which I believe is in AWS Tokyo there's just like so many there's so many pieces that have to go right here so I need to get the price from AWS Tokyo into my Searcher box which is presumably running in Frankfurt I need to do whatever simulations I need to do to compute the transaction I want to send I need to send that bundle over to GTO which in this case is probably also located in Frankfurt um it's not obvious that the validator wants to move to Tokyo as well right because every Searcher that is in uh every Searcher is going to be in Frankfurt co-load with his validator or you know in Tokyo colloid with The Exchange but the speed bump there is going to be the same or very similar for all the different participants so I think perhaps like at the margin by having higher latency between the exchange and the validator you might have like a little bit more uncertainty and therefore like ever so slightly smaller bids but I think this is just totally dominated by the size of the opportunity so maybe a last question on kind of Solana baselia infrastructure before we move on to D5 because I think we're very interested in hearing also the perspective of what it means to build on a chain like Solana what's like the pros and cons on the experience but I I want to hear kind of what do you think is uh what do you what do you think is kind of the role of jump of jump crypto in the Solana ecosystem how do they think about the chain why are they so interested in it um and also what is their project um fire then so that they've been working on for for some time now yeah I think um jump is obviously like a pretty big supporter of Solana um between you know pith uh pithnet which was actually kind of like a I don't even know if this is the right way to say but it's kind of like a side chain running the same Salon a valid air client just with kind of higher requirements um and their role of like building fire dancer I think you know there's some of the the most talented engineers in the space the stuff that they have been able to demo and like the stuff that they will pull off will just be insane and I think that like a few years from now I think it will be a reference for other chains on how to build like high performance systems like you know chain XYZ is saying this bottleneck let's look at like fire dancer and see what they did to uh make this run faster um I guess you know to play Devil's Advocate there could be you know uh they do under they will understand the validator pretty well so it does kind of um you know there's a potential for them to understand what's going on inside it better than anyone else and extract Mev but I think that you know it's open source anyone can read it and it doesn't it's not necessarily like a blocker for anyone else to get an even playing field guys I'd love to start talking about defy on Solana and maybe starting from a high level you know I feel like defy on Solana was you people wanted the clock back a couple of years sort of the main selling point for the chain and people were extremely excited about it I definitely remember when CRM launched how excited people were about the possibility of a central limit order book that was on chain and since then I think to be completely Fair Solana has suffered a pretty major setback in terms of its defy um with sort of green green shoots right with uh like Eugene and what you're doing in Ellipsis so I'd be curious to just get a sense of what is Solana or Define Solana kind of look like today from just kind of a landscape and ecosystem and then if you could maybe dive into some of the points that uh you know kind of passu's side of the of the of the argument which is like what is it like to build on a chain like Solana in terms of like pros and cons sure so I can talk about the protocol design space a little bit I think across all of D5 basically over the last five years we've seen very very little Innovation on the protocol design side basically we had unit swap compound and maker Dow as these Pioneers who really showed the world that decentralized Finance is possible but these protocols were built under very heavy constraints of a 10 TPS chain and pretty much everything we've seen seen in D5 since then has been anchored on these very old V1 protocol designs and maybe with some ponzinomics thrown on top so the thing that really excites us about Solana is that it's high performance decentralized infrastructure is available today and so we can really explore the protocol design space for these Financial Primitives from first principles and some of the key differences in you know the performance of Solana versus ethereum you know you have these 400 millisecond block times so that really reduces the med surface you have thousands of transactions per second which allows for actual markets uh you have an oracle update every block so for protocols that depend on Oracle you might have like much more resilient Oracle pricing much smaller error bars on the prices there and so to be a little bit more concrete I can give a few examples I think trading uh Mike you mentioned that you can build a limit order book on Solana and I think this is probably the one main innovation in D5 we've seen on Solana over the last three years since Solana's been live I think passive liquidity models like amms are much better than nothing and they work really well for these long tail tokens but you really need to have active liquidity for deep sustainable liquidity and another thing with the amm model where you have this two-sided liquidity is it actually makes front running possible or front running is just not really that profitable on a limit order book certainly like a sandwich attack won't exist um and with limit order books we can also leverage all the work that's been done in electronic Market making for the last few decades where you have all of these high frequency trading firms that have invested tens of billions of dollars into r d and their entire goal is to provide the most competitive prices to Traders and so now with limited order books on Solana we can enable them to provide liquidity the way they want to provide it in decentralized finance so D5 Traders also get the best prices possible I think with borrowing and lending like frankly all across D5 today it's basically stuck in the Stone Age where every design is still basically a copy of the original compound design I think there's some pretty clear room for a step function improvements once you relax the infrastructure constraints the most clear example here is you can just have a market mechanism to determine the rates rather than approximating a market with this piecewise linear interest rate curve so I think basically the yeah the protocol design space is much larger on Solana which gives us a lot of room to explore and there are plenty of teams today that are exploring this design space I think we're going to see some more products go live really soon I think like mango markets is a great example where they have an order book based decentralized perpetuals Exchange um and you know there's a few other teams working on similar things uh there there's teams working on different borrow land implementations that are not just clones of compound and Ave on the nft side the use cases have also really just opened up where compressed nfts have just shipped and basically what this means is you can have collections with millions of nfts or billions of nfts at pretty reasonable cost and so a lot of the original nft vision of you know digital items uh that don't necessarily need to be 10 000 pfp collections that are selling for thousands of dollars you can actually have some of these more practical use cases like ticketing or items in gaming uh these actually are more realistic now too I've got a couple more specific questions for you just on sort of central limit order book design versus amm and this was a debate that this has been a long-standing kind of debate in crypto and certainly a couple years ago you heard a lot more sort of fierce uh debate about these two different structures but maybe since this is an Mev podcast I would love to know you know I think the this idea of active versus passive liquidity is definitely an important one so could you describe you know just wise for the passive liquidity construction of an amm especially kind of the concentrated liquidity provision in something like uniswap V3 just throws off the enormous amount of Mev that it does and then I do want you to double click into you know you mentioned that in a in an order book design you won't have things like sandwiching you you just describe exactly why that is because I didn't really follow you there yeah so let's start with the sandwiching example the reason sandwiching is a thing on amms is because of the two-sided liquidity so if I provide liquidity within a range I'm and the price crosses Me In One Direction now I'm automatically providing on the other side and so what this means is if someone places an order with very very high slippage what I'm going to do as a sandwich is I'm going to run up the price so that the Trader or victim gets their execution at the very worst price specified and then I'm going to exit the trade by going back through the book the other way and so in practice what this means is first I make a very very unprofitable trade where I push the market really really far and then the sandwich victim pushes it a little bit further and then I close out the trade against with this very very profitable back run on an order book you have all these limit orders but they're one-sided so if you push the price very heavily one way you don't have this very profitable exit on the other side uh with regards to like a M's versus limit order books in general let me let me let me ask before we move on to that let me ask you why so I from that explanation I didn't get understand why symmetry wouldn't be possible in the limit order book because most Traders don't use limit orders right they they use Market orders and isn't that kind of similar to how an amm would work like couldn't you front fund the market water in the essential limit Ottawa uh yeah but your front run is extremely unprofitable right because you're going to have to take out all these other orders because the limit order pixel is going to match the market order against the best price so yes one thing you could do is like you know clear all the liquidity from the book and then if there is this naive Market order you can have them fill at the worst possible price but your front running trade was really really unprofitable because you had to clear this book but isn't that the exact same thing in amms like an amm it's also just like a limit order book except the other side symmetrical and so you also have to clear out the book before you can you do have to clear out the book which is very unprofitable but then you have this very very profitable background which is running fixing the price after you made this trade so it's like a pretty fundamental difference here with the two I see so basically in the amm it's almost like the audiobook replenishers basically after you made your unprofitable background and so they are they are basically exposing you also very profitable trades on the way back that make up for it exactly and essentially that that is not going to happen probably because like nobody is gonna put any orders in like after you cleared out the book and it certainly can't happen atomically yes okay okay now I got it okay thank you so good going back to like the amms versus limit order books in general so there's this really important distinction between active liquidity and passive liquidity like we were talking about earlier with electronic Market making firms these these guys are like real professionals and their job is to provide the most competitive liquidity possible because we're not providing competitive liquidity they don't get any fills in the limit order book model aware if you're not providing the best price you're not getting any of the volume so there's this incentive to provide better prices to the extent that you can amms and there's there's been a lot of iterations on amms of course but essentially they rely on these liquidity curves which roughly are trying to approximate what a sophisticated Market maker will do while having basically none of the information whatsoever so like if you have a x y k model for example like yeah you have a little bit more of the liquidity near the top of the book and you fade towards the uh you you lower your size towards the back of the book and yeah the shape is you know roughly correct um but you don't have nearly the Precision that a professional Market maker will have and then the really really big piece as it relates to Mev is with this dexex Arbitrage that's exposed by these amms where amm's actually completely depend on Arbitrage to fix the price to set the price of the correct market price and so what this means is if some pair is trading on an amm and the you know the price in the amm is 100 the price on binance moves to 105. the amm can't automatically move its price to 105. it relies on these traders to push the price from 100 to 105. and that is really expensive for the L Keys they're systematically overpaying for the service of getting their prices fixed and if you have active liquidity then the market maker is just simply going to move their quotes maybe they'll get into a race with takers who are going to try to pick off their quotes before the market maker can move them but I think the Meb surface is exposed is clearly a lot smaller which means that the protocol itself is also going to be more sustainable zooming in into that kind of race that that exists so uh why is it guaranteed or like to to what degree is it guaranteed that uh that the mecca is is kind of favored in removing their bits in any way over the taker um why why does it like expose that much less uh Arbitrage opportunity so there's no guarantee whatsoever but you can also move your quotes just before it becomes profitable for the taker to cross this is this is pretty similar in in tradify hft where yeah sometimes there's takers in the market that you know are just faster than you and so what you do is you you uh give yourself a little bit of a buffer room yeah so you basically increase the spread in order to make it less likely that you will ever be so what you can't make up in speed you basically make up and spread yep and that's why we see bigger spreads in ethereum because the the time difference is basically like relatively big and so the Arbitrage opportunity that you potentially expose is really really big and so um there's not that much liquidity around the pack typically I'd like another pack but the kind of the the current market price sorry are you talking about on amm's on ethereum right now uh yeah basically why it's like not profitable quote a lot of liquidity around the current market price on ethereum yeah yeah that's right because you're gonna get picked off a lot that makes sense so I wonder have you looked much into um kind of Mev capturing amm so uh I've seen a couple of designs there that are kind of uh picking up in popularity picking up in Steam I think we'll see something like that launch this year um and probably be quite big um and these would be kind of AMS that that basically return the Mev loss to arbitragers back to that piece thereby making it much more profitable to kind of use these automated strategies so I I wonder how you think about that and whether that changes the balance in favor of a M's maybe a little bit so I think this idea makes sense obviously you could have something similar for limit order book as well um with the the so the main problem here is I believe correct me if I'm wrong that to have this sort of Mev redistribution mechanism you basically need to have your own app chain where you control the Mev no I think you can build it into the into a smart contract on um can you can you have like this efficient capture and redistribution because I thought the fundamental thing that's happening here is the value is leaked to the network layer right and no so you would basically I so I haven't seen any concrete designs but I think the way they would work is you basically auction off the right to execute the first trade uh in a particular pool in a particular block and so there are some problems here with like unlocking the block and so maybe you want uh so maybe it helps if you also control it like you're ordering uh The Ordering of the block so you can ensure that if like somebody doesn't take the opportunity in like within the first 10 Slots of the block then that the rest the other like 90 can still trade um and so nobody needs to quote unquote unlock uh the pool um yeah but I think there might be some some ways around that so yeah I think this works to some degree obviously the mechanism is pretty crude right specifically because you don't control the L1 I don't know to what extent you're actually going to be able to recapture the Meb but kind of the situation with amms on ethereum right now is just so bad that pretty much anything is going to be an improvement right like we see uh amm liquidity providers losing hundreds of millions of dollars per year um because they're getting picked off and it's it's all going to the to the underlying L1 I I would have kind of a final Arc here in terms of questioning um unless you have anything specifically about D5 mic that you want to want to bring in okay um so I I think we so far one big uh theme of this um of this podcast season has been on kind of the world of latency like it's do you want higher latency do you want low latency what are the trade-offs and what might be kind of the like the frontier in terms of efficiency that'd be really interested to hearing from both of you um and I know Eugene you've thought a lot about this actually so what is what is kind of here what is kind of the what do you think is kind of the the like Optimal point where um the latency of a chain is low enough so that it can provide provide um like a good design space for application developers and like the ability to manufacture liquidity at a cheap price but where the also the latency is not so low that it causes this like intense geographical centralization pressure on the network like what's kind of the highest that we can go and what's the lowest that we need to go in order to to to make kind of the winning recipe I think for D5 my best guess right now and I'm not super confident on this is that faster is just better uh where you can be just more competitive with tradify I totally agree that latency driven centralization is a threat to decentralized systems but it's not clear that you know having lower block times means the incentive for latency driven centralization is higher I think 0x 94305 on Twitter has been discussing this for a little bit where you sort of look at the Mev that's exposed if you have 12 second block times versus if you have shorter block times and who is more likely to to win those sorts of races how centralizing it is it for validators and for Searchers I think it's just really not that clear and then from a more practical perspective I think you just can't pause time for 12 seconds and expect the rest of the world to go along with it in the case of D5 basically what that means is today price Discovery happens on centralized exchanges and participants in D5 have this really poor ux and they get wrecked by med and I think the gold really has to be to create centralized systems that can be useful today rather than systems that are only useful in the case of some collapse of the Global Financial system and so that really means building a decentralized financial system that is competitive with centralized Finance I think it's very popular these days to paint hft as a villain low latency Traders as like bad or parasitic but defy on ethereum today suffers from all the worst aspects of hft like front running and it offers none of the benefits like price Discovery and efficient liquidity and then obviously the protocol design space is just so heavily limited on the L1 today and even to some extent the l2s uh and I think low latency systems or low latency blockchain reduces the total amount of Med and right now we see a lot of the Mev discourse focused on redistribution rather than reduction like we discussed before right now Meb is costing these amm liquidity providers hundreds of millions of dollars per year regular Traders are paying tens of millions of dollars per year and this is just like so fundamentally unsustainable just like cannot be the backbone of the future of Finance but no one wants to talk about it because the profits are all redistributed to etholders they're definitely parts that I uh resonated with me there Eugene I I you know one one fun part of Hosting this podcast is kind of jumping in between different ecosystems and taking the perspective of each like different ecosystem and definitely a big change for me in exploring Mev I don't know ethereum is that the user does not often take first place in terms of decisions that are being made although I do Wonder in the long term in the long term I think ethereum might be uh or a designer of ethereum might be thinking like that but sort of with the idea that you have to make short-term compromises on ux to build uh distributed sort of network um or a neutral sort of network I I Lucas I want to give you I know we've got to wind down here in a couple minutes but Lucas I want to give you a chance to sort of bookend the conversation as well yeah I think every I don't think I could have said it better than Eugene did um I think that um you know low latency can certainly it's can certainly drive like Geographic centralization but I think that you know there's there are 400 millisecond block times on Solana or the way that Solana is built right now does that drive more centralization uh not super clear to me yet um but I think it's definitely something worth keeping an eye on and hopefully uh you know validators and stakers can participate in like preventing that from happening guys you've been super generous with your time and definitely given Hassan and I a lot to digest if folks want to find out more about the work that you're doing or follow you or your projects what's the best way for people to find out more information uh yeah my Twitter is Buffalo you can go to cheeto.wtf to learn more about Vegeta Labs is building yep and you can find me at Xerox Trader on Twitter amazing you know get better names uh than in the crypto space so guys uh thank you so much it's been a real treat of a conversation um appreciate your time all right partner that was a great that was a great episode what'd you think I thought it was amazing that was uh maybe the most fun that we had so far uh I learned so much I think I think this is like a big reason why I wanted to do uh the season on Mev um because I thought there's a lot that I can still learn and uh I think Eugene and Lucas um really kind of showed showed us the way there you know in doing my my sort of research for this season and this episode The the way that consensus works on Solana if you're familiar with how it works on ethereum it's really very different in Solana and I think one of the challenges of this season or it's like interesting but a challenge is to sort of separate and meet the Mev conversation from straight up just protocol design and consensus design because they're so intertwined I think so I really enjoyed the part you know where we discussed just how Solana works because at least for me the way that it works on solanus a little bit more challenging to totally grasp and I really enjoyed the the discussion about sort of fee markets as well and kind of contrasting how it works on ethereum versus Solana yeah I completely agree I think in the first half of the conversation when we discussed how Solana Works different from ethereum and what kind of Mev Market structure results from that I thought it was so fun for one because it it kind of validated a lot of the things that we had theorized about in previous episodes right for example this idea that if you have a low light if you like if you have a low latency chain and if you don't have a fee market and if you have cheap fees then it kind of devolves into the spam war and Solana is such a great example for that um and um and yeah I think um also gito is taking a lot of the right steps in order to mitigate this problem that's kind of the quote-unquote like flashpots on Solana and I I thought it was very interesting when we unpacked um how exactly they approach um kind of solving this this spam problem this Meb problem on Solana and it was interesting for me to see how it's not really about the bundle and kind of the atomicity guarantee that it provides it's really about um it's really about the ordering guarantee right it's about slowing down time and kind of tie breaking between like letting transactions accumulate and then tie breaking between the transactions deciding which one comes first and having kind of this option between them that moving the auction to to like an auction on price and two can tip develop the most instead of just an option on on who's the fastest or who can Spam The Chain the most I yeah I thought that was the most interesting and like the initial half of the conversation for me I also do think you know there are probably some fundamental limitations with the the differences Salon obviously being their focus on low latency which has a lot of benefits but there are downsides and risks to that as well one of my takeaways from this conversation is that you couldn't ever probably have PBS in the way that is being engineered on ethereum on Solana because the hip to latency would simply be do great so I thought that was a big takeaway for me on the conversation too yeah yeah but it was interesting um that I think like the Mev ecosystem on Solana and even like the base layer design in some ways as it relates to fees it's kind of converging on what ethereum is already doing right and I think it it kind of shows that if you want to be really like unique you want to be really creative I think a lot of the time there comes Mev with the sledgehammer right and it's just like destroys your plans and you have to go back to some design that's already like that that kind of factors in Meb and it's more proven to work I think Avalanche is another chain we will not talk about Avalanche in this season but I think it's another great example for a chain that tried something really unique with their consent like snowman consensus leaderless protocol and then it got completely smacked in the face um once there was any default activity on there because search has started um basically manipulating the consensus and and basically slowing down the block time to the point where the network would just stall out and not finalize for like 10 20 30 seconds at a time and so they had to change away from it and so um it's interesting that we're seeing the same things on Solana uh and yeah I think uh kind of their variant of PBS it might look a little bit different I think if I had to guess it will move a little bit more in protocol than we see in ethereum just because if you have something that's out of protocol then it just takes more latency basically everything takes longer there's more parties involved there's more communication steps and Solana really wants to get their latency down and so if I had to guess then whatever they end up with I think there would be more components of it inside the protocol than outside and I think um actually I think Lucas made made this great point or it might have been Eugene one of them said that it's okay like when you want to do things like precise and efficiently do them outside the protocol but you can also do them inside the protocol you sacrifice some efficiency for example if you use some form of like uh base fee on a particular State part of the state right and then it just approximates kind of what the recent demand for that piece of state was and it really acts like an off-chann Mev auction in a sense it's just like way more clunky way less precise and generates less Revenue but it works somewhat right and so this is a way that you can do something that we know that we know that really well the protocol you can pull it into the protocol and you sacrifice some efficiency but at least it's like way faster you know I wanted to so a couple notes on on all of that which is totally noted about in protocol versus out protocol and we've talked about this a little bit on within the context of ethereum about what makes sense to get in trying versus what's what are we okay doing off chain et cetera um I also do want to just you know give a big plus one to it's it's very interesting to sort of note that designs are converging across different ecosystems um you know last season we talked a lot about how they're I'd certainly there's a convergence in architecture between Cosmos and ethereum and ethereum has kind of adopted I think an idea that sort of began actually with lazy Ledger in 2019 which was a sort of a cosmos type project and it's interesting to see the same thing happening a little bit uh between Solana and ethereum as well I had a I had a question for you I wanted to dive deeper in the episodes but I didn't want to distract us too much the the question of when we were talking about multi-dimensional or sort of parallel fee markets and the idea that you could let's say on ethereum if you wanted to broadly categorize it as uh defy fee market and an nft fee market and you ask the question is that a good thing or not I don't know it kind of seemed like you had actually given a decent amount of thought to that and I can I sort of thought I started to see where you were going but can you dig into that a little bit more yeah I know I I actually haven't thought about it much but um it was not clear to me that like a chain shouldn't shouldn't kind of have a lot of slack and buffer for for specific applications to take over the chain basically when demand is really high and I understand that this crowds out a lot of other application usage but it's basically you also create this businesscentive uh you kind of arbitrarily throughout the kind of the supply of the chain for a particular type of application and you create a disincentive for apps that might be really popular to build on your chain and so um I think with resource pricing this is one of the most unexplored under utilized most interesting kind of Topics in blockchain design because how you price the resources affects so many things it's it's like you're playing God or you're playing like the government in a sense and you're trying to um well like you try to incentivize particular forms of economic activity right that's why for example we have these pre-compiles in ethereum or op codes uh it's another term for them right and it's basically subsidized usage of ethereum because we say oh these operations are very useful for ethereum like for users and so we want to subsidize them um and other things might be discouraged right and so it's it's about like encouraging certain Behavior as well as discouraging others that might cause negative externalities um and so yeah I think it's both a science and an art and kind of Designing these uh resource pricing mechanisms here and ethereum is making new grounds with I think multi-dimensioner um eip1559 and I think Solana is equally breaking new grounds here with the idea of of kind of the uh you know the state-based um base fee uh so I think this is this would be also really really interesting to to see kind of how it develops the reason why I think it's relevant to Solana is I think I guess I want to think about a little bit more before coming to a conclusion but it's definitely a problem of generalized block space where you can have one application interfere with the performance of another and I do hear you that you know would we have uniswap or openc uh you know kind of the only there are very few app success stories in ethereum so far the vast majority of them are on ethereum and I do Wonder to your point whether or not they would be success stories if ethereum decided to throttle for instance Open Seas usage of block space on the other hand I think long term in a monolithic design where there aren't explicit plans for app specific block space or l2s or whatever I think you have to solve that problem eventually because even just imagine in a in a D5 sense if you had critical Financial infrastructure you would not want it disrupted by you know some nft Mint or something that would just just imagine just imagine how how much politics that will introduce on on kind of on top of that like something that aspires to be a base layer right as kind of different applications uh try to lobby for you know their usage of the chain to be expanded for them to be allocated more capacity for their usage to be subsidized um I think this is going to be really really hard for a chain that Inspire us to be uh credibly neutral and aspires to be kind of an unpolitical bass player um I think we will see something like that maybe on some of the higher level domains but the thing is the same thing that makes uh kind of this like very opinionated resource pricing very difficult which is credible neutrality is the same thing that makes it very attractive for applications to build on your chain compose with other chains and settle down there because it's it's basically that like platform risk right uh credibly introdity minimizes platform risk but it also minimizes your ability to kind of be opinionated about resource pricing and so um yeah I feel like it's a stalemate there it's tough It's very difficult and I'd be curious maybe this is a good segue into you know our discussion of defy and amm's versus Central limit order book constructions and the pros and cons there but I I found myself thinking the same thing when Eugene was describing the amount of money essentially that LP sort of passive LP stakers on uniswap are doing and at some point I do feel like politics is inevitable and even like here here's an example of how this is happening on ethereum like blobs you know kind of data blobs for cheaper uh you know cheaper yeah execution on layer twos I mean that's all that's a that's a very popular decision right and that's you know directly to support the roadmap of ethereum but it is already a political decision I think and I do Wonder you know if I was uniswap as a single entity I obviously know that it's not but if I was uniswap and I was like hey I I'm responsible my application is responsible for an enormous amount of activity on ethereum I'm essentially subsidizing an enormous portion of ethereum vis-a-vis my my LPS that are providing liquidity eventually you know right now we're in the pie is growing and we want to make the vision work but eventually that's not going to be sustainable and I would have to imagine uniswap has an enormous amount of lobbying power in ethereum so maybe if you could kind of respond to that and how how long you think that equilibrium is going to be stable for and then we can get into the amm versus Central limit I mean it's not just that I think not just that I think like Unison has lobbying power which may be true I I don't think they're particularly close to core development uh even though they are initially like funded by Grant from the ethereum foundation um I think it's more so that they have kind of bargaining power in the sense that like certain decisions might not like even without kind of any explicit form of collusion that there might be certain forms of decision that like are very hard to make because then applications like uniswap would leave the chain and I think we will see that happen at some point anyway right it's like um I think um I think like the more kind of business people there are in in crypto working on these applications um they will look at the entire value chain of that application and they would think oh yeah this is like the amount that we pay for security it's someone who pay for a settlement this is the one we pay for uh you know back end or like our indexing whatever at the upfront and all of these things and they would think oh how can we how can we make more money but also how can we spend less money and they would think um well maybe if like we are spending a ton of money on data availability on ethereum whatever right then let's also explore some other options and I think there will be competition um and I think um for what it's worth like the ethereum core developers and the hymn Foundation is also very aware of that right I think they they understand that they they are kind of like other applications and users are there their customers and their users and we are all like a community but we're also all competing with each other right and um if if ethereum isn't kind of the best most cost efficient option for someone then that someone is going to leave ethereum and so I think this is part of what motivates this whole shift to ethereum becoming kind of the best sediment layout the best data availability layer and I think we'll see a lot more changes that kind of optimize for the for the needs of um of applications um but I think it would be more like in the sense that uh optimizing for like archetypes of of applications and less so for any kind of individual ones that makes sense um yeah talk to me about what your thoughts were I I really love just listening to you and Eugene go back and forth on amm versus Central limited it kind of reignited this in a memory of mine that this was sort of a raging debate a couple years ago people love to talk about this so yeah give give me your what did you think yeah I love Eugene uh I think he's such a great guy and and yeah that was a really fun debate I thought it was great to hear his perspective of someone dating uh an application on Solana um and so he's someone who like was more closely aligned with ethereum I would say so I think that's how we met initially and so it's it's it's it's kind of great to see some bridges being built to that ecosystem and I thought he made a lot of interesting points just about how um there can be instances where faster book time exposes less Mev like Crisis update faster um when uh yeah just like you you have an easier Time Manufacturing liquidity um it kind of plucks more nicely into whatever like mental and Technical apis existing stratify market makers already have and so it's it basically lost kind of the entry barriers um that they have into crypto and um I think these were all super valid arguments um and it kind of hints at this general idea that it's not just about building decentralized system systems it's also about Building Systems that can compete with whatever is already out there in the real world and um yeah I thought that his argument really resonated with me and um yeah I think the kind of like this geeking out about amms versus um essentially with other books I think that was really good the cherry on top um I think the last word hasn't been spoken about like uh it's like such a lot of Express amms I think amms have some chicks up their sleeves I think potentially with other books are relatively figured out I think there's not much Innovation to expect here I think it's more about bringing kind of existing standards on Chain versus in mms I think that's still a lot uh that's going to happen a lot that's going to develop um and I think this year we'll see some very interesting things with uh maybe capturing amfs yeah I tend to agree with with all of that to be honest um trying to think I think that was that was basically basically it it was uh there's definitely a lot to to think about and I think I just always love hearing from the the Solana side of things I think it's kind of one of the communities that has definitely taken the the oh oh the one other point actually that I wanted to get your get your thoughts on is it was you know his point we talked about this a little bit in even more greater detail kind of off air but his point that look in general hfts are sort of villainized and they're not a very sympathetic group of people because they did frankly make so much money and they're very opaque and you know his sort of perspective was actually providing liquidity is is a good right so we've been really you've been leading to charge on warning about some of the you know what we don't want to do is just recreate the Trad find model here but I think Eugene injected a little bit of nuance there look what hfts do in terms of providing liquidity and assisting in price Discovery that's actually not a net bad so I I'd just be curious to get your thoughts on that point no I mean I I would agree with him it's uh I I think my view and this is also nuanced in the sense that I can really appreciate the Innovations behind kind of electronic markets I'm not even a like a big hater of uh of like payment for auto flow or anything like I I think it has uh improved a lot of the like liquidity um kind of the the execution that you can get as a user um I think it's more so about uh what it kind of does to Market structure long term and the question with that answer when there's a better model here because like crypto and D5 is different from tradify in the sense that if someone is really good at Market making on shame then by definition almost that means they will be good at block building and it means they will be like they would have like good amount of power over the chain and so an outcome about like a market structure outcome that that would be acceptable in traffic like entirely acceptable to me I wouldn't even change the market structure and thread file but I can say the same Market structure is not desirable for D5 just because it has more implications on basically a central decentralization and so I think that's generally where I'm coming from can you because I've actually questioned this a lot myself could you respond to the last point that Eugene made just about maybe ethereum his broad point I'm sort of paraphrasing here was ethereum is building for a situation either explicitly or implicitly where there's some kind of government Crackdown right or uh you know the government tries to ban it so the design is such that right like even in our discussion about latency latency would be okay if we weren't concerned that a government might come in and you know shut down that that's why we're very concerned you know I didn't really agree at all with that I didn't really agree with all at all with that um I think that even at like a 12 second or five second block time I think there's plenty of things that you can build on ethereum that's better than existing systems and I I don't think that here needs to be better at everything than kind of existing systems I think it needs to be better at some specific things and I think those specific things is kind of verifiable computation and kind of make incredible commitments to what's one another and I think that what this does is basically removes the need for trust in in kind of uh Commerce in in in collaboration and it it just like unlocks like a lot of human collaboration anywhere in the world and um I think that that what makes it powerful and I don't think that latency is really like a huge factor in that um and um yeah I think the next few years will kind of show um what you can do also like in kind of higher latency chains I I think um maybe capturing amms are one thing to look out for but also uh badged options right so um I think these are generally like things that you can do in order to have also like very good price Discovery um without uh yeah with maybe like a little bit higher kind of latency yeah also all right partner well this has been a fun one um next next week we're going to be talking with some of the folks over at uh Cosmos actually in another fun sort of uh departure from ethereum but that should be a good one too that should be good all right six 