foreign thank you um also you know I think this is the first time uh robot has ever co-hosted an event so thanks a lot to MJ for making it very easy to to to to do this um but yeah so today I'm going to talk a little bit about um privacy and mechanism design um there's sort of some theoretical questions and some practical questions and I think the the long story short is that there's uh a bunch of things related to to the topics du jour today of intents and other stuff that you kind of change how particular mechanisms operate their guarantees their economic guarantees if you have particular privacy preserving mechanisms all right well the number one thing to start with is ZK and fhe promise a lot uh you know in theory they're supposed to give you this privacy preserving machine learning I would segment it into the the middle part of this kind of pipeline is the uh part that ZK helps with fhe sort of helps with the full input and output privacy um they're supposed to give you incremental verifiable computation uh you know my classical IVC to the left folding type of things to the right um these are kind of the best ways we know of for people to do large complex calculations but also be able to give you concise succinct verifiable proofs that they actually ran stuff on your data so for instance like if I give you a language model and I wanted to generate a proof that the language model actually had was trained on a particular data set and actually has real query Knowledge from that you would need to do something like this and of course uh succinctness which is the the key benefit is that you know your little tiny cell phone device can verify stuff your big juicy Solana validator uh produce the proof but you know there's a big difference between the two of those energy consumption noise foreign but these are all pretty abstract benefits if you think about it [Music] um none of them are like hey I saved you this much money or hey your voting system was harder to manipulate and in fact uh you know I think it's always good to to be aware of what the critics say but the uh the critics this is actually a Molly white commenting about the a16z state of state of crypto uh thing and uh pointing out basically you know exactly what I was saying before is like none of these benefits so far are particularly concrete right like it's like I can't really tell my grandparents like hey this is a reason you want ZK stuff and you should invest you know hundreds of millions of dollars into it uh so there's sort of this very natural question to ask next which is are you stuck with a technology whose benefits definitely apply to everyone in a lot of different ways but the the verifiability aspect is only really useful to the sort of technical cognizanty as opposed to kind of the uh the general populace and so this brings us to this next point which is verifiable mechanism design so mechanisms that take advantage of these verifiable guarantees can provide better approvably better economic outcomes uh and those economic outcomes are much easier to describe I saved you X dollars this type of transaction took a lot less time this type of transaction took a lot fewer Capital sources to execute so but verifiable mechanism design is actually quite hard uh and some of the hardness comes from computational complexity issues you know like a lot of the stuff we saw in uh Chris's talk uh the last section you know a lot of those problems are tfnp complete so you know that's not exactly great and fun to work on so what we'll do here is go through some examples of things where people were like hey we really want to make these mechanisms have X Y or Z benefit and people are like okay we'll just add some ZK and like hopefully everything works uh and we'll talk through some examples of why that doesn't work and why verifiable mechanism designs a little bit harder so constant function market makers automated market makers they just adding ZK doesn't just generically help you and so the simplest simplest explanation of this is um everything in finance has to have some public information right what what do I mean by that there's a price there's an interest rate there's a fee there's a collateral requirement those are all concrete public desiderata that must be satisfied somehow right no one is going to trade with something where it's a black box and they can't see the price the interest rate on the other hand you want some of the data to be private but the problem is in most D5 systems the public data is computed from aggregations of the private data and so you can oftentimes invert that relationship by taking the public data and inferring something that's private data so cfmms like uniswap curve balancer Etc they all have this problem that the Simplicity of them which makes them very favorable in a blockchain environment they don't require a lot of compute also is the reason that you can invert them and kind of figure out what people's trades were so the public data the prices can be used to reveal the private data so that's not good so even if I put this in ZK and I hit blinded the reserves it doesn't actually help you give make get full privacy for the swaps so the second second thing uh is auctions so you know I think uh Constitution Dao is perhaps people's most favorite example of why why Dows need privacy when entering auctions online um I mean I think obviously the insult to injury is that Ken Griffin I guess was your the one who front-run you but whatever uh but the the idea of auctions needing privacy and auctions of being able to give people privacy are really important and there's been a lot of work on this so for instance there is a ZK steel bid second price auction on ethereum called Victory um but the thing is all it does is really blind the bids it doesn't actually have any mechanism for enforcing any of these kind of constraints that you might want and so um and I'm hopefully whatever time I spend on this is helping the next speaker matteus because he then he won't have to reintroduce those but we're gonna there's sort of an idea that there's three properties you want out of an auction um one property is seller incentive compatibility which means that the seller can't add bids and increase their revenue so they can't add fake bids and cause themselves to earn more money they can't censor people's bids and cause themselves to earn more money the second is buyer incentive compatibility which is people are incentivized to bid what they think the thing is actually worth and the third is bounded communication complexity the the bidders and the auctioneers only have to communicate with each other a fixed number of rounds that doesn't depend on the number of bidders participating nor the number of items being sold um and you might say okay these all seem like some classical things someone in 1970s Milgram in the 80s should have like solved this but actually in 2019 people showed you can't get all three and it took a long time for the auction Theory literature to to get this kind of trilemma um it was the first time I've ever seen non-crypto people use the word trilemma non-ironically so that was like that was amazing uh so one interesting thing is this the ZK still did second press auctions they don't actually satisfy seller incentive compatibility the seller can still add fake bids and increase their their revenue and so there's a sense in which just adding ZK did not solve the problem and finally if you you know something I love whipping on a lot because I think it was one of the most broken mechanisms in all of crypto in spite of the fact that lots of people spend money working on it uh is is fair ordering and so there have been a lot of these protocols that try to say something akin to I have a bunch of validators each validator gets transactions validator a gets transaction a before transaction b validator 2 gets transaction B before transaction a can we can we kind of like force them to pick one ordering where they can't choose the you know the leader can't choose the ordering on their own creating Mev these Fair ordering schemes of course run into classical social Choice Theory problems like errors and possibility theorem um which they usually try to claim that they get around most of the time which turns out not to be true um and the the the Crux of this is that fair ordering is this thing where it's a very nice concept right it's like I send a transaction before you everyone agrees that I sent it before you and no one can cheat the problem with that is you have these sort of sort of uh non-transitive dice problems where we have a bunch of people voting in an election and on average you have a b to B B C and C beats a so you get this kind of impossible staircase uh when you look through uh look through that and one one thing you know you might say is well okay well can we like reduce the probability of those things happening and that's what most Fair ordering protocols do now one problem and one thing you can show is that uh they while they they do lower those probabilities they distort certain economic payoffs so particular types of D5 protocols actually have worse price behavior when you use a fair loading protocol so there's sort of this trade-off between how much you restrict the orderings or the validators are allowed to choose versus how much you're restricting the set of payoffs that developers are allowed to make and there's sort of this uncertainty principle type of thing that's there and and sort of I think people kind of didn't appreciate that when they wrote the original papers but this is another example of something where had you you know the mechanism design actually changes when you have certain types of private commitments so now we get to this this next question of well okay can we design mechanisms that do actually have these properties I've mainly given you a bunch of negative answers right so those negative answers might make you think okay well I guess we're back to the Molly white thing of well I can't convince my grandmom to like use ZK uniswap to buy chocolate Inu 100. um but lo and behold the last six months have had a bunch of research uh by people who have found ways to get actually good mechanisms that you get guarantees on um so this paper by Kennedy Fiat and gun last name uh uh and this is the same Fiat from fiatrimir um wrote this paper on ZK mechanisms where what you do is you have people who take public Randomness so public Randomness that could come from a blockchain you commit you force the seller to commit to a mechanism publicly uh and then from those commitments uh the bidders can send their pricing uh also committed and put up some collateral for not cheating uh and then basically what happens is the seller proves a bunch of assertions so they prove a bunch of statements that are like certain inequalities that represent in incentive compatibility so you know I could prove to you that something is a Nash equilibria uh without actually revealing the Nash equilibria it's a little bit weaker than that of course uh complexity Theory wise but these mechanisms actually provide good pricing guarantees on what such things can do so an example of this is you know an auction where you take some public randomness the public Randomness is used to commit to a private reserve price the private reserve price is sort of the auctioneer's action space like what the minimum price the auction starts at is and then people commit their bids and then the auctioneer has to prove that you know certain properties hold for those and then they reveal the bitter and so the winner and this type of system uh actually has much better guarantees than you know just the victory.xyz type thing and this is the part this is sort of this paper with me Matthias who's speaking next and chitage that's sort of relevant to some extent to this uh conference is I have this notion of preference expression or intents hopefully you saw uma's talk earlier because I think she did a better job of covering it than me or flashbots or anyone else has this done [Music] um and I think uh you know but a simple way of thinking about this is like I have these kind of multi-chain expressions of something I want to do uh and I want someone else to go fulfill it for me so one question you might say is what does the space of these intents and do certain types of auctions allow or disallow these intents and this paper we sort of proved this this fact that the set of intents you can represent actually grows uh when you use sort of ZK commitments and have collateral games and so there's sort of this interesting thing where by mixing the right types of zika commitments with particular types of collateral staking you can you can actually achieve sort of all three you know all these properties you might want out of an auction um another thing that I think people here are kind of into is order flow auctions and user Surplus redistribution and uh this is another example where these redistributions actually ensuring that they make it to the user uh relies on doing the right types of commitment schemes and the final thing I want to talk about uh is the notion of an auditable mechanism and so I think we've talked a lot about verifiability right like everyone in ZK lands will tell you about IBC they'll give you a notion that um a proof can be constructed but what happens when the proof fails how do I know which part was malformed or not misgenerated so very interesting way of viewing this is um a mechanism one way of measuring how auditable a mechanism is is how many users have to cooperate to detect cheating so what I mean by that is let's say there's a hundred bidders in an auction and the auctioneer does some action where they cheat and increase the revenue against the will of the bidders how many of those hundred bidders have to communicate and what's the amount of communication they have to do and so a very interesting thing uh that existes the first price auction it turns out you only need a constant amount of communication between the bidders to detect cheating in the second price auction you need a linear number of communication linear amount of communication between the bidders but there exists audible ZK mechanisms that can can only need a much smaller number of users to communicate to detect cheating so a lot of the stuff you've heard today had mechanisms for detecting cheating whether directly or indirectly for instance and Chris's talk about how to slash people and so this notion of auditability is actually one step further than just verifiability it's this idea that when something goes wrong I can actually figure out who cheated and how the cheating happened so the next question the last thing is like well what what how do you make products that take advantage of these that communicate to the end user these benefits and a little bit like Uma I mean I think if you thought the the maze for bridge transactions was bad just imagine sending a shielded transaction in a mobile wallet the zcash mobile wallet experience is one of the worst ux experiences in the history of this industry it's like not even clear what's happening at all and one interesting thing that can come from these kind of verifiable mechanisms is you can give these types of guarantees like confidence percentages like proving that there's a confidence interval you will receive this rebate at the end of you know the intent being executed auditability again like showing that hey when something goes wrong here's how we here's what happened and and being able to present that to the user so I think the the applications that sort of benefit will benefit the most order flow auctions uh of course which there's a lot of I put matching markets here and this is sort of a bit of a a joke to some extent um so matching markets of course are how kidneys are matched to donors um but the more interesting thing is that the nft marketplace especially on the lending side has moved to matching markets and is way less pooled markets so we're going to start seeing people want uh some of these verifiable guarantees there and of course the last thing is auditing some of these things and again auditability is a strictly stronger standard than verifiability so I think there's there's some of some of these you know I didn't go into some of the details in these research but some of the interesting things you find are sort of almost computational complexity type of things that happen so in our auction result in this intent result there's sort of this idea of I have an auction that satisfies all three of these properties seller incentive compatibility buyer incentive compatibility and Boundary communication and one question you might say is like what is the set of utility functions that users participating in the auction can have to get all three of those properties and what we show is there's sort of an exponential separation between the the set of those that you get when you use the K commitments versus the set without CK the other two are sort of more engineering things and I think of course you know I don't think there's any zcam L talks here but there have been a bunch of those recently and these are sort of I think the natural next steps so the final conclusion um you know I think ZK and fhe if you smartly with economic incentives not just toss ZK in and hope it works uh can improve theoretical and practical guarantees um there's sort of some weird new complexity class communication complexity thing going on that is not totally clear so if you're through a you know theoretical person I think that that's like one of the most interesting pieces of this almost the way like you know Papa Dimitri found peepad by accident I think this is sort of going to end up being that there's like some type of class that gets found these improvements definitely can make their random practical applications I think Mev is clearly the the laboratory for testing these out but I think for the the AI type of stuff and ml stuff there's definitely a lot that this is good for and it's sort of our job to not just be in the verifiable future but the auditable future because I think the auditability is the type of thing that you can actually convince a user is worth paying for not with that that's it [Applause] 