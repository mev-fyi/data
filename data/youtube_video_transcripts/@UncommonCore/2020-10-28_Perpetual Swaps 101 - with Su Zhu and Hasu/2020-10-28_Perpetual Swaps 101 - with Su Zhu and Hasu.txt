welcome to uncommon core where we explore the big ideas in crypto from first principles for today's episode i sat down with suzu to learn all about perpetual swaps there is probably not a person in this space who has more authority on this topic than him the first half of the episode serves as a general introduction to perpetual swaps while in the second half we explore how perpetual swaps are coming to d5 and why they are the single biggest primitive that is still missing from the d5 puzzle while the episode can get pretty technical at times we try to follow a logical build up so no prior knowledge should be required please note that i put some links to definitions and follow-up reading into the show notes enjoy the episode to start out the discussion too what is a perpetual swap and how does it work perpetual swap is the idea that the buyer is buying a synthetic exposure to an asset and the seller is selling or shorting exposure to that same asset so the the word perpetual there has a important meaning which is that it has no expiration unlike a futures contract where it'll have a predetermined date at which the derivative no longer exists and gets settled a perpetual swap seeks to maintain the exposure for the buyer and seller perpetually and so that that is an adjust what a personal swap is there's a lot of different ways that it can be traded and there's a lot of different ways that it's structured but fundamentally it's a way for uh participants in the market to come together and exchange risk yeah so maybe just slightly rephrase what what you said so for regular futures the um the price of a contract tends to gradually converge with this the spot price or the index price as expiry comes closer right um but this is not the case in a perpetual swap because it never settles so um can you explain maybe how how it is done in perpetual swaps how the um how the perpetual contract can successfully track the underlying index price sure so the arbitrage mechanism of the future is as you alluded to well well defined right because the contract will essentially define the index at which the derivative will necessarily settle on its expiry date so if it's a cash settled future that settles on let's say the t-wap of four spot exchanges then on that date everyone knows that that will be the price that these derivatives end at so from there people can buy the spot sell the future and vice versa to to replicate the risk that they're getting with a perpetual swap because there's no expiry there has to be some other incentive for buyers and sellers to meet the natural demand of the market so if the market generally wants to be long then you expect perpetual swaps to need to incentivize sellers to come in in order for that market to uh happen so there's a few ways that professional swaps can do this uh the most popular way in cryptocurrency is to have a scheduled funding payment between buyers and sellers so in that example if people are bullish then swaps will be generally paying positive funding payments whether every eight hours such as in the case of bit max okay x and what b or every hour in the case of ftx and trading futures and then continuously in the case of darabit but just in general the idea that the buyers are going to have to pay the sellers some amount of money every period in order for the seller to stay in that position so so that creates a arbitrage opportunity for the seller right because the seller can come in and short these perpetuals buy the spa and now they have essentially a crypto dollar right they've they've regenerated the exposure of one dollar and they're collecting interest while doing so and if they collect an interest rate that's attractive to them then they're happy to be in that position and if they're not then they'll unwind it so that that didn't exist is kind of how professional sauce became very popular because you could uh you could buy or sell a professional swap and know that your exposure never disappears right so you think you're talking for example about the case where i deposit btc on a derivatives exchange so i'm long my collateral and then i sell the perpetual swap contract for the same position size as my collateral and thereby neutralize my long exposure and create um a crypto dollar correct yeah exactly okay okay so for the funding rates so a mental model that i that has worked well for me was to not actually see this as perpetual at all but just um imagine that so let's say in the example where you have a funding rate every eight hours to just see these as distinct futures contracts um that settle every eight hours and then you're automatically rolled over into into a new future so do you think that's a sound model it's not quite it's not quite the model i would use i kind of i get what you're trying to get at but i think the main difference is that in the case of a cash settled future you know that the swap will converge to the index price whereas in the case of a perpetual you don't know that the raw price will converge to the index in fact when the market is very bullish or very bearish that price will not converge but you will get paid something in view of conversions in these formulas they've been generally made quite aggressively to pay arbitrage because they want to protect the integrity of their market and the trust that people have that it will track the index that it will track the underlying so these payments are large enough that they seem like they've essentially paid for the difference between the swap price the the observed swap price and the observed index price so i think you're right but i think there is some nuance there where it doesn't have to converge gotcha gotcha so there is this um persistent myth um that i also i also uh subscribed to for some time before like learning uh what's actually true that um perpetual swap contracts were invented in the cryptocurrency space but but you actually told me that it's not true so can maybe give us a quick overview about the the history of the perpetual swap contract sure so i mean it generally depends on how specific we want to be on what is a perpetual swap right some people might say well special swap in its modern sense was invented in crypto some people might say well it has a predecessor or it has a ancestor which is the idea of an index swap or equity link swap basically the idea that two counterparties meet in the market and decide to sign up paperwork to exchange cash flows right that that's pretty much all the professional swap is so if you take that sort of philosophical view of what from swap is then obviously they've been around for probably 30 40 50 years right because since the beginning of the modern financial markets there's been a lot of demand for sophisticated counterparties to make their risk exposure synthetic rather than actual and these reasons range from tax efficiency to capital efficiency to more broad offshoring of risk there's a whole host of reasons why participants wanted this in the odc markets but the reality became that the the vast majority of for instance equity exposure of european funds into asian equities is not via owning asian stocks it's via owning equity swaps so these swaps will be collecting and receiving payments based on some criteria and the buyer gets exposure to the index the seller gets exposure to the negative index so the sellers are typically banks right investment banks they'll sell these swaps and then they'll buy the underlying markets okay and the most common benchmark is the msci index the morgan stanley composite index so you know there's trillions of dollars in these indices and these swaps are essentially perpetual swaps because there's a funding payment uh it's benchmarked to libor plus mind is something and there's also an index and so right this concept is not new this concept is not new right the main reason participants like this is because there's no need to roll it right there's simply a payment uh so the problem with the problem with futures is that participants need to constantly re-meet in the market and roll their position and that that creates a lot of uncertainty because what if that market shifts very quickly what if that role is not available and so as a result you you tended to see uh in the retail market as well uh a key predecessor would be the contract for difference or the cfd and this is a very popular market in the uk and australia pretty much in markets where cfds also get its preferential tax treatment because they're considered bats and gambling is sort of lionized in the anglo in the anglosphere basically it's not taxed from that yeah so you know the idea being that if you're if you're a sports bettor shouldn't be taxed on winnings because you're negative uv anyways and right so but but then as a result you know when you invest in stocks you do get taxed because governments tend to think that when people make money from investing they should pay some of that back so it's kind of an arbitrage because now if you say well i'm not investing i'm betting that the number will go up then they say okay well yeah then what do i do so as a result cfd is very popular in these countries and same concept there's an overnight funding rate uh you know one one key difference is that usually these are not peer-to-peer but these are period dealer customer to dealer so the dealer sets the funding rates the dealer takes a bit of spread on that funding rate and uh that's it's not a it's not a peer-to-peer market in the japanese market perpetual swaps are also very popular also known as cfds in that market because again there's no expiry and you could consider the entire fx market to be a perpetual swap market as well because there is a funding payments exchanged every day they're called the tomorrow next swaps tom next swaps basically the payment that you receive or pay to be long let's say dollar versus yen euro versus usd these are all payments that uh are now against the funding rate payments and in the in if you're in the inner bank market then it is almost like a peer-to-peer market right where there's no bid ask you can exchange it at the same price you can buy and sell the same price and your exposures are carried forward through time so so i think that that being the backdrop i think the explosion of crypto perpetual swaps uh was made possible by a few things happening at the same time i think one was that spot markets became close enough in line that you could start constructing indices of them to benchmark or swap against because that wasn't always the case right there used to be five ten percent arbitrages between spot exchanges and it'd be very difficult to construct such an index to that you'd want to benchmark too i think when bitmex launched their swap they had to change their index radically several times right like first they had bitfenix in it then they took it out they had okay coin and they took it out then they made it just coinbase and they made it just you know it was at that time it's very hard to figure out what that should be i think also professional swaps became a strictly better product than what at that time was the weekly futures on ok x so before before perpetual swaps everyone traded the weekly ok coin or ok x futures and as well as their quarter lease but the problem with the weeklies is that retail clients often forget to roll their positions so if you don't if you don't remember to let's say sell your expiry one week and by the next one week then on friday evening you'll you'll log in and you realize you're not long anymore you you've already gotten expired so quite often then quite often then the market maker would actually analyze this and then say hey you know 30 percent of open interest is not getting rolled you know what'll the price action will often be that it you know it gets dumped into the expiry print so anyone who doesn't roll their their and if you're alone let's say you're synthetically saying that you're going to sell your position at any price right because you didn't roll yeah you're forced by our first seller you're yeah you're basically when you don't roll it's not that you're doing nothing you're you're giving the market uh a market order that that's what you're doing so you you see basically the market tank into the expiry print and then moon right afterward uh there's a very common pattern at that time because the market make us realize that this is how you make a ton of money right you slam it down and in theory they should be defending spot right because if you're letting your lawn expire you're basically if you're market neutral you're presuming you're you're saying the market that you're gonna now bid spot to replicate your exposure back to get your your long back right so if you don't defend spot then the guy who's has the opposite position to you he's going to smash especially smash the print in his favor against your position right he's basically selling your position as low as possible so you're you're synthetically selling that print okay so and like a lot of people in crypto talk about the like trading around these um expiries of uh i guess weekly or monthly futures on cme so is is that basically what you described yeah so it's similar i mean the cme print definitely very important i think i think not just uh psychologically but also from the flow's point of view just in terms of if people don't people don't roll futures right and sometimes people don't what they're saying is that they don't want to have it anymore they don't want to be long anymore they want to be short anymore and that that's treated as a as a market order that hits the market so sometimes this can be very big sometimes it can be very small and sometimes people can see this and then anticipate it so there's definitely game theory too you can't just say because of this then that market's dynamic right but um there's a lot of uh important things happening on that print essentially there's a lot of risk being exchanged or not exchanged based on that print and just to give an example of how it's hard to interpret sometimes right let's say someone has long lot of futures on cme and then they seem to be expiring them so they didn't roll them to the next month uh but they could be now buying spot during the tl the t-wap window instead as a passive client so that's actually what some of these guys like paul tudor jones and and some other macro fund managers supposedly did which is that they wanted to get in fast because they thought bitcoin was gonna move so they first bought cme futures because that's the easiest way to access these and then later they said well i want to actually get the bitcoin spot how do i get that there's a couple choices right one is you could find someone to trade the future versus spot with you because you already let's say long i don't know 200 million dollars worth of bitcoin through futures it's a bit annoying to transfer that into spot right well it's not actually that annoying because all you have to do is let your futures expire and then as in the in the expiry window in the you know the expiry uh definition you then buy spot bitcoin every minute to get your exposure back and you have no slippage right because the price that you buy spot at is the same as the price that your futures are defined to expire at so so in a way that that mechanism is very powerful and so when someone expires their lungs it could mean that they're not they don't want to be long anymore or it could mean that they're going to switch it into spot which is also very bullish so just to give an example gotcha so do you think that the perpetual swap contract is strictly better than monthly or weekly futures and as a result is it going to completely crowd out that form of contract i think it's not strictly better i think it's definitely an improvement versus weekly futures for retail i think it's a very good retail product i think for institutional players or for uh more sophisticated players they also need month-end features they also need quarterly features a good example would be to hedge options flows right so options typically concentrate around the month end and the quarterlys and if you're an options market maker you definitely need to trade a future that is in line with your options expired because if you if you just trade perpetual swap against it you're going to be in big trouble if the funding changes a lot because you have to price in how much swap funding you expect to pay or receive over the interval of your options life right and so so that that process of pricing it in uh you're going to want to see how the actual month and future were to be traded to price it so so that that's one and then two is that if you're let's say a miner if you're let's say a a spread trader you you generally want to lock in the duration of your positions in line with your your actual cash flows right so yeah let's say you're gonna you think you're gonna mind this much vtc over three months you probably just want to sell the future and be done with it you don't want to sell a swap and then have to deal with checking if the funding is in line with what you expect you know you kind of just want to do the you kind of just want to do the simplest trade so there's always going to be a lot of demand for quarterlies the quarterly open interest on the chinese exchanges is very high on would be an ok x it's actually if you sum those up it's usually higher than bit mix swap and and the even after introducing swaps the quarterly open interest is still much higher than for swaps on those exchanges so there there's clear long-term demand for trading quarterlies i think the weeklies have been generally uh dominated by swaps and i heard some rumors that they even wanted to deal this with uh weeklies because they just thought it's uh bifurcating liquidity and there's no point to them anymore so yeah okay yeah that makes total sense so whereas the perpetu the feature of the perpetual swap is basically that you're automatically rolled over um or that it never expires a feature of the weekly or monthly is that it does expire when you wanted to and so in both cases you you save mental and financial transaction costs it only depends on what you actually want okay yes exactly interesting so i want to go go back to one thing you said earlier about the early days of bit max and how they had to reconstruct their index multiple times and so on so a lot of people say that in in blockchains in d5 in particular the oracle problem is an intractable problem that can never be solved but isn't isn't the the problem of index construction exactly the same as the oracle problem it's exactly the same and so i think to say the oracle problem can't be solved it's clearly is clearly i think a very either theoretical statement or a very ignorant statement because i think the oracle problem is simply how do you bring the needful information from observations to subtle financial contracts right so this is already being done in the in the centralized finance space for quite a long time and the fact that there can be issues with this does not imply that it cannot be done relatively correctly and usefully for people i think that that's where that's where you know the for a long time there was the idea that well the oracle problem is intractable therefore d5 cannot exist yeah but but if you just zoomed out you could make the same statement and then say c5 could not exist but clearly it does exist so so so clearly there is some kind of uh strange there's simply it's simply a question of how do you how do you map the how do you map the trustworthiness of index composition in the real world into the uh into crypto or into blockchain and and i would point out that you know for me i'm aware of many inefficiencies that have occurred on c5 index constructions right when i was at bush bank as trader as a prop trader you know there are people sitting around all day trying to try to think about how do we arbitrage index construction right there's an entire desk that will say okay we're going to bet on what things will go into the index we're going to abuse the fact that this stock is more likely to enter it and by pushing it up it is even more likely to enter the index all these games right and you even saw it recently with some of these uh chinese companies where they know how msci and ftse do their definitions so they create a shell company and then they basically do everything that's needed to get it into some of these small cap indices then into mid cap and then a large cap and then i forget the name of the stock but there was some stock where they managed to get this into one of the biggest indices and no one had done due diligence this is a real company right that they had actual stuff going on and the stock went down 99 of the day i'm sorry the index providers said we're going to look into this if this is a real thing or not and they're gonna look into it immediately when then i never said yeah he looked at and and and the fascinating thing about that was that that was the week before it was about to get included in a very big index like an even bigger one and so there were some funds that were betting on that inclusion and because that flow would have been very big because people will be forced to buy the stock if it gets included then people were betting that this would get included because it fit all the criteria but then somehow before that happened you know dnx came out and said nope we've changed our mind we don't want it you know so so c5 indices they're just trying to achieve a goal same as d5 oracles they're trying to achieve a goal of saying we're going to bring in this information and it's going to be useful for settling these contracts and people generally understand how it's going to go down and what the goals are but there's the i mean there's always a requirement to zoom out and ask have we achieved the goal and if they haven't then there's there there's always room for humans yeah yeah yeah i agree i i think that um that's probably the going to be the future of oracle's as well right so you have you have a definition of what an index or an oracle are supposed to do then you have a human looking at data and cleaning the data so it fits the goals and then they submit the data on chain or in whatever way it is supposed to be used so yeah and um so to um to to to end this section on uh i guess the history uh of uh perpetual swaps i i'd like to move into d5 so in the past in crypto i i you could i guess you could say the perpetual swap is the killer product so far in the crypto space would you agree with that yeah i think so yeah and i i think nothing else has seen this kind of adoption especially from from retail but it has been surprisingly quiet around perpetual swaps in d5 and today we want to explore a little bit if that's going to change how that's going to change what you can look forward to so what different approaches exist to create um perpetual swaps in defy and um what what projects may be uh about to launch in these categories sure so i think d5 purp swap projects they generally can be divided into two distinct types the first being central limit order book driven and the second being automated market maker or amm driven and it's a bit of a mouthful but essential limit just means that some participants are posting bids and offers and amending them as the underlying markets move continuously so this would be venues like dydx upcoming to rivadex a few others in that kind of vein and the idea there is you're almost mapping the centralized exchange experience into d5 right so when you trade on bitmaps for derivative ftx that is exactly what's happening right there is no automated market maker there are just real people putting in bids and offers all day long and through that process when the bid of one person is higher than the offer of another a trade occurs right the matching engine sees that and submits a trade ticket submits a fill to each side and life goes on so this approach this approach has some strengths and weaknesses right for for uh d5 i think the main strength is that it's simple you're just trying to say i'm going to be decentralized bitmex i'm going to i'm going to let people exchange risk in this way and uh that that's quite simple i think that uh the the downside of that is that you're now taking a workflow from you're taking a workflow from centralized markets uh and you're trying to put it into your and say that it'll somehow be more useful to people because it's decentralized right but you're giving up a lot in the process you're giving up the fact that well for one possibly all these orders are being seen on chains so they could be front right right you're also giving up a lot of latency you're also giving up a lot of performance right uh you know centralized exchange matching engine might be able to handle a million requests in a second whereas there's no blockchain that can handle that so it's it's kind of that that'll be the main challenge so for the ones that are going this approach they're thinking very heavily about how do we scale right how do we uh scale how do we do off-chain matching in a way that people still trust uh that still default enough um so so that approach i think is is fundamentally a bet that the scaling will be sufficient to create the experience that is good enough that you know users that don't want to use kyc users that want to be able to just use a web wallet get in and out they'll be familiar with that and so the advantages is that they'll be familiar with how it works in uh intentional decisions already so crm would be another one that's in that category right the serum will be based on solana and uh they're backed by ftx which would also bring that expertise from central women order book trading in as well but again you have to you you have to create a user experience where they're saying this is actually really good and really useful versus what i can already do on sx on a centralized exchange so the second the amm approach there's a few projects in that space future swap perpetual protocol synthetics itself uh and and these are saying okay well why don't we take the d5 primitive of the amm the automated market maker and say people when they come into our order book and they and they want to buy or sell they they don't need to wait for the other side to be there there will be a pool of capital waiting for them right and that pool will trade against the client and there will be token holders who are backing this pool and then they can hedge themselves in any number of ways so so this approach uh is trying to more more explicitly tease out the advantages that define might have over a c5 right which is that it could commissionlessly create this big pool capital that sits as the market maker yeah i want to get into the uh the advantages of uh what perpetuosops could do in d5 versus c5 also a little bit later so sure um but to to maybe for our for our listeners so in a previous episode where you gave me an introduction to d5 in general you made the distinction between peer-to-peer contracts or peer-to-peer trading and peer-to-peer trading yeah and uh so pete p2p is the central limit order book right and peer-to-peer is exactly this am model correct yes absolutely okay so i um i guess not a lot of people including me have thought about how you actually use the amm model for perpetual swaps because like i'm trying to think um how you would like in a regular pool where you swap assets you have this you basically have a pool of of two different or even more different assets in uh in a pool and then people can put in one asset and take out another and the ratio in which they can trade these with the pool changes so i'm kind of struggling to envision how this would work for for swap contracts yeah i mean without getting too technical the the easiest way to think about it is imagine that you and i and some other people we opened a bitmex account and we deposited our money together right and we said this strategy will be whenever someone comes to buy we sell to them and then we can all see we can all log in and see what the risk of our position is and we also can calculate what percentage of this account we contributed and from there you can imply what your risk is right so let's say the account you know let's say it's just you and me and we shorted one million of uh of ptc usd swaps then you would say okay well you're now short 500k and i'm sure 500k and you would if you wanted a hedge you would then go and buy a spot yourself and you could say okay now i am hedged and i have replicated that risk uh so that i mean that approach clearly works because the the people in the pool are arbitragers fundamentally and they're getting their fills automatically rather than having to post liquidity in the order book so it's it's it's called you can think of it as a virtual amm it's not a real amm in the sense that it's not like unit swap where the aggressor into the order book is actually removing some assets and contributing others right there are no real assets being exchanged instead there are positions that generate p l that are getting given to accounts that are being given to participants whether they like it or not these positions get given to you so synthetics really is a virtual amm right because as a as a mentor as a mentor in the system you have no control over what people will do you know you you kind of know what people generally do but at any point in time someone could do something totally weird and your exposure is changing before your very eyes right so that that that means that the you know the biggest mentors i mean we're one of the biggest mentors on synthetics the biggest mentors they're calculating what the pool what the pool is doing and what the risk of that pool is and then hedging it right and seeing you know are there incentives to to mint the opposite risk to neutralize the the overall risk of the pool because some of these protocols will be paying incentives for you to bet against other people that have come in right so let's say there's only buyers right well then probably all these amm protocols will have a way to incentivize you to come in and say okay we're going to actually pay you to short on our amm yeah because if the amm can attract an equal amount of buyers and sellers then it actually has no capital at risk right it's done a middleman it's officially become uh the uh peer-to-peer it's negotiated peer-to-peer right uh it's intermediating a peer-to-peer transaction so that that's kind of the dream of all these virtual amends which is that it can through through incentives uh balance that risk so that the mentors or the contributors to this uh amm pool have the least amount of risk yeah okay yeah so i've i've long i guess waited for time to ask some questions about synthetics because i've never really looked into it but so the way that i understand it is um it's not it's not directly peer-to-peer in the like bitmex sense where like a long and a short meet and then the contract is created right so it all starts out with an exchange and correct me in a bit if i'm wrong it starts out with an exchange where you can trade these virtual tokens that represent the pna basically um and and that and via that exchange and via the price discovery the market can signal that it wants like it it wants to buy like long tokens or short tokens and then this other group the minters can go and deposit collateral and mint against that collateral the token that is demanded by the market and then sell it and to to tell if that makes sense for them they they would have to um basically see at what price they can can hatch the exposure is it roughly accurate uh it's it's got the main strokes right it's the mechanism that uh that that is used uh is a bit different basically what it is is as an snx holder you then you then can mint susd right susd is the baseline of the ecosystem when you mint susd uh you are now taking on your pro your your pro rata proportion of the global pool of all assets minted so if everyone else has minted s usd and then immediately bought as eth synthetic ether with their susd then if you just meant susd you you are now short ether because the as the price of ether goes up your debt to the system will go up so if you if you mint susd and then you immediately convert to what everyone else on on aggregate holds then you have no risk because you have converted to those assets right so that that design is is essentially making it so that most people end up minting ether or not mincing they they end up buying synthetic either because they're bullish on ether and also because everyone else is minting it so that also creates some problems for people who let's say are only trying to uh you know mint they they want to admit soc but then they want to use it in some other way right so in synthetics there's uh initiatives where they want to encourage people to come in and mint inverse either or meant inverse btc because there's also a lot of sbtc that is being uh traded into and so and before before you uh go into that so or for for every um s east that exists there must also exist some inverse s no no there doesn't exist this and then because it it's getting a little bit convoluted i guess i guess the the simplest way i can explain it is if you if you imagine a pool right this pool is not balanced by nature who is underwriting the performance of these synthetic assets well it is the people who own snx they in order for them to claim their weekly fees they have to get their collateral ratio in line right now it's a 600 percent collateral ratio for instance so that means that if their debt goes higher than a certain ratio against the value of their snx then they can no longer claim rewards right and when they are in this system they are betting against everyone who is minting synthetic assets right ah okay so yeah so the um the basically the the uh the other side is not tokenized yeah you could say it's virtual or whatever it's implicitly taken by the the snx collateral holders the mintus aha okay yes that's right so so it's a virtual it's a virtual amm system that's not leveraged so it's not a perpetual swap system yet they've announced that they want to go into leverage as well and so that'll be another big product in the market something that i i like a lot about d5 is the ability to like to tokenize any position that you have with any particular depth and then use it in a different one so do do all of these upcoming systems that you described allow you to tokenize your your perpetual swap position and withdraw it and use it somewhere else i think they'll all want to for sure because the biggest upside that defy perpetuals have is that they can interact with all the stuff that's already in d5 right whether that's you know swap pools balancer pools you can imagine stuff where you can imagine stuff where if there's a 50 50 pool of ether and uh a short eth perp then that's actually now a crypto dollar right that that pool token is now uh equivalent to a dollar or you can imagine you know on on wi-fi right you you could imagine that uh that uh vault could be a vault where the strategy is to sell eve to usdc or sell it to yusd and then yields farm with that yusd and then also by eth perp to maintain that heat exposure and as the market goes down they would automatically take their yusd and use it to re-margin their eth perps that they don't get liquidated you know there's all sorts of things that you can imagine happening and so i think that's part part of the reason why you know we we've been very bullish on divine perps as a key primitive because it's really it's really can eat a lot of the things that people currently think of as being indispensable in d5 i think you know yeah yeah the idea is okay if people want leverage on their youth if they want to be able to borrow against it well one way they do it is they put up their heat and they borrow dollars but another way is they could sell their eat all to dollars and then buy a per right and that's actually what c5 traders do a lot of c5 traders they mostly hold dollars and then or stable coins and then they buy perps uh but i think one of the big reasons why ftx did so well is that they recognized this they recognized that hey actually in crypto not everyone wants to hold bdc as collateral they want to hold their own coin or they want to hold dollars as collateral and they just want to trade right and so here here you're giving people that same upside where they can hold whatever collateral they want they can put on whatever positions they want very efficiently and so i think i think in general the ones that are going to be able to benefit more from composability will likely get product market fit much earlier the ones that are going less composable more scalable because if there's an obvious composability scalability trade-off at the moment in the way that ethereum has been developing i think those will take a different route to adoption but that may also bear fruit in its own way if they're able to create an experience that is really rock solid for users that makes it competitive with centralized exchanges yeah yeah i would like love to go a bit deeper into this idea of creating stable coins or crypto dollars so i have a couple of friends who receive payment in btc and instead of selling it i recommend it to them to instead deposit it on bitmakes or derebit and converted into a high-yield crypto dollar basically doing the trade that we discussed earlier and i i think this has insane potential if it if we can get this in d5 so i i would like to explore a bit like how exactly it would work so in my mind for example we would have you would have rep btc and then you would have a short btc token that that represents basically a short position on one of these perpetual swap exchanges and what you you you could then wrap these two into a new token that is basically a pro class crypto dollar right then you could go even further and lend out the original long btc to earn even more yield so you would have basically the yield from the short position if the the market is bullish you get paid positive funding and you get paid yield from supplying it on ave or compound and you have a stable coin and it's in one token and it exists on chain i think that that is in my view a killer use case so do you think that this is going to crowd out to a degree existing stable coins given that this is also trust minimized right there's no central issue yeah i think it's not going to crowd out because as i mentioned before in a different podcast there's a huge demand for staple coins that can be converted to fiat very easily usdt or usdc so it's not a winner take all game in any way but i do think that these stable coins are very cool and they could they could make it less appealing to hold shall we say uh algorithmically balanced stable coins there's less of a need for a algorithmically balanced table coin or the network effect because there's just no need right you you can easily create a meta stable coin that is earning the best yield across many things i think that gets back to aggregation theory right which is that you know even with all these perp swaps then you can imagine once these are all out in aggregator that comes on top and says you know if you want a short pdc usd or ethiosd i will automatically rebalance your short across five different perp exchanges i will find where is the most attractive and then with your long leg i will find the leg that is that is the best and then i will then wrap it for you in a stable coin so then oh yeah when people are seeing this they may just deposit a stable coin this may be a y vault right it may be a vault yes i was just going to say that yeah it's basically white talking for perpetual swaps there's there's a lot of uh there's a lot of cool stuff that can be done and really it what it's doing is it's automating what people already do in c5 but it's making it accessible it's making it very simple to understand and it's trust minimized right and mostly people can withdraw it from the exchange which they could never do right they can transact it you you cannot you can create a crypto dollar on bitmax but you can't send it to someone else exactly you can't send your account to someone else right you have to take the coin out you can't give someone in your position in bitmex but you could do that in d5 you could give someone your perpetual swap right do you think that bit max and derebit and so on will have to um enable this i'm not a believer that d5 will kill all applications of c5 i i think that there is a lot of value to what's what what's happening in cfi from the point of view of of they're already they're already mapping what's happening in traditional finance but in a very agile and very uh regulatory arbitrage way so in a sense they have you know one million orders per second they create that experience where you can trade huge sizes against other counterparties you can create huge sizes against retail uh that that kind of experience i don't think is that disrupted by d5 actually because that experience has different it's ultimately optimizing for different things right so there will there there will be parts of the c5 experience that are highly attackable by d5 and i think we've already seen that right i think altcoin trading is highly attackable by d5 because these all coins are already a liquid as hell on centralized exchanges if they're not even that much more liquid in d5 they're probably less a liquid because there's all these people putting it in pools to try to earn some money so you you you kind of already have beaten many all coin exchanges and i think that's why you're seeing suddenly all the top exchanges list all the e5 tokens as fast as possible without any feed because they're terrified of the idea that people don't even bother depositing and in fact people withdraw from centralized exchanges to try to buy d5 tokens it's a pull factory to defy right where uh all the unit soft tokens going up a lot people start saying why am i even trading on central exchange where these tokens suck and the ones on d5 are awesome so i think that part of c5 is heavily challenged i think staking assets as well and governance based assets as well you know if you put it on exchange you're you're losing tons of the functionality right if you hold certain assets on an exchange you don't get the rewards you don't get the right reward rate you don't get the right uh governance rate and all these newer d5 projects they're making it explicit that they want you to participate in the governance they want you to participate in what's happening and they reward the ones that don't and they inflate away the ones who don't care and through that process i think it makes them stronger because it it it compels the community to care about what's happening and not just bet on number go up or never go down so i think yeah those parts those parts of d5 are are very threatening to what's happening in c5 i think that in the perp space the [Music] the capital that's currently in cash and carry trades that's in these kind of things those can also migrate to divide as well and people will in general get a cheaper cost of leverage than they get right now because they'll their desire to be long will be matched with people who just want to own the table close right in theory anyone who's long stable who just owns people coins anywhere they could be a provider of leverage to someone who wants to be long either or long bitcoin right because that dollar can be used to create the uh to to be swapped into a risky asset for them so i think it it bridges that vast expanse between the trillions of fiat and dollars in the market and the demand for leverage so i think that the frontier would be the ones where you're trying to compete on scalability uh with centralized exchanges with these very fast market data these very fast co-located servers i think that that game is a game that will be the last uh if ever that that defend would come for no something you said earlier i thought that was super interesting because i never realized that defy tokens tend to have an ongoing proof of work for the user but it's not just the moment they are mined initially or created initially that there's a proof of work but if you're a holder of these tokens and you don't want to get diluted then you have to perform a constant proof of work basically for the entire duration of the the asset it's just kind of crazy um yeah so um about another trade-off between um d5 perps and c5 probes so we saw there a bit announced kyc so bit max announce uh kyc and um well isn't that one of the major benefits of d5 in one of the major pull factors in the future i think for a lot of users that want the centralized exchange experience but without kyc there's going to be a lot of value in the d5 perps that take the first approach that i mentioned which is the central limit that means that they can market make they can work a bid they can work an offer they can get that same experience that they get uh yeah elsewhere right so so i think there is a big set of that i think that the exchanges where uh so so i think one thing that uh is interesting is people are quite okay ky seeing if they think it's worth it and it's trustworthy so i think when when ftt did their tot when ftx did their token and you had to kyc to be able to get the token all of a sudden people were like oh obviously i'll kyc for this it's easy money right and and yeah i think i and so i think that there's yes there is the demand to not kyc but at the same time there's also people don't value their kyc very much in dollars so it's it's kind of a it's kind of ultimately it's still about comfort it's still about trust and still about uh cost so that's why i think centralized teachers can they compete from the fact that for one they they uh they have specific client bases some of them are more experienced with what's happened in the traditional cfd space right for instance an exchange like bibit their their dna is much more from the traditional retail effects space so they understand the affiliate marketing they understand that kind of kind of a flywheel and so you know there's a plurality of business models i think that that can exist in this ecosystem and i think that there's i don't see many reasons why it's winner take all in in any case uh but i do think that there will be some parts of trading that will be heavily challenged and and i think one interesting example of this is just coffee trading right or asset management uh i think a really cool thing you can do now with purp swaps is you know let's say some guy tweets that he's a really good trader and all this kind of stuff well now like in theory he could create a portfolio even cooler if it's a shielded portfolio where he is putting his positions out online and people can shadow him and let's say if he's good you know the tracker is all on chain and and people could then invest in something where they get the signal at the same time that he does so so they get the same fill right uh all these kinds of things they can't really happen very easily and centralize the chain experience you know you have to give the guy the api keys you'd have to hook up his algo to your thing and you have to trust that it's going to work i think that asset management on chain is going to be pretty big i think that uh you know y volts are kind of an example of that but there will be a lot of other types yeah i think that uh i'm more excited about the the sort of non-zero sum convex opportunities that will be created by the explosion of design space from d5 as opposed to saying you know what what things in c5 will will will be dominated strictly dominated by these i think net it improves the whole experience of both d5 and c5 another example of that would be you know in c5 right now your collateral earns nothing but when you integrate you know i could imagine a c5 exchange integrating like a d5 perp right it could include it in the aggregation there could be a market maker that brings that in and now i mean you don't even need to do that right you can just supply the into compliance and avail and supply the collateral yeah you you could absolutely do that and then and then you could take one step further and and kind of do uh kind of do more sophisticated strategies or or do more sophisticated bridging of liquidity so there's there's always going to be like a meeting in the middle then if you will because essentially exchanges what they have is a as a strength is a captive flow right they they have people that want to trade there because they trust the brand they understand the user experience the client experience they know that it's safe they want to be kyc right they don't want people to be able to randomly withdraw through a web wallet they they want there to be a very hard withdrawal uh process because if it's an institution you know on some exchanges you know we we have protocols where i have to get called people have to get called for that withdrawal to go through uh yeah the video has to be a video call so so i so i think that many participants when they're handling large amounts of money they prefer this kind of thing and other participants if they just want to click around they honestly might go fully to a d5 solution and there's a whole range in between um okay so um by the way i also um explored some of the ways that centralized exchanges can hook into defy protocols such as compound in in an article called the great race to crypto banking be putting that link in the show notes so i have a final topic that i'd like to explore we both have in the past argued that the bit max insurance fund was too large and i'd have two questions about that so first um earlier in march this year there was this huge um day where bitcoin crashed like two to three and a half k on bitmex and some analysts have suggested that the insurance fund would have been drained in this single day had bit max not internalized the the toxic flow you remember that event right yes and um did that change your mind about the uh like the optimal size of the insurance fund it definitely definitely made me think that it's not the worst thing in the world for one of the biggest exchanges to have a bit more of a larger one right i think that the the way that bit mix works with its cascading liquidations um it's uh how do you say it it definitely it definitely benefits large participants to know that there is a big insurance fund back in but but i think that the market will come to more capital efficient ways to solve this problem right i don't think that having a gigantic pool that just sits there and and uh i don't know that this is the best approach i i actually think a tokenized approach uh ultimately is better where you can tokenize the future revenues of the system something like that but yeah in any case in any case i think that you know if bimx had partial liquidation if they had some kind of a non-cascading function i think i think it wouldn't even have gone down that much because it was really all been mixed lead after a certain point right i think below four point six it was entirely been mixed lead the mx went over a thousand dollars below everywhere else and it was all arbitrary people yeah 100 that makes sense yeah i mean we were very fortunate that day because of the way that we were positioned but you know there were people trying to trade market neutral that got blown out because they were long bitmap short elsewhere and then they get wiped out on that leg so you know it's i mean it it definitely gives shorts that on that day you know they they feel good knowing that the insurance fund is there but on the other hand if you look at every other exchange that day they didn't have any problems with their insurance fund uh or any huge problems uh and i think part of the reason is that they liquidated it in a slightly different way and the prices were more orderly the move down right yeah so i think i think that bimx definitely took a big hit after that day in terms of client trust uh in terms of having their market go so low and stay so low for so long i think that um i think that big insurance funds i don't i don't anticipate there being another one i think that uh it makes being the first they managed to accumulate this when when clients sort of didn't really care uh or didn't really calculate how much they were losing to the slippage and now that there's a lot of other ways you know people now know they can get partially liquidated they're a bit on ltx where they don't lose their entire position just because it starts going into margin call i think people are realizing that like like this is real money that they're putting out there that they're losing so i think that uh i don't expect big growth in any other insurance funds yeah and to share our own book here once more so we also had an article on the design space for insurance funds and liquidation mechanisms and i also be putting that in in the show note so my my second question is and that's something we did not explore in the article but that is none that is very interesting to me is how does d5 change the design space for insurance funds and liquidation mechanisms is there anything that we can do now in d5 that maybe we couldn't do that hasn't been tried in the c5 space yeah so there's a few things you can do right that that create an embedded backstop to the system while being more capital efficient i think one is you could you could mint new exchange tokens whenever insurance fund goes negative that's kind of a cool concept right because you're using cash flows uh and meanwhile everyone else who's trading pays a cheaper price right and one protocol that does this is maker right yeah maker exactly they do this i think another another good way is through uh staking right people who stake the exchange token they bear the risk of the insurance fund going bad but they earn more of the fees so in a way they're kind of like the equity holders i think i think there's a lot of interesting ways you can handle that problem ultimately what you're trying to do is try to do a risk insurance right you're trying to insure against a move that wipes out participants to the point that you cannot pay to mother participants and that gets us back to the amm discussion which is how do you ultimately ensure that the flow is relatively balanced and that your the people who are the people who are needed to be able to back up the payments can actually make those payments so i can imagine there being some synergy with insurance protocols right where there's people that put money in passive pools that say i also want to do a credit delegation or i also want to do some kind of a delegation where i want to earn a higher yield and i'm okay being slashed if this exchange goes down or this exchange's pool goes down okay yeah i think a like a really cool development we just saw was i think i think ave proposed a urine improvement proposal which was to allow credit delegation in navi yeah and you could imagine you could imagine like in the future like other types of credit delegation regarding insurance funds for for perpetual protocols being very much about how do we how do we access that vast pool of capital that's sitting there and wants to earn more money right because that because that capital is is relatively risk seeking right it it's apparently shown the interest in forming random coins right 500 million stuff goes into random projects that are unaudited like every week so clearly there's risk tolerance here and hopefully some of that risk can be harnessed in a sort of market efficiency way that that is a win-win right so it doesn't just go into the next decentralized ponzi scheme but instead it goes into the the also risky and high yielding uh insurance fund of uh example bachelor's drop protocol but that also yields something for the greater good for like defy the default space as a whole yeah makes a lot of sense yeah yeah so um thank you for this amazing discussion thanks for thanks for the talk it was a lot of fun 