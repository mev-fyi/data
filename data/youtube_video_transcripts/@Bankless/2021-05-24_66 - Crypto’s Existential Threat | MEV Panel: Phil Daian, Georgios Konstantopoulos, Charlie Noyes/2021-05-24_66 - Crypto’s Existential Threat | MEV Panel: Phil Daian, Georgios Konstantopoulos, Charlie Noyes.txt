[Music] welcome to bankless where we explore the frontier internet money and internet finance this is how to get started how to get better and how to front run the opportunity i'm ryan sean adams i'm here with david hoffman and we're here to help you become more bankless david this was one of those mind-blowing episodes on bankless i think a canonical episode who did we have on what did we talk about today yeah a panel of three mev experts we had phil diane charlie noyes and giorgio's constantinopolis who are really tackling i think probably the biggest problem in crypto head on uh and the problem of mev or maximally extractable value also known as minor extractable value is the one single existential problem that could end this whole entire crypto experiment it could just really either just completely just kneecap why we find uh crypto so valuable or also make the whole thing just not work at all um and so those are some pretty dire uh you know you know characterizations of what the mev problem is and that's what these mev experts really illustrate this problem as and uh the really the tldr of what mev is is that bitcoin ethereum these are leaderless systems but the way that they are leaderless systems is that they just allow people to take turns being the one single leader and that leader is the person that proposes the block right at some point while there's a bajillion bitcoin miners in in future an ethereum there's a bajillion uh you know staking validators only one person at a time proposes a block and so at that moment in time that one person is or entity is separate from the rest of the network and that one person has the power to order transactions that people have signed as they see fit which gives them basically god mode over one single instance of time and that really changes the incentives that the block proposer has in relation to the rest of the system and this could be um it could be good in some circumstances it also could be massively devastating and what these mev researchers are really trying to do is to try to figure out how do we harness this misaligned incentives opportunity and corral it back into alignment with the rest of the network and the rest of the values of this ecosystem which is decentralized decentralized consensus that's the tldr of this whole entire episode and it's really the big problem of crypto guys i i just want to emphasize once again what david just said this is the problem that could sink all of crypto you know david so often like we hear mainstream media talk about all of these things that uh they they perceive as threats to crypto and they're really like not threats to crypto at all like china china flood you know nation state regulatory fund tether uh it'll never work it's too volatile like all of these things are such surface layer attacks and if they were really looking for the problems of crypto that need to be solved they would be talking about mev but mainstream's not knowledgeable enough to talk about it these people are this is the panel that's on the front lines of not just researching it as a hypothetical but actively trying to to solve mev type problems so i think this is going to be like a canonical episode it's not going to answer all of the questions about mev but i see this david as like maybe the first in a in a series of bankless episodes that we do because we're going to have to talk about this often on bankless it's not a problem that's going to go away soon it's a pernicious problem we use this analogy of it's it's kind of like squeezing the balloon right like you squeeze it a little bit in one place and just bulges out in another place so what one minute we think we have it cornered and we really don't th the other interesting thing about this episode david is like um all of the places that mev actually exists in the traditional world that aren't visible right so like we talked about uh the gamestop fiasco gamestop and robin hood and the hedge fund manager that called robinhood and essentially was a call to say hey reorder our transactions hey censor some transactions for a period of time so mev exists as a problem outside of crypto it's not a crypto specific problem but in crypto networks it's much more visible and again the gold standard here of what we're trying to build is a credibly neutral open financial system for the world it's never been done before the existing financial system is not that is none of those things but we are holding ourselves to a higher standard in crypto so we want to make sure that this problem gets solved and i think we ended with like you you asked the question of like how optimistic are you guys about actually being able to solve this problem and the panel all had really interesting answers to that hesitancy at the very least yeah stay tuned to the end to listen like to how they uh answered that question but like we talked about measurement of mev uh where it's most pernicious phil talked about his flashbots project which is just like a really cool attempt to take on the mev problem head on we talked about this transformation to eth2 what it means when miners actually turn into validators and maybe there are some incentive changes will it will it really make a material difference to mev or not the panel answers all of that and we get into like some philosophy at the end which is uh i didn't know we were going there but it's super cool that definitely fits the bank list theme so fantastic episode guys you're gonna love it yeah the the topic of mev is such a broad one that i really think the best way that you and i ryan can really help out this problem is just by talking about it more this is actually the first time that charlie noyes uh phil diane and georgios have all been on the same panel so they were actually pretty hyped to all be in the same spot to talk about it and there's a number of other people that um are definitely worth getting on to talk about this like hazu comes to mind i know hazu pays a lot of attention to mev and also carl florsch comes to mind and you talked about how we ended up on conversation on philosophy uh these three panelists are very pragmatic and very concrete but mev like like you said it's not just crypto it's something much more existential it goes into just the nature of the universe in how order of operations happens as soon as you have just like bookkeeping or even grander just like ordering problems all of a sudden like topics of who has the rights or power to determine the ordering of things and that's a very existential question and i know uh that um you know these panelists are very pragmatic and concrete carl florsch i know can take the concept of mev and like talk and connect it all the way to something as like crazy as like human consciousness and so i want to get carl florsch on and also have the same exact mev conversation uh in that kind of context and and just like you said there's so many things to talk about and i think the best thing that we can do at bank list is just host all of the conversations because the best thing that we can do to solve a problem is illuminate it and i think that's what we are trying to do here on this podcast absolutely guys you're going to love this podcast of course david and i have some further thoughts for you in the debrief that is available for premium subscribers so if you're a premium subscriber you should have access to that pretty soon as well with that we're going to talk about the sponsors that made this episode possible bankless is proud to be supported by uniswap uniswap is a new paradigm in asset exchange infrastructure instead of a cumbersome order book system where trades are matched with other humans uniswap is an autonomous piece of software on ethereum which is what ryan and i call a money robot no human counterparties or centralized intermediaries just autonomous code on ethereum input the token you want to sell and receive the token you want to buy something brand new in the uni-swap ecosystem is the uniswap grants program is now accepting applications for grants we have been saying this for a while and will say it again dows have money and they are in need of labor if you think that you have something to contribute to the uni-swapped out apply for a grant to uni-swap just look at the size of the uniswap treasury it's almost three billion dollars this mountain of capital is looking for labor do you have something of value to contribute to the uniswap dao no matter how big or small your idea is you can apply for a uni grant at unigrants.org and help steer unit swap in the direction that you think it should go that's exactly what we did to get uniswop to be a sponsor for bankless and you can do the same for your project thank you uniswap for sponsoring bankless ave is a borrowing and lending protocol on ethereum and just recently released ave version 2 which has a ton of cool new features that makes using ave even more powerful with ave you can leverage the full power of d5 money legos yield and composability all in one application on ave there are a ton of assets that you can deposit in order to gain yield and all of those same assets can also be borrowed from the protocol if you have deposited collateral here you can see me getting a 200 usdc loan against my portfolio of a number of different defy tokens and eth i'll choose a variable interest rate because it's a lower rate than the stable interest rate option but i could choose the stable interest rate option if i wanted to lock that interest rate in permanently one of ave's v2 features is the ability to swap collateral without having to withdraw your assets trade them on unit swap and then deposit them back into ave ave does all of this for you all in one seamless transaction so you don't have to repay loans in order to change the collateral you have backing them check out the power of ave at ave dot com that's aave.com all right bankless nation we are super excited about this episode we are going to dive into the topic of mev that is minor extractable value and we've assembled a dream team panel here i want to introduce our guests who we are going to have this in-depth conversation with the first is phil diane he is a researcher and software engineer with a passion for computer security and applied cryptography you might remember phil authored the original flash boys 2.0 project he's now working in the dark forest on a project called flashbots we also have giorgio constantopolis who is a research partner at paradigm before that he worked as an independent consultant georgios is a big brain follow this guy on twitter lots of big alpha leaked topics there deep in the protocol we also have charlie noyes who is an investment partner at paradigm along with georgios he is a bankless podcast alumni we've given charlie's full bio in history in a previous bankless episode so i will not repeat it here but you know charlie he is also very informed on this topic and all things guys we've assembled this dream team panel we're going to talk about mev how's everyone doing today pretty amazing excited to talk about med very excited to talk about mev all right guys so we're here talking about mev and as part of the catalyst for this conversation of course mev has been a topic that uh has been a long-standing topic um something very important in depth but one of the catalysts for us having you guys on bank list is we've read this article from a coindesk it was called why ethereum's minor extractable value problem is way worse than you think way worse than you think of course kind of a click bait title a little bit and yet you know there are some really interesting points that the author made and i think points that the bankless nation gets to has to wrap their head around this topic is incredibly important maybe it's the most important unsolved problem in in crypto or in ethereum anyway i'd like to get your take and i want to start with that question uh is mev way worse than we think why don't we start with you phil yes absolutely that's kind of why i started working on mev and why i talked about it at def con and why i've kind of anyone who knows me in the industry going back a few years knows this is like basically all i've been talking about i think mev is a very deep rabbit hole it was kind of intended as a definition to unify all these different problems in the space things like what is software security how do we secure smart contracts how do we write secure code as well as things like what does economic arbitrage and financial arbitrage look like in this kind of new domain so all these different kind of angles on the problem from software exploitation to arbitrage system design to protocol design can all be studied and unified under this one metric this one measurable quantity called mev and it was kind of designed to unify all these very lofty goals so kind of taken in its sum and its whole the whole problem is is super important it kind of underlies everything we're building in the space and underlies the security and usability properties of every protocol so no matter how you interact with cryptocurrency it's important to understand mev and understand how it can affect you your protocols and kind of the systems that you're using or designing charlie when we did our podcast with you which is one of the earliest bankless podcasts we ever did you described uh mev as the one the single one thing that could end the crypto experiment maybe you didn't use such such crazy words but it's something of that nature why do you think mev is such a crazy threat to ethereum and cryptoeconomics at large um well i distinctly remember the first time that i learned about mev i was at mit mit's crypto economic conference um i think in 2018 and phil was giving a talk and i had heard of i had read the paper um but i never before heard sort of phil talk about me in in the broader sense uh and i remember sitting in the audience and like like like just like like a pit of doom formed in my stomach and i and i was like holy the sky is falling uh this is absolutely terrifying um to answer your question though um like with crypto economics um you know in the past a lot of uh work has focused on like externally motivated attacks like goldfinger attacks and other um types of sort of like thought experiments that you can construct as to how um you know under certain conditions um like the crypto economic security assumptions of of blockchains uh of blockchain systems can be violated um so like a simple example would be like um you know if a bitcoin miner could access an infinitely liquid put option market on bitcoins then like hypothetically you know you just destabilize the chain and bitcoin is worthless because you can't make progress and you know you make a lot of money um and there are actually an infinite number of these such thought experiments like um and uh and and sort of for a long time like there are many i think there are a lot of named ones um as well and and people kind of spent time um coming up with different scenarios like depending on you know financial derivative positions that like minors could take um network splits whatever all the stuff um but all of them were essentially externally motivated and i think the reason that nobody uh was super concerned about them is because there's no obvious reason that they get worse uh over time or with scale so like there's no obvious reason why today i if i wanted to go if i was a bitcoin miner like could not practically per uh take a large enough short position for it to be like profitable for me to destabilize the network and there's no obvious reason why if bitcoin is twice as large as it currently is that that will change right um now the thing about mev that has always scared me uh and when i heard phil's talk that terrified me is this idea that it's internal to the system um that it's unbounded it's internal to the system and um like in the ethereum context um i think you could expect that it will grow over time um and perhaps even that the growth rate that the growth rate um you know will outstrip um the growth rate of rewards which is fixed and constant um and i think we have seen that happening like that trend is um uh sort of seen in practice so uh we've joked that you know mev if it is uh like the worst case would be like a crypto economic cancer it just takes over the system to take the contrarian view on this thing you charlie i think that mev can be seen as a bad thing with all the usual consensus this tabulation this destabilization kind of description however i think that mev can also be thought of as a security budget source for example if you have a blockchain that does not have a block reward you could fund the security of the system not on transaction fees paid via the usual gas price auctions but via mev so i think that it's important that we kind of distinguish that there's also this kind of angle the problem so before we get too far into this podcast i think uh what we want to do is define what mv mev is and let's try the simplest possible explanation of mev knowing that there's some people listening to this this is their first exposure to the topic and we're even throwing out an acronym like mev and they're like what so phil what is the simplest possible explanation of mev maybe i'll give two definitions i'll give you the historical definition of where mev came from and then the kind of more modern take uh the respin of the definition so historically mev uh it stands for minor extractable value it's the amount of value in cryptocurrencies that miners uh especially in proof-of-work cryptocurrencies are able to extract aka increase their own balance or send to themselves by taking actions in the system so miners have a lot of power in cryptocurrency systems they are responsible for things like choosing what order transactions were included in uh in a block in bitcoin or ethereum or other such networks they're responsible for choosing which transaction gets included or not in a block um and their job is to kind of listen on the network and to choose and assemble um and act in the system kind of based on what they see in the world um that being said they have some power given that they have all these choices of like which order do i include do i include phil's transaction and not georgeos transaction do i include georgios transaction before charlie's transaction these are all choices these are all freedoms the miners have in the system and all these freedoms taken together give them power to influence outcomes and that power is valuable so the value that they can extract by doing things like reordering transactions or inserting their own transactions with themselves kind of in the transaction or censoring other people's transactions causing other people's transactions to fail kind of any combination of all these things that miners can do the amount that they can increase their own profit that's called the mev and it's a number uh basically the idea behind me is that by by quantifying this by measuring this number precisely which is a very hard problem to do you can measure the security of blockchain systems and also how different contracts and different systems interact and compose together and affect each other's security properties and affect each other's ux's and all these kind of complex questions that you can't ask without the lens of mev you can also look at and this is why the mev was originally defined the effect on the consensus game so how does this change and corrupt incentives of miners to actually secure the blockchain which is what we're trying to pay them to do so this extra incentive to do things like manipulate the system for profit actually corrupts the minor incentive to participate honestly and to contribute to the security of the system uh by sometimes causing them to be incentivized to do things like ignore each other's blocks or compete with each other when otherwise they wouldn't and other such games so in that way mev was also designed to quantify the effect on all blockchain users so even if you're not using a system that has mev you're using the same blockchain the mev will affect you and the security your blockchain is getting from its miners um just real quick to update the definition so a lot of people ask natural questions like what about proof of stake what about layer two uh so we've kind of rebranded mev to now be maximal or maximum extractable value i think maximum is actually the canonical and what that is is it's basically the maximum value that any permissionless actor in the system can extract so for a proof of work chains because the miners are the most powerful permissionless actor and because any attack that any bot or actor on the network can do can be more efficiently done by the miners all maximal extractable value is minor extractable value they're the same definition even if the miners choose not to extract it it's still mev because it's able to be extracted by the minor that's what the definition says um now in proof of work systems in l2s you have different actors in different permissioned positions in different privileged positions and their mev kind of looks like the maximum value that's able to be extracted um by by kind of these actors or any meaningful kind of collusive subset of these actors so that was a really long explanation but hopefully it brings some color to what mev is it's great phil and look keep us honest during this episode if we say minor extractable value maximum extractable value is the better more canonical definition more expansive and accurate definition i think one quick question but before we introduce some of the other panelists into the definition of this thing and maybe give a recap of it does mev you've phrased it in in terms of the the blockchain world right but it's the category of mev type problems transaction reordering type problems censorship uh some third party having the ability to uh with that power is that exclusive to the blockchain world or do we see traditional analogs and what are those not at all i think there's a spectrum so i think the nice thing about blockchains is it's very cartesian very deterministic like you can measure a number there's not risk there's not uncertainty because within the blockchain world everything is kind of deterministic and programmatic so in that ways there's some unique characteristics of specifically ethereum mev that being said it does generalize to all kinds of other different settings so here are a few examples one of them is a permissioned blockchain you can have a fully permissioned blockchain where mev is still meaningful to reason about so one of the early myths in kind of permissioned blockchain worlds is like we're going to spin up this blockchain between like chase you know like barclays and whatever other five bank consortiums and they're all going to validate and we're going to do this round robin protocol and that's going to disintermediate trust between these entities and in some ways the presence of mev on that chain like speaks to like a break in that abstraction barrier where like just because you've started your validation doesn't mean you've reduced these problems or taken them away um so in that setting it's absolutely still meaningful um it's also meaningful in kind of the the mixed decentralized centralized settings so some mev more similar to slow market arbitrage and traditional markets might exist because of uh you know uh differences on centralized exchanges like coinbase and binance that are commonly market leaders uh and and dexes that are trading kind of within the blockchain abstraction and don't have efficient channels for price propagation other than this mev fueled arbitrage uh so that might be kind of a more probabilistic and more hybrid kind of style of mev and if you kind of take that to its most probabilistic and like most amorphous kind of form you can also view traditional financial systems that way and like quantify for various actors what is their benefit for being in their position and i think like had the world been looking at the financial system through a more mev lens things like the robin hood drama that happened with gamestop it would have been a lot more obvious that was mev yeah it was me and like it's something we've been saying at cornell and like to people i've been talking about in the space even long before that happened that like look at how these people make their money uh but why was that mev it was because hedge fund managers didn't like what was going on in the market and made a phone call to robin hood to reorder things yeah robin hood was the m basically right they controlled the infrastructure of like whose trades get processed and things like that and they did several things a they were reordering and inserting their own transactions it wasn't their own it was citadels right and like sandwiching people basically which is exactly what we see on flashbots and on like ethereum today um so they were doing that like actively the entire time and that wasn't bad that was just their business model and that was like all open in public and then yes they engaged in some more active censorship attacks when kind of the black swan happened of gamestop and of hedge funds losing money and that also speaks to how mev will play out i think in in permissionless systems uh when you see these system shocks when you see these black swans uh these systems of trust that we've built are very fragile and and they fail users at those moments at those really key moments when they need to be working and that's where a lot of the work in flashbots is going how to kind of shore that up and how to think about that and prepare for that that future as uh maybe matt levine would say everything is minor excitable value in this system um something on this i think that mavs kind of as phil's blogs have written in the past it's fundamental to having a permissionless system if you don't have mvv and you have many users trying to touch kind of the same piece of state whether that's a trade or a liquidation or anything else but if there is this kind of race condition where many people are trying to touch the same thing which has value if your system is permissionless it will have an uv if not well your system has permissions and actors and well the hierarchy is not as flat as you want yeah i guess just to i think we're going to get into this with the transaction fee section later but um i think that there is an argument that like in the permissionless context um uh like transaction fees as a necessary dos uh prevention vector uh like are the original sin of mev and unavoidable in the sense that um if you don't if you don't give folks um the ability to express preference on transaction inclusion that's a dos factor um if you do give them uh the ability to express that preference that's mev i mean not even a dos vector right if you want to design a quote-unquote fair system or equity or you know egalitarian or whatever you want to call it ideally you want people to be able to bid and express their preferences right yeah i would argue it's a necessary quality yeah right and by the way guys for for those listening in dos you guys mean denial of service attacks which is yeah essentially without transaction fees right without the ability to express preference then you can't differentiate spam from normal transactions and and there's like a fixed cost of spam although you can't outbid the yeah so so i want to back up and uh phil gave a nice illustration of of mev and i want to do the same but with different words uh the way i've heard this is that you know bitcoin ethereum crypto economics these are supposed to be leaderless systems right they're supposed to be decentralized and what that means is that instead of having one leader that bestows the right to order transactions upon either themselves or if they pick out their party ethereum and bitcoin it's kind of ideally chosen by randomness right like random hashes uh the beacon chain randomness for proof of stake and so while these are leaderless systems in the macro in the micro whoever proposes the next block has literal god mode over that one specific instance right god mode over that one block and the way that ethereum and bitcoin achieve fairness is they just shuffle around who gets god mode right and like oh you get god mode now you get god mode but the difference is when you have been bestowed the position of god mode you all of a sudden have very different incentives than the rest of the system and depending on the characteristic and nature of the mev the mev could actually keep your incentives generally kind of aligned or different types of mev and different kinds of strategies could actually make you very misaligned with the rest of the ecosystem so georgios i want to turn to you can maybe you can shine some more light and and get uh some more clarity on mev4s what would you ascribe to be like perhaps good mev that actually adds to the alignment between the the transaction order and what would you also call bad mev where the transaction order is fundamentally misaligned with the rest of the participants in the system yeah of course so a good mav extraction opportunity would be an arbitrage because when there is two markets ideally of the trading the same asset ideally would want these two markets to be trading more or less at the same price so what arbitrage do which exposes mev is that they try to make a trade on one place and trade on another place in an effort to make spreads tighter and generally in markets we like uh we like it when spreads are tighter so that's one case of good mfv another case of good mvv would be that let's say that david has a loan on maker dow or on ave and suddenly ether price starts to move against his loan and he's about to be liquidated a good mev example here could be a miner or a liquidator however um saving your loan from getting liquidated and saving you from the penalty that the liquidation penalty that you would get so there's ways basically to use mvv kind of to our benefit on that end on the opposite side of the spectrum a bad mev would be somebody censoring a liquidation transaction so or rather a debt repayment transaction such that your system gets uh your loan gets liquidated many people in the black thursday um days they called that maker dow um when the maker down loans all got liquidated at zero many people were calling that there was minor censorship for example around this this was not this was most definitely not true um but you know that would be one example where basically miners start to sense or transactions like crazy another example would be that let's say that you are on a layer two system that uses fraud proofs um and the miner just decides to censor a transaction forever you could say that all the funds um in the system could be under mev because the miner in a way would have control of them and georgios how would you uh also reclassify different kinds of mev as it relates to uh security for the overarching system right some mev actually adds to security some mev detracts from security how do you draw these lines this is a hard thing and i think that if you ask three different people you would get a different uh answer probably the ways that the mev contributes to the security of the system is um as i said earlier around how do you align the incentives of the miners to keep extending the longest chain um whereas a case for where mev can be seen as bad for the security of the system would be when the miners um are trying to they see an mvv opportunity five blocks in the past and they would execute the infamous time bandit attack where they would go in the past and they would rewrite the history so that they grabbed this past mev opportunity so i think it's a bit hard for us to kind of say this kind of mev would be good for security and bad for security because it kind of depends on how the consensus participant the block producer decides to utilize it phil giorgio said if you get three different people you get three different answers do you have a different answer yeah um i think georgio's hit some great points i think there's a little bit i would add of like one extra dimension that i think is relevant here which is like just the regularity so if you have like constant mev that's like available every block for example transaction fees approximately the same amount every block block rewards being the most regular um i think that's very different to analyze from a security game standpoint just because it's much more predictable whereas if you have something like black black thursday style mev where it's like you know blocks that just have millions and millions and millions of dollars in mev in like a very very short time period because of how quickly things are happening in the real world that introduces much more variance to like all of your security uh calculations much more unpredictability and in that way it kind of just like erodes your conclusions whether or not the outcomes are expressed um i think in general this is very much an open research question so like no one has a definite answer of what mev is good or bad for security i think what's clear is that it affects the game and like it's clear that some types affect the game more or less or in different ways but it's not clear what to do about it or or if it's fundamentally good or bad in like a stability sense in the long term yet i think that maybe shares an interesting property um with a long time ago goon had written a post called ethereum is inherently secure against censorship which essentially makes the argument that because smart contracts can do anything uh you can't constrain any specific type of behavior uh on ethereum i.e um you know if we want to implement unit swap there there are a literally theoretically infinite number of ways to do that and so there's no way at the level the protocol to preclude that kind of behavior um like the same is true in the case of mev um and different behaviors that generate it so i think that like there are certain um there are certain base cases like phil referred to uh like transaction fees that are baked into the protocol and like are able to be reasoned about in a general array in a general way um but uh like sort of as you start getting into the application layer um it becomes difficult to reason about um and uh in some senses like you you just can't know what's happening because anything can't happen and no behave no specific behavior can be precluded or even handled um you know uh differently than any other so the generality is quite difficult to reason about i agree and and for what it's worth i have a follow-up to to goon's post that you're talking about on my blog it's called on softwork security that i wrote like several years ago i think maybe two people in the world ever read it uh so i'm mostly trying to show it to charlie who likes reading my blog posts uh it's like way back in the archives and it kind of talks about this and i agree that almost speaks to like a fundamental time mev kind of trade-off uh that we've noticed uh where mev clearly relates to like fuzziness around time and global time synchronization and subjectivity around time and and and its relationship to kind of deep computer science problems uh and i think that fundamental connection is still being explored uh since you mentioned goona i also do want to say one other thing which relates to our previous kind of line which is about god mode and kind of leaders in the mev protocol um it's worth noting that that's how a lot of cryptos work today but like on a metal level zooming out like all we're really doing with like electing a leader electing a specific miner is trying to come to a group consensus and goon himself has a has a project called avalanche which works differently in which it's much more probabilistic and you kind of get an approximate consensus by sampling people in the group rather than a strongly consistent log from one leader um it doesn't matter actually so it might you might instinctually say like look at that that solved mev there's no more leader there's no more god mode there's not this privileged actor anymore um but at the end of the day like the there's still a power structure in that network and the people inside that power structure and that stake distribution and that validator set um they still have influence over the outcomes just by like biasing which transactions they announce first or which they prefer versus others or which orders they go with and even though they're not the god mode leader for that period they can still influence the outcome probabilistically so all you're doing even when you remove leadership um as the natural solution to these kinds of problems is like making it more probabilistic which is still kind of mev it's still a payment it still has all the same economic properties and implications on your consensus game uh so just something i wanted to mention that kind of slip bios that there's no like silver bullet like oh let's just get rid of this one god mode guy and suddenly we're not going to have mev it crops up in all sorts of places you wouldn't expect bankless listeners that's exactly why we're talking about mev it is such a pernicious problem something that is one of the remaining unsolved problems i think with with scaling this credibly new neutral open financial systems for the world and i want to turn this next question back to phil again because phil you've been talking about mev for years and i think a lot of people were like unconvinced like yeah okay thanks for thinking deep into the future it's uh interesting hypothetical but like if if it's coming phil where is it right and then there were some posts people like uh georgios and and dan robinson wrote this fantastic post about the dark forest i think there's a bankless podcast uh somewhere about that we'll include that in the in the show that's sort of illustrated a real world example of mev but now we're like starting to measure it and i think flashbots is doing some incredible work measuring it but let's talk about the measurement of mev how much mev is out there right now and let's let's maybe take ethereum as uh as our example here phil tell us how to measure it and how much of it is there yeah that's that's a great set of questions so totally agree with you uh you know i have been kind of going blue in the face about mev for a while it's actually been an interesting kind of process it's the i think i would say it's the first like really major kind of research meme that i stumbled on a little bit earlier than the rest of the community so like i spent a while just working on it measuring it building bots and it was like i was going a little bit crazy because i like wasn't sure if it was real or not and i know everyone who went through early mev also had the same journey because i i would like show them what i was doing and explain it and like show them code and like numbers and things like that and they'd be like wow this is a really big thing let me go like drop my job and go work on this and then they'd come back and be like well there's only two protocols and there's like not that much here where is it phil like you're lying to us um but i think you know research is about predicting the long term um and there's still so many facets of this that we haven't uncovered yet so maybe i can start by pumping to flashbots measurement products uh which is uh explore.flashbots.net and dashboard.flashbots.net um well as you're speaking i'm actually going to bring that on screen for our youtube watchers here amazing um so the first one um explore.flashbots.net is designed to measure mev activity on ethereum that's kind of outside the flashbots ecosystem so this is already pre-existing mev activity that was going on things like bots on the network placing bids with miners over the mempool uh that's what flashboys 2.0 was about the research paper that kind of started the whole mev meme um things like liquidations which charlie and georgeos just talked about things that were kind of going on before flashbots and then dashboard.flashbots.net um is kind of uh uh what is going on on flashbots so that's like very flashbots specific uh kind of mev measurements and metrics and like what's the state of the network who are the miners who are the searching bots uh what's the distribution what is the total profit and things like that so i encourage you guys to dive deep uh we're super into transparency to give you some ballpark numbers you know uh i would like like on on this explore page you can see 12 million dollars of uh extracted mev in the last 24 hours there's a few important caveats here number one we have to manually add coverage for different types of mev to this dashboard right so because there's so many different types of muv um to quantify kind of what these bots are doing and things like that is a little bit of an active effort so we may be lacking in coverage on certain contracts or certain activities which makes this number kind of a lower estimate for the minimum amount of uh of mev uh that's present in the network um well any estimates are lower sadly any estimate is the lower bound exactly yeah yeah that's the other thing that like mev in theory is like almost unbounded just because of how the problem is defined and like probably increases over time as like you have more time to like look back at the blockchain and things like that so like even what's being extracted is not what's being what's out there so like 12 million is not the amount of mev in the last 24 hours not even close like if the bots were playing perfectly if the miners were playing perfectly they probably could have gotten a lot more uh so we're kind of bounding it and we encourage people to contribute and improve this by contributing code that improves these estimates it's all open source uh we're kind of revamping also the code base right now um because you know it's a little bit too rust focused thanks to uh someone who's on this call uh who's a nice rust developer over here georges um but we're de-rusting it so that all you find folks in the community can more easily contribute context being that um when we were populating the initial database we had uh scott bigelow from the flashbot team shout out he wrote the initial like prototype of the mev inspector and then basically what i did was that i took this and then kind of rewrote the whole thing in rust which is a great memory safe like very high performance programming language i'm a big fan all the programmers in the show should use it and basically what we did was that we used that in order to be able to index like like the last two years of history like in a very short amount of time because when we were um like developing new inspectors all the time because we started with just one we started with unit swap and sushi swap but then we started adding more and more and more so while we were prototyping we also needed high performance because each time we added a new inspector we had to go back to the start of time and re-index everything to make sure we did not miss any mev opportunity then and uh but it turns out that the language is uh not as kind of widespread as i would have hoped yeah maybe um ryan if you want to pull up the media explorer dashboard again maybe georgia's you could walk us through some of the evolution that's happened over time um yeah happy too so basically we see that until the defy summer july 1st um you don't see much or well you don't see much comparatively to what we have now and the reason for that is that that's when defy summit started and all the yield farming madness also started and when all the yield farming gas fees started kicking exactly exactly exactly and also when all the exactly when the gas prices started to go up um mvv like the mev that goes to miners also went up and basically what happened over time is that more and more and more protocols started to launch and we now have seen this kind of evolution of things what we're missing in this dashboard is maker so a large um source of mev in march 2020 was major and the reason why we do not have major is because simply the auctions or rather the liquidations in major they play out more like um kind of options instead of the kind of atomic liquidation where you provide the liquidity and instantly you get an asset um in return and so these are harder to classify because they may play out on a multi-block time scale so this thing it classifies everything that can happen in a single transaction in a single block but the reality is that the actual nav that's out there it may happen across multiple blocks and so i want to zoom out again and kind of talk about measuring mev kind of at a high level you guys talk about how you guys are constantly finding new ways to classify me z mev and then going back and then adding that to the historical data and if we if we zoom all the way out we if and try and measure med more accurately it actually kind of turns into this like subjective qualitative analysis as to what actually mev is and i'm reminded of like the metaphor of like measuring a coastline right where if you measure a coastline with very low resolution from very very far away you'll get one relatively no low number but then if you increase your resolution and if you increase your granularity the coastline of a country or whatever can actually become like three times as long and so what is the actual measure of the coastline it really depends on the tools that you have available and also what the subjective analysis is for how you measure these things and so maybe one of you guys could could walk us through why is it actually not so incredibly like objective about what mev actually is and and and the process for actually measuring these things um charlie let's start with you uh sure so i think um you know maybe one way to think about it would be uh it's less a question of like what is and is not mev uh and more just a question of like what is feasible to like heuristically um kind of classify or rather identify um so the the hindsight looking change uh would not be um you know like that we um uh decided that some activity you know was in fact mev it's that we recognized it was happening uh we add the heuristic and then we look back at how much mev has been collected over time and so part of the you know lower bound estimate today element of it is um you know as we add more and more sort of uh heuristic as we can identify more and more um types of these behaviors heuristically uh then we can also go back in hindsight and see how much we how much we missed so three years from now we might look back and be like oh man we're off by a factor of 100. today correct and uh what charlie said was extremely accurate so building the software there is no kind of arbitrary rule that said this is mev this is not like some very generic thing what the software does is that it literally goes like step by step in the transaction and it sees does this match one of the things that i discussed in my call with phil last night about the heuristics that we'd want to classify for there is no like automatic thing which you know you point it to and it tells you this is mev and has a million dollars in it it's literally like very very manual so i want to stress basically that the thing that we found right now it may be like so big more bigger than we ever imagined so uh what might not be obvious to those listening on the podcast is we were showing a flash bots ui and explorer which shows one of these hockey stick-like growth curves that we are so familiar with in crypto but this is a depiction of mev growth over time right and georgios was saying it started in defy summer at that point in time about you know three and a half million or so total mev was able to be measured now flash four to today we're at uh over half a million uh sorry half a billion dollars in mev i i want to ask this question to to phil maybe is this sort of what you predicted kind of a hockey stick like growth of mev and what accounts for this growth like where's it all coming from is it the case that because the ethereum economy is booming and defy is booming we get all of these new mev opportunities characterize that for us phil so in terms of what i was predicting i'm actually terrible at making predictions and like my track records of uh like you know investments and like being crypto for a long time is like very much proof of that so i didn't really have any pr any intuition on the trajectory i didn't know whether it would take like one year two years five years ten years uh it all happened kind of a lot quicker than i expected uh it seemed a lot slower at first but like in retrospect in the last like two or three years it's been all a lot quicker than i expected i think um the only thing i predicted was that kind of the incentives were set up that like ultimately this would be extracted and there was no kind of way around that that was prediction a um prediction b was that there was a big chance that it would be centralizing uh on the network uh if you had certain specialized actors people who used information asymmetry uh actors like hedge funds in traditional finance or other kind of uh silos of knowledge i thought those were all very possible and that those would become the most competitive miners if nothing was done uh to kind of distribute rewards or otherwise redesign the system because those miners would be more profitable than other miners and it would be in their interest uh if ethereum especially stayed on proof-of-work long-term to kind of centralize power to themselves and use that competitive edge to drive others out of the the minor and mining pool game um and we have seen that to an extent we've seen mining pools like ethermine uh kind of picking up uh projects that would indicate that they're working towards that direction so i think those were kind of my main predictions um and also that all these things would kind of harm user fairness and cause financial loss and that people would continue carelessly designing systems without thinking about mev uh so i think all those have kind of somewhat come true i hope that in the future uh as as the problem is accelerating and i think the mean is taking off much more than i ever thought it would that people think a lot more carefully when they're developing daps on kind of the ground floor about what mev we're exposing and what this means for our users other than that i think things things are going relatively on track and there's still a big possibility for mev to be a really terrible centralizing thing for cryptocurrency which we definitely want to avoid yeah um i would maybe just add on kind of the question around like uh will it get worse or like you know did we expect this to happen so quickly um i mean it's always hard to predict the future but like one mental model that i kind of have for mev generally um is that it kind of acts like pressure uh on the incentives of the system like we've kind of designed this nice little box um and there are certain valves on it like transaction fees and others um that um the pressure created by uh like all the economic incentives can escape out of um and so like as mep started to take off this summer something that we saw happen was uh back running started which is a normal ethereum transaction uh priority gas auctions you can bid for priority get your transaction in front of another what you what those auctions don't allow you to do is bid to get behind someone else however the default geth config at that point in time this summer uh basically said that when these transactions have the same gas fee like it's random which one ends up getting included behind the other so we started seeing people sandwiching trades not just front running them meaning getting a transaction in front and spamming a ton of them spamming a ton of transactions to hopefully probabilistically get one in behind as well um then the uh because this is not a consensus level uh kind of constraints it's based on like the configuration of geth miners and how they handle uh transactions with the same gas price uh they decided to change it away from random to stop the spam uh after that happened a lot more miners started adopting a lot more proprietary solutions uh and my i think that like the you know expectation that things uh kind of continue down this route for me is like there is a lot of pressure um and every time we've tried to like close off valves um that allowed it to escape uh we've it seems like we've just pushed the system for uh push miners further and further uh towards just like leaving the sort of default state um and so like i would say that in hindsight like the decision to change the gaf config to prevent back running almost certainly accelerated the adoption of um you know uh like custom mining software um and so to the extent that's true it's sort of like um uh i think you know indicative of like that trend likely uh continuing we really are squeezing the balloon with this mev problem just like the air just seeps into another pocket of the balloon and guys if you're wondering why gas fees were so crazy this summer users defy users this is part of the reason why this sort of activity goes on david i think you've got next yeah the the metaphor of the balloon is a really apt one it actually does like a very good job explaining why we all care about mev is it seems to be this thing that is intrinsically difficult to capture and harness yet if we can capture and harness it a lot of potential comes out of this and so i think this is actually a great place to turn to the con the topic of that the flash bots project that fail is working on which uh in my mind is a an attempt to harness and capture mev and make sure that it behaves in the way that we want it to uh and so phil maybe you could walk us down like the the project of flashbots like first off what is the goal of flashbots and how and why are our miners incentivized to participate in flashbacks in the first place yeah so the goal of flashbots is to democratize mev basically so to make sure that if possible and maybe it's not possible there's still an open question that as charlie said mev could be totally unfair and and torpedo all of cryptocurrency but if that's not the case and it is possible then what we want to do is we want to drive miners to a state where mev is well distributed where the ecosystem of mev extraction is efficient because that's important for network security if it's not efficient that becomes an attack vector where the profits are democratized to all the miners in the system in a way that's not centralizing where the system stability is insured and where the ux of everyone else in the ecosystem from client devs to layer one devs to layer two devs to dap users to tap devs everyone else in the ecosystem is not trashed by mev to the point where the systems become unusable expensive unfair uncertain or otherwise risky so the goal of flashbots is to kind of form an open source research and development collective where we create products we create research we create other artifacts and other ventures and structures that are intended to shift the incentives of the mev game towards a more decentralized future that's more aligned with cryptocurrency and with the open source free software movement that backs cryptocurrency itself rather than purely fueling information asymmetry so as part of that mission one of the products that we've released so far is called mevgeth or mevgeth and uh it's a it's a patch to the go ethereum reference implementation client implementation um that basically allows miners to create a channel by which people on the network can submit bids to them for private uh bundles of transactions to be mined those bundles containing other people's transactions or their own private transactions this allows arbitragers and other bots who are running economic strategies on the ethereum network to have a more efficient channel to communicate with miners than the mempool why did we build this because we saw mev kind of taking off and we saw miners building these channels independently and individually as a centralizing force so we thought that having one single community channel across all minors that maximized also bot activity on that channel would be the most beneficial equilibrium from which we can then build a more decentralized more robust kind of long-term looking ecosystem we thought we had a better chance in that kind of decentralized protocol model that we were striving for rather than allowing the fragmentation to kind of naturally take shape uh which possibly could lead to the fulfillment of the the predictions i made about immunity being centralizing and centralizing to actors like hedge funds so that's why we built mevgeth why do miners run it because it strictly increases your profit over running geth if if any part of mevgeth breaks if flashbots fails if whatever happens there's a strict security property in mev geth and it is alpha software so run it at your own risk it's not fully audited but it is coded in a way such that at any point in time if you mine on top of a block provided by mevgeth you will make at least as much money as as uh mining on top of geth so in basically all aspects it gracefully degrades to the status quo which we think is the optimum for network resilience uh and which we think is the optimum for also miners to make it a very easy decision to switch you don't have to do complex reasoning you just need to kind of run this software and let the decentralized community compete to kind of maximize your share of the mev game and a lot of the work of developing the software and staying at the bleeding edge of actually understanding and processing mev which is a constant arms race is outsourced this decentralized marketplace rather than needing to be performed in-house by each miner and needing to be duplicated and becoming kind of a centralized information silo source so that's why we built it and that's kind of what it does it's not the only thing flashbox is going to build we have a long agenda of kind of of projects and products we want to do in the mev space with the broader goal of really aligning the incentives of mev and cryptocurrency as a whole and that's really the through line that i see with flashbots and overall cryptoeconomics at large is that it's really cryptoeconomics is a sandbox for tinkering with human incentives and with clever people like like the three panelists that we have here uh if we can figure out a way to incentivize people to stay with the group then then we will figure that out and implement that that's like the optimistic case the the the model for flashbots to me is getting people to coordinate together for commonly shared good and it only actually works if there's financial incentive to participate in the network and so phil where where does this how do you expand upon this model uh what are like the next steps for for flashbots to increasing its overall usage and adoption and making sure that the it reminds me of the the model the theory of like the the the leviathan right where we have this uh this powerful person with with a sword that controls the body and it controls the body via force but like flashbots controls the tries to keep the body composed via rational economic incentives how does how does the uh quote-unquote metaphorical leviathan that is the flashbots grow to compose everyone and stay and keeps the body composed as a whole like what are the next steps for for growing the the leviathan if you will yeah i think there's a million different things we're doing just in parallel um and i think anyone in the community can come be involved one of the next steps is building a community so come join our discord and be part of this question of organizational design and how we build anti-fragile organizations and how we align these incentives i think there's a lot of question mark question mark question marks there uh maybe i'll give you some like immediate random samplings of things we're doing at flashbots uh but but it's far from exhaustive um one of them is decentralizing ourselves so right now flashbots mainly is in a kind of alpha testing mode with our software where we're very much reliant on some centralized infrastructure that we um operate um not fully reliant in that like people have forked this and you can use flashbots without using this infrastructure but we're not comfortable giving the software to miners and saying like just remove this because then it opens up a tax that we can't control um so removing our need to police things like spam on the network um and police things like privacy uh this privacy property that we're kind of enforcing as this uh incentive cartel that you basically mentioned that's how we're doing it um removing ourselves from those equations are kind of the immediate next technical steps for our current product line um both through crypto economic and through cryptographic means we want to provide full privacy of anything going through the flashbots network without relying central on centralized parties um and without relying on on trust assumptions we want to also provide spam resistance so that we're not needed on the network whatsoever once we've done that we're also doing a lot of work on integrations so looking at things like eth2 layer twos that are coming up uh all these other block chains uh the universe of cosmos pair chains and polka dot chains and then sorry i might be mixing my terminology but like basically integrating all these other systems um into flashbots and creating basically the ultimate uh preference expression engine for financial bots in the cryptocurrency ecosystem across any chain across multiple chains um this is kind of work we're doing uh and then also just a lot of ethical work a lot of work on governance on how to ensure we build an organization that does good research that doesn't lead to runaway information asymmetry how we contribute back to the open source commons and the standards that we use for doing that that's a lot of organizational design work we're doing right now and we do have regular community calls about all of these subjects so those are as i see at the kind of immediate challenges is just making sure all incentives are aligned in a robust organizational way and that no trust is required anywhere in the system those are kind of the near-term goals um and the longer term goals are to to create the platform for the robot financial revolution basically and you know give people this ability to in a decentralized and completely permissionless way express their preferences and express them securely in these auction systems and in these cryptocurrency networks so phil a lot of what you've been talking about with the the success of flashbots happens at a level i think the typical d5 user might not be aware even exists or even sort of notice but um i i think a lot of that activity that flashbots is harnessing was was happening on ethereum main chain inside of the mempool and ever since the the flashbots project has launched some of that activity has actually shifted to the flashbots network which is super interesting which uh i think defy users might have experienced in the form of lower gas fees maybe can you confirm whether that's true because that's sort of a the rumor that's going around like some of this mev activity instead of it happening on ethereum main chain is now happening in this in this private network and that has contributed to reduction of of gas fees and uh and costs for transactions on the ethereum net to what extent is flashbots responsible for that and can we thank you for that i think it's really too soon to tell i think people really like that meme and like as much as i wish i could say like yes it's all us i think we want to make cryptocurrencies more efficient and we've done a lot of work on that front like we've definitely reduced congestion on chain we've reduced pgas uh there's less estimator inaccuracy as a result of all these things and there's just more headroom as well as more minor revenue which leads to things like decreases in gas token and achievementing and other sorts of pathological activity so i think flashbot's mission is to reduce impact on these commons and bots were were trashing these comments before they were like trashing the network and trashing the gas space and like we've brought a lot of that down uh that being said i think a lot of other things also contributed to low gas prices like an increase in supply of gas and a general stability in price for a while um in cryptocurrency so i think flashbacks has helped a lot put downward pressure uh but there's also a lot of other downward pressure and without like really sophisticated economic modeling it's hard to take credit um the only thing i'll say there is like you know we're definitely working in that direction and and we one of our goals is to make things more efficient and i think that's definitely happened um and and good side effects of that are like part of what we want to do here because we don't want a situation where there's a few mev bots kind of pissing all over the commons and like ruining the network bandwidth and things like that just so they can make their arbitrage profit before we leave this topic and talk about sort of futures and some other things uh curious charlie and georgios do you have any insights uh charlie first uh yeah i think um beyond everything that phil said uh i'm actually successful version of flashbots uh is a future in which ethereum never experiences a time-banded attack end of the day well we're gonna have to go into what that is i know we talked about it briefly but can you just go ahead and give us a recap on time-batted bandit attack and why it's so critical to not have that yeah the the time-banded attack uh if we didn't cover it earlier it's kind of like um i don't know i'm trying to think of a proper analogy but i don't know it's it's just the the the doomsday scenario of mev it's it's the idea that um uh you know when blockchains are reorged uh which happens small reworks happen fairly frequently um everybody knows sometimes you know it seems like your transaction has one confirmation and it turns out that it doesn't um [Music] mev uh can be extracted from back in time so if i uh let's say for example there's you know five blocks with like a ton of mev in them lots of competition uh tons of tons of trades whatever uh and 50 blocks later uh it turns out that georgios on the side here has been shadow mining uh a side chain and reorg's the whole thing capturing all of the mev available in those 50 blocks not only the emmy and importantly not only whatever mev uh you know was captured by actors uh on the previously canonical version of the chain but he can arbitrarily reorder transactions in every one of those blocks meaning uh that it gives you uh not just like the sort of god power uh mode as a leader within a single block but the ability to do that over multiple blocks so another example this would be i take out uh let's say i'm a minor i take out a trillion dollars uh you know in die debts and then i just wait to see what happens to the price of ether and if i don't like it never it's like it never happens it's gone from the canonical chain um so time time bandits are like like the the the you know they're kind of terrifying uh it's like the worst possible form of mev right it's like if uh bankless listeners will be familiar with the concept of moloch right like it is literally the instantiation of moloch in a single instance of of being reorg coordination failure absolute coordination failure yeah quite quite literally right because it's getting re-orged hey bankless nation i hope you're enjoying the mev panel thus far in the second half of this conversation we go into proof of stake in eip1559 and how they do or do not impact mev we also talk about l2s and and the relationship between l2s and mev and how there's both mev on the l2 and there's mev on the l1 and those things actually interact uh and then we also get into a conversation with phil about the inherently centralizing force that is mev especially as it relates to both l2s and l1 and then we also guess get into a more philosophical broader conversation which frankly i only understood like chunks of it and so i'm gonna have to go back and re-listen to this after i do some google searching and homework this is one of those episodes where it's not just for you guys but it's also for me and ryan to get our learning in as well so i really hope you guys are enjoying this panel but first before we get into the second half of this conversation we have to pause and talk a moment about these fantastic sponsors that make this show possible balancer is defy's most powerful automated market maker typical amms just have two tokens inside of one liquidity pool which can lead to fractured liquidity across the many pairs in the d-pi with balancer you can access the full power of multiple tokens inside of one single amm which unlocks an entirely new playing field of possibility this makes balancer an awesome building block for so many different use cases balancer pools can make asset indexes but instead of paying fees to portfolio managers balancer lets you collect fees from traders who use your portfolio for liquidity additionally bouncer smart pools can be programmed to have properties that change according to predetermined rules such as changing the swap fee based on market conditions or even liquidity bootstrapping pools which can help you launch and distribute your token with day one liquidity at bank list we used a liquidity bootstrapping pool to sell our bath t-shirts to much success balancer v2 brings powerful new features that makes your money work even harder for you in v2 idle tokens are capable of generating yield and defy without sacrificing liquidity in the pool to top things off balancer is reimbursing all gas costs with valve rewards meaning that all your gas costs are returned to your wallet with the balancer governance token balancer's mission is to become the primary source of liquidity in d5 by providing the most flexible and powerful platform for asset management and decentralized exchange dive into the balancer pools at pools.balancer gemini is the world's most trusted cryptocurrency exchange i've been a customer of gemiini since i first got into crypto in 2017 and it's been my main exchange of choice to make my crypto buys and sells gemini is available in all 50 states and in over 50 countries worldwide and on gemini there are markets for over 30 various different crypto assets including many of the hot defy tokens and it's one of the few exchanges that has liquid dye markets gemini just launched their earn program where you can earn up to 7.4 interest on 26 various crypto assets if you're tired of paying fees and defy or you don't want to worry about defy exploits but you still want to earn interest on your crypto assets gemini earn is the product for you another product i'm stoked to get my hands on is the gemini crypto back credit card which gives you three percent cash back on all of your purchases but paid to you in your preferred crypto asset when i get my gemini credit card i'm going to make sure that i get my cash back in east so whenever i buy something i get a little bit of eth bonus back to me at the same time you can open up a free account in under three minutes at gemiini.com go bank list and if you trade more than 100 within the first 30 days after sign up you'll be gifted a free 15 bitcoin bonus check them out at gemiini.com go bankless so one one of the interesting byproducts of eip1559 is it actually is a significant mev mitigator uh and so uh maybe we can talk about mev and how it relates or eip1559 and how it relates to to mev uh georgios can i hand this one to you oh of course both me and phil are laughing because i think david we've had this discussion on twitter before i don't think that the ap1559 actually addresses mev at all zero not at all not in the slightest zero noodle nothing um basically marginally marginally marginally maybe but not not at the at the scale that we need i don't think that it would matter at all like you could make a very weak argument that uh maybe you know the tapes that go the minors are less and hence you know it's less than what they got before and hence uh it's less mv but not really if 1559 is a gas market change um it changes how we bid for transactions in the system but it does not change the way transactions are ordered in the system there still is a miner that has the god mode who and has full uh authority over which transaction gets executed when ep 1559 does not change this change this at all hence i do not think that it matters at all for mv it mattered for a lot of other very important things but not for me unfortunately so phil you agree with that yeah i totally uh would agree with that so you know nothing constrains miners to behave the way their stay they they are told to order things in 1559 they still have a lot of degrees of freedom in the system of like where to insert their own transactions whose transactions to include in this block or not um and all these other kind of freedoms that we mentioned that are valuable are still there what's changed is a little bit how much uh the only thing that changes is how each transaction's cost is calculated basically um but that basically only matters to the opportunity cost of like reordering things which is like a very minor part of the calculation of like whether a miner will extract the mev or not and the change of like burning the the base fee because the base fee is probably going to be very small for any meaningful mev opportunity with regards to the size of the mev doesn't make a substantial difference in any of those calculations even if it does economically make a difference in pricing on the chain and like requires a burn um so yeah fundamentally mev is still pretty much exactly the same flashbots keeps working as is i think one interesting thing 1559 does do which has been needed for a long time is to separate the market out for priority and inclusion there are some users that just want their transaction to go in in like the next five minutes 10 minutes whatever they want to quickly they don't care necessarily that it's the next block where it's at the first position in the next block right they just want it in um and so for those users i think the 1559 mechanism makes a lot of sense because it gives them some good guarantees that they'll be in eventually within some time period and it gives them predictability on how to choose how much to pay which they don't have right now which is a very like complex ugly piece of software that all wallets have to include so in eliminating those things it's great but the market for priority for who gets in first um it doesn't change that at all and uh i expect flashbots you know will run in parallel to 1559 actually i know that will happen and in fact like one of the major marketing pushes behind why flashbots was adopted in the minor community was miners looking at the revenue post 1559 and saying like we're gonna make a lot less for simple inclusion um and so we need to kind of increase our revenue elsewhere and therefore they looked at meb um so if anything it's really accelerated the mev game uh more than mitigated it but but really it's kind of a separate orthogonal issue right bankless listeners will be familiar with the ip1559 because we talk about it endlessly but just just to recap we have the base fee which gets burned but what you guys are saying is that really the mev game happens inside of the tip sphere which is completely unrelated from the base fee right because the the demand to capture some amount of mev will be fully expressed by the tip not by the base fee would you guys agree with that it's not just in the tip it's just in all payments so the tip is one example but even if there was no tip you could just have a transaction that transfers money to uh you know or block.coinbase from inside the uh the kind of system there's an op code that lets you pay the miner in a bespoke way in any kind of transaction you want so even if there was zero tip and 1559 was the only pricing mechanism you could still just make a direct transfer in a smart contract to the miner and that would constitute basically an implicit tip the reason the tip was was added was to kind of stop people from doing this uh so so the tip is one place but there's like that's not the only place flashbox operates uh we also take into account kind of these other more bespoke payments yeah it's it's kind of also like you know if it weren't included right then like an off-chain market would like certainly be created there's you know half a billion dollars whatever they've been extracting i think the uh like um pretty much anything that you do to try to prevent miners from accessing mev uh because you can't actually get rid of the mev itself is liable to incentivize the creation of like off chain or off protocol mechanisms uh to access it so okay well let's talk about another upcoming protocol level change to ethereum which um has gotta affect something you guys tell us so that is uh staking proof of stake so basically the way i think about this high level is that all of the miners they lose their responsibilities and those responsibilities turn over to the validators those with stake inside of the ethereum network so you've got a new set of stakeholders and what staking does is it sends it essentially merges the holders of eth the asset with the obligations of validation so this doesn't eliminate mev i think anyone who's listened up to this point and understood up to this point can understand that but it's got to direct it to a new set of stakeholders what are the implications of that all right georgia let's start with you there is some impact this time but i but to kind of stress it mv is again an ordering um problem it is about hoarders and how so proof of stake changes one thing how order how how validators are elected in proof of work validators rather block producers are elected randomly you can never know who the next miner is with absolute certainty in proof of stake specifically ethereum two proof of stake not any kind of proof stake because the protocol details may change things in ethereum's proof of stake once you are a validator you can always know the validators for the next 12 minutes uh which is in its two lingo to epochs what this implies is that if i know that i will be the next validator and then i know that my friend charlie is going to be the next validator and then i know that phil is going to be the next validator i can call them and i can call i can tell them hey guys like we will have a guaranteed three block opportunity to do whatever we want um with ethereum um so what this allows is for miners to or rather block producers to execute multi-block mev extraction tactics reliably while these before were only probabilistic and because they were probabilistic they were probably not something we would see and the very trivial example of that would be manipulating unisop oracles uh unisop v2s oracles um for example require that they require that rather they snapshot the value from the last transaction in the block and they use that to kind of determine the price in that block however if i'm um a trader rather if i'm a validator i can manipulate the price to wherever i want in the last transaction of the block and the next block i can then push it back to wherever wherever it was without realizing any loss um net of fees um so the implication is basically that miners will be validated will be able to execute these kinds of attacks reliably so you think it makes the problem worse george yes i think so well let's talk about another implication of this which is you have completely changed the uh the miners out you've swapped them out for each holders so if you are a holder of ether as an asset right you are a potential recipient if you choose to stake and validate you are a potential recipient of this mev versus miners that has some effect so i guess miners receiving sort of the mev payment you know the bribe as some might call it uh validators are the new recipients of this mev payment um maybe bullish the price of eath but not bullish the credible neutrality of the network i don't know about uh bullish or not what i do know is that right now validators on eth2 are earning a fixed percentage um on their staked assets once if two days to merge happens validators will also start earning transaction fees and mev and of course what this means is that the api for staking would be higher because as a validator you now also earn mev um so that's kind of a positive by-product of the merge to contrast the maybe negative um out there attack that i mentioned earlier i think politically it changes a lot of things too in that it changes the power distribution which fuels how mev expresses itself in the real world so zooming out like it's always important to also consider the social angle of these systems we're building and how they'll interact with society miners kind of have an incentive structure which because there's a high barrier to entry and a lot of capital required has kind of taken a particular structure in the real world so like often you have very scoped business entities that exist to extract a certain amount of profit in the scoped way and have like investors and and operations and things like that in the validator world you have very different politics so in the large validator community you have things like exchanges which are competing for users and trying to maximize user yields there you might see things like mev farming you might see things like centralization through proprietary mev strategies or partnership with the information asymmetry driving entities that i mentioned like hedge funds you also have large holders in that picture who maybe have less technical resource access and sophistication but a lot of system and and incentive alignment and you also have a long tail of smallholders who are trying to get access to apr and trying to get yields basically um without without kind of needing this full control and without having as big of a piece of the pie as these other actors so that political landscape is really different than miners on ethereum today where like it's much more of an even pie chart a few things i think that says is that number one it's really important for these small guys to be able to access their percentage of the mev that they're owed if the if you have 0.001 of the network and you can't get 0.001 of the mev you'll go to coinbase instead you'll go somewhere else and that'll be a centralizing force to access these profits so democratizing this and creating this network um where each validator in each minor doesn't have to be doing the work themselves to get most of these profits i think is critical to the decentralization of proof-of-stake and it's like a big part of how we view this transition um at flash bots enshrining that and also being aware of these change power dynamics we don't know how this will play out yet i think these are all big question marks so as much as i wish i can predict the future i can just say like these things are going to change and these actors will be relevant uh increasingly in the future and there will be kind of politics and drama there that we can't predict yet i think the through line that listeners should really be cognizant of is we just talked about eip1559 we just talked about proof of stake and in neither of these situations did the mev situation really improve all that much and perhaps even gets worse and that kind of just illustrates the perniciousness of this problem and what phil is really talking about is that if we do not figure this out then the whole argument of that you know proof of stake makes the wealthy or wealthy there are plenty of arguments as to why that's not true but one of the biggest uh perhaps manifestations of a future version of the world is that we cannot solve mev and the the wealth distribution of proof-of-stake just becomes so incredibly centralized because of the natural incentives that uh proof-of-stake just really just the power asymmetries just accrue faster and faster and faster to the large stakeholders i wanna maybe bring up two other implications that that i'm seeing and ask the panelists about this um one is and bankless listeners will be familiar with all of our episodes we did with justin drake about eth being sort of an ultrasound money and even like modeling that out with like what does a world look like when validators are receiving issuance validators are also receiving transaction fees he did not model out what it looks like when validators receive mev which could be an absolute massive portion of revenue flows and to the points david just meant that has and the point of this entire podcast is that has some negative uh effects negative externalities to the credible neutrality of ethereum potentially and also yet i'm linking this to a comment that georgios made uh in the introduction which is that could also be fuel to pay for network security at the same time because it means issuance can be effectively lower why because it's being paid by not just transaction fees by large amounts of mev as well um those are two implications like in my mind and also like just the implication i guess in in the short run uh wow like all of this revenue flowing to eath holders like wow okay um but i want to get the panelists reaction to uh to maybe that is there some flip side that is actually good from an economic security perspective and since georgios you brought this up maybe i'll turn it to you first candidly not much to add ryan i think you explained it uh very well i think that mvv like transaction fees can be a source of security budget in the future and uh i think it remains to be seen whether it will be enough of a security budget yeah i think a little bit to that i guess there's like small things we can do that change things a lot right like for example just designing systems in an mav aware way like if to expose uh mev you need to be mined on top of a particular block if you add that as a condition to your transaction it stops how deep you can reorg and it affects things like time-banded attacks a lot without being a substantial ux penalty so there's a lot of like low-hanging fruit mitigations uh like this that could probably change these equilibriums a lot and like make mev a better security budget i think there are worlds in which mev is a good security budget and worlds in which it's a horrible security budget and it depends how we design our mechanisms and it depends how things play out socially and on all these other factors which are really hard to predict or even model but i believe both of these futures exist and we should try to like work towards the one where it's maximally not bad as we can we can sort of build so that's kind of what we're trying to do well said there's also a good very obscure but good post back from like may 2020 by vitalik um uh on medium uh that i can send you the link to afterwards um where he talks about um uh basically central you know mev as like a centralization prone uh kind of revenue stream and that in a role of centric ethereum uh although i guess this is probably written before world centric ethereum roadmap was written but anyway uh that we might want to centralize mav extraction into roll-up sequencers and given that like it's very high fixed cost and probably more so than mining itself and definitely for mistake um and that if we're not able to harness the mev uh revenue stream as a security budget we could potentially at least quarantine it uh off um essentially um you know more bifurcated from like the core consensus engine and um make in the worst case um you know uh kind of uh like if we needed the hard fork to fix something it might be easier if the revenue stream is quarantined off then basically the con the action of uh centralizing mev on layer 2 sequencer networks it does not remove the mvv but it moves it somewhere else where it can be contained and basically not leak into the security of the rest of the system right that's that's exactly where we wanted to go next and so sequencers on layer twos uh entities that are responsible for ordering transaction is a totally different design scape of mev that's separate from the ethereum main net but is mev all the same and there's you know the whoever gets to aggregate transactions on l2s gets to do extract that value and then and then the transactions go to the l1s and then there's l1 mev uh miners or validators as well so let's talk about some of the uh structural differences or similarities between mev on l1 versus mev on l2 it's probably under the context of optimism and and uh arbitrarium because i know these two these are the two l2s that are really going head on after this um georgios i'll turn that to you how is mev the same and how is mev different on l2 i mean in the end in layer two when we rather when we talk about layer 2 today i think that we really refer to a roll up an optimistic or a ziggy rollup that's what layer 2 typically refers to yeah and this may also be relevant given discussions in the wrist and days around what side chain and what their layer two is however i want to stress that if the roll-up has programmability the mev it exposes is the same as if that thing would have been a layer one so in a way mev is not a property of whether it is layer one or layer two it is a property of how much ordering uh is allowed in the system and how much programmability is in the system hot tip to um to charlie for his blog post uh clearly laying out that uh that aspect so specifically i think that um again it matters on the election process for um the person who will order transactions optimism's design specifies the so-called med auctions where the mvp auction basically says that if there is um some amount of mv mev in the layer two um then the sequencer that wants to extract it should be able to pay up to that amount um to be elected to become the next block producer and that's what the design uh rather that's what the implementation will be eventually it's not there today and there's no kind of commitment updates on when that would be live for arbitroom i think that right now there's similarly kind of like a fixed or the effects scheme for how validators how sequencers are elected if it's one it's one if it's many i think it would be something like a round robin based on stake um which means that if you want more stake in the system you get elected more often but what arbitrarily also has been working on which phil maybe has some thoughts on is the so-called fair ordering algorithms where they say that instead of having one person decide on the ordering you have let's say all the consensus participants to agree on the ordering and this is basically the same thing as running a tendermint or a bft kind of blockchain where two-thirds of the stake first need to agree on the ordering and then only does execution happen yeah and you can in fact add like a threshold signal i mean if you're using like bls signatures then as like part of uh you know a bft style protocol then you can just have the threshold signatures unblind after uh final after finality um but obviously that restricts the set of possible participants given that you have like a quadratic communication constraint on the um uh consensus process so i mean guys is the story here that we've just uh squeezed the balloon once again and now moved the mev problem back to layer twos and back to roll ups what do you think phil i think this is where the coastline analogy you mentioned before is most accurate so i think layer two is like a fractal instance of layer one like there is no layer two and layer one there are just block chains and how they connect to each other uh layer two is like another chain of blocks with its own process for designing ordering so depending on how you design it it might have the same exact mev problems as a similar layer 1 would have you could on each say like oh we're just going to give all the med to vitalik and like hardcode that in the protocol and that would work right and that's basically what optimism is just give it to charity though phil the zero yeah exactly or whatever you want to do um uh so with a centralized solution that's basically um what you're doing um in terms of kind of fairness protocols i think there are a lot of um that's kind of what we're describing with these kind of bft style protocols and what arbitrum is trying to do where they say like here's some process that we consider more fair for some reason um and they state why this process is more fair um usually it's because it makes some claim like if three out of the five nodes we have here's your transaction before mine your transaction will definitely get in and it'll definitely be before mine and so therefore that's a fairness property that takes away from ordering that being said the way they express this fairness is in like computer science terms not in economics terms or or really like fundamentally speaking to mev so it doesn't talk about things like what if your assumptions fail and those three nodes collude against you what is the incentive for these nodes to honestly follow the protocol and like is it detectable if they don't how do network assumptions play into this um how do which assumptions do we have to accept as users of the protocol to kind of engage in this protocol and believe that it's going to give us the output so these are all kind of very deep parameterization questions that themselves introduce mev and kind of represent blockchain assumptions so in all these cases in layer twos and layer ones and fairness protocols these are all basically just block chains they all kind of have their own mev that you can think about that you can calculate and they also have mev across them so layer two is gonna have mev that's fractally larger almost like the coastline right like when you combine it with the layer one to which it's anchored because if you're in a privileged position on both layer one and layer two you can amplify your own attacks on each one you can make your layer one attacks more powerful with the economic degrees of freedom you have in controlling value flow on layer two and therefore how that flows back into player one and you can make your your um layer two attacks more valuable using things like layer one censorship um and reordering and other messing with the kind of core security anchoring of that system um so so let me ask you the panel is kind of a follow-up to that right so we we just chased mev to a roll-up right we've squeezed the balloon now moloch lives on a roll-up but we still have the same mev problem except for the fact layer twos can harness a thousand different experiments at once right so the ethereum uh settlement layer other chains like other layer ones like it they have to ossify over time they can't experiment with new fairness protocols to try to solve the mev problem as rapidly they certainly can't iterate as fast maybe i'll turn this question to to charlie so we've we've chased the mev problem to layer twos do you think that there is some magic protocol out there some magic mechanism we will be un able to uncover to actually like slay moloch and solve mev or at least drastically mitigate it on layer two are you optimistic or are you pessimistic about that charlie so i have a couple of thoughts and first it's a fantastic question um i think that there will that there is a wide space of experimentation that's possible in layer two um and i think that um it is gonna give us the opportunity um to kind of try designing more potentially application specific um uh kind of controls i think that for roll-ups where you know it's kind of for roll-ups which basically just emulate like the evm um like the problem is essentially identical modulo the sequencer selection um just i mean like given the nature of their design um i think it's possible though that we're going to start seeing more like application specific l2s um that start to incorporate like um well application specific transaction fee orderings uh or which make it easier to add stuff like vdf uh receipts or do threshold signing for ordering and i would say that like i don't think that there's any silver bullet um i would guess that there are probably like most applications probably have um certain protocol layer um like levers that they can pull to help mitigate the problem and find like more stable equilibria and for a lot of those applications it'll probably uh like like they'll probably need to be on l2 to do that um uh and and this is related to um you know uh like paradigm has invested in cosmos and someone interest and you know is obviously interested in that ecosystem for like largely similar reasons it's it's just the idea of like um uh mev with generality is a very hard problem and i think a lot of the experimentation um that we're gonna see happen is is uh you know sort of like more conforming um uh to the specifics of each application guys one burning question in my mind that i have to ask because you know as david and i say a lot of this this podcast is also for us like we're on the journey we're trying to understand learn this stuff as well so i one thing i'm unclear about is if this is a an ethereum specific problem or say a general smart contract platform problem or to what extent it exists in a network like bitcoin say on bitcoins layer 2 which is like crypto banks let's call it inside of a coin base or a binance exchange like think of these as side chains versus to what extent it it exists in traditional finance it just seems to be the case that maybe in kind of crypto banks or in traditional finance you just can't see the mev but maybe it still exists is that the case or is this really specific a specific problem to uh ethereum smart contract and its design and i think it's a philosophical i think it's a philosophical question honestly um i mean yeah like we like philosophy why is it philosophical charlie um well because you know my bank uh like or or broker or whatever elects not to front run me because the sec is going to come after them which you know you could call a you know crypto economic incentive i don't know where the cryptography comes in in that part but whatever you know we could call it that philosophically um uh and you know mev like uh like most things uh yeah it has like fractal you know sort of analogous uh uh or fractal analogies in in other contexts but i think that when we talk about mev in in crypto uh and like with respect to permissionless blockchains in particular um like it is actually a pretty narrowly scoped uh concern in the sense that like um it's it's like not a thought experiment it is real uh it's like fair it's like fairly easy to define you know what is and is not uh i mean and i think that there is like a pretty clear difference to a conversation about for example the incentives of like uh you know an optimistic roll-up sequencer on ethereum uh versus like why wells fargo may or may not decide to front-run me you know in in their position um so yeah i guess i would just say it see it seems to me more of like a practical concern within the context of permissionless systems in the same in in the same way that like um you know custodial systems permissionless systems have different tradeoffs to custodial traditional systems and like mev practically is one of them yeah i would agree with that and that's kind of uh you know segues into like a new perspective i've taken recently on med after like a long time thinking about it and that's basically that mev kind of measures what happens in like sort of the raw economic security case only where the only thing that matters are economic incentives um and so yes mev exists in traditional finance but it's not as meaningful because the incentive structure that's built there is not only these raw economic incentives it includes all sorts of social and technical and political and like uh legal and paperwork-based and human-based infrastructure processes that are outside the scope and that can't be modeled as easily um uh like charlie said uh which make this so yes you can measure what happens in like this technical system we've built on wall street if all laws break down and everyone's acting maximally maliciously it's just that that's less meaningful than in the cryptocurrency case where where the goal is to build a system where we're like encouraging people to pursue their rationality and that's almost like enshrined as like you know acceptable no matter what you're getting dangerously close to rationality is self-defeating right now my friend yeah i mean it relates to rationality self-defeating in many ways but i think it cuts through rationality self-defeating so because rationality is like self-defeating this like simpler metric is like the only means of analysis that like matters and kind of uh you know like there's obviously a difference between bitcoin and algorand or other honest bft protocols inside an economic model in that like bitcoin is more robust in a wider range of rational actor rational incentive models where there are fewer honesty and more economic assumptions that being said rationality is self-defeating you can't perfectly model the world and in many models bitcoin breaks down for example if you have two equally sized bitcoin-like blockchains the analysis says nothing about that and that's like a perfectly valid future um so yes it is self-defeating but that being said even though it is self-defeating you know somehow the systems we're building we're trying to build things that are robust in more self-defeating worlds than not uh and towards that end kind of uh looking at it through the lens of mev is a useful tool to see like in which universes does it clearly break down versus not um and because we're building these kind of economically secured systems that's a very immediately meaningful and and like we just said practical question oh my god this panel did not disappoint on everything we've covered in particular that last question thank you guys super insightful david i think you've got the last one yeah it's it's very i hope it's obvious to listeners as to why this is such a critical conversation and i i thank you guys for coming on and giving us your time and also simply just being public servants or uh yeah public servants for public goods somebody has to fight this fight and and so i i'm just honored that you guys are fighting this fight on behalf of in my opinion the whole entire globe and so i kind of want to finish off with this question when you hear the term mev do you feel optimistic or pessimistic and why and phil let's start with you ooh that's a hard one um i don't know i feel cautiously optimistic uh the same way i imagine i would if i was like observing like the early days of the internet uh you know i think we have an opportunity i think it's easily squandered so it's very cautious and i feel still a lot of existential anxiety about the way things will go in this space uh and if everyone who's looking back on this podcast in 10 years is like this guy screwed up and he's the new blythe masters designing like terrible credit fact instruments like f that guy i'm sorry you know george honestly i hope people oh god oh i was gonna say hopefully like they come back and listen to this podcast and they're like guys they weren't such bad guys they gave it their best go are you optimistic or pessimistic i feel very optimistic i think that the better world of tomorrow firstly this is like very philosophical the better world of tomorrow is built on optimism and we need people to kind of risk working on hard problems like this because without these kinds of risk takers um we wouldn't be where we are as a species and secondly i think that mev right now like what i care about most fundamentally as an engineer researcher investor is working with the smartest people in the industry and i know that the hardest people the hardest problems in the industry attract the smartest people in the industry charlie mev optimistic or pessimistic optimistic um for this reason um the rationality of self-defeating argument or like the you know girdles incompleteness theorem for blockchains uh argument to me is incredibly uh intellectually attractive um it's something that i i've spent like an inordinate amount of time thinking about um and you know this this this is the argument again that that for any set of quote-unquote uh rational crypto economic assumptions uh you know we can come up with that there is a way to violate and defeat them yet in practice uh if you go to coinmarketcap.com how many blockchains currently uh like exist and work and how many have been broken um based there's a ton that work in practice very few have been broken i guess like etherclassic had like a reorg attack but like i don't know be kind of hard for me to think of another um and so i think that like uh i think of mev somewhat similarly which is um there is like i think a really deep uh philosophical concern that's worth taking seriously um and like obviously you know is being more realized in practice today like this is something we actually have to confront um and we sort of have like the counter factual that if we don't do something the default state might not be um successful and optimistic but that being said um broadly crypto has done pretty fantastically at uh succeeding even when uh we have an incompleteness theorem as to why um so i don't know in the absence of in the absence of certainty i'm willing to to take the optimistic perspective incompleteness theories themselves are rational claims that are self-defeating is what i would say and uh yes yes you can you can technically design a mechanism that breaks any rationality assumption but like i think it's much more useful to look at the whole and the big picture and like approximately what you're getting and like the leverage you're buying in various universes and that's really more where you think mev can provide leverage i'm also optimistic because phil is more articulate than i am so i just i just refer to him guys we're going to have the same panel back and it's just going to be blockchain crypto philosophy because i think heads would explode as mine did toward the end of this i hope you've enjoyed this episode bankless listener i want to thank the panel for making this happen thanks a lot guys thanks so much guys what did you learn from today here's one thing i learned mev is a pernicious problem it's probably one of the biggest uh last unsolved problems in the space and the stakes are extremely high this is like the difference between do we create a better financial system for the world or do we fall flat on our face and just create a different financial system with a different set of actors super important here this is not the last time we will be talking about mev on bank list i guarantee you but there's reason to be optimistic and i'm leaving this conversation more optimistic having spoken to these panelists today of course guys got to close with risks and disclaimers eth is risky crypto is risky defy is risky you could lose what you put in but we are headed west this is the frontier it's not for everyone but thanks for joining us on the bankless journey hey we hope you enjoyed the video if you did head over to bankless hq right now to develop your crypto investing skills and learn how to free yourself from banks and gain your financial independence we recommend joining our daily newsletter podcast and community as a bankless premium subscriber to get the most out of your bankless experience you'll get access to our market analysis our alpha leaks and exclusive content and even the bankless token for airdrops raffles and unlocks if you're interested in crypto the bankless community is where you want to be click the link in the description to become a bankless premium subscriber today also don't forget to subscribe to the channel for in-depth interviews with industry leaders ask me anythings and weekly roll ups where we summarize the week in crypto and other fantastic content thanks everyone for watching and being on the journey as we build out the bankless nation 