[Music] welcome to bankless where we explore the frontier of internet money and internet finance this is how to get started how to get better how to front run the opportunity this is ryan sean adams i'm here with david hoffman and we're here to help you become more thankless guys great episode for you today on the topic of flashbots on the topic of mev on the topic of crypto dystopia versus crypto utopia and how we propagate the utopia this is an insanely important topic to cover we're going to talk about a few things a few things to look for during this episode number one why this thing called mev that is maximum extractable value why it poses an existential risk to everything we are building in crypto we are on this knife's edge between dystopia and utopia number two what the world looks like if we ignore the mev problem we cannot not afford to ignore it number three the blockchain supply chain what actually is that how mev can increase your eat staking rewards by something like six percent it's defined as the map is a very high number number four how all this technology is getting getting embedded in the ethereum protocol long term in something called pbs that is proposer builder separation we get into the ethereum roadmap a little bit number five what's next for flashbots after this thing called pbs is deployed and makes them obsolete we talk about the flashbots organization as well david there's so much here um how would you rate the the this episode in terms of like um skill level or knowledge level is this accessible enough for the the straight beginner does the severe towards a little bit expert level i think if you have not heard the term mev before you are going well first off i remember my first time i heard mev and like if you like rabbit holes i'm so envious of you going down the med rabbit hole for the first time was so much fun if you have not yet heard of mev this episode should be fine uh but it it'll it'll start fine it'll get challenging towards the end but overall it'll throw you down a fantastic rabbit hole the mev part of this crypto industry has attracted some of just straight up the gigabrains like all the giga brains just get attracted to to mev because it's such a complex nuanced problem to solve with so much at stake there's a lot at stake if we do not solve mev or if we solve it incorrectly uh and so there's just the these certain types of people that have really been captivated by the mev problem and have really put some of the the highest amounts of iq on all targeting the same problem which is solving systemically how to solve the mev problem just really really quick the mev problem maximally extractive value is this thing that we discovered back in like 2017 or 2018 as a function of smart contract blockchains where you have defy and anytime that you make a trade on like uniswap you you imbalance a pool right like if you are trading usc and eth and you're you put in uscc and you pull out eth that changes the pool that changes the price and arbitragers can come and re rebalance that pool as a function of how it relates to other exchanges so it'll it'll balance it'll it'll balance out like the price of these things uh you can also talk about mev in the context of uh like liquidations on maker dow or or ave it's basically when users use a smart contract blockchain they leave arbitrage opportunities in their wake and so arbitrage bots will come and make transactions to pull out some of that value they'll rebalance the pool take a little bit of arbitrage and this is all normal and healthy but there's it gets more and more malicious as you get further down the mev rabbit hole there's like front running uh and so they if you were trading on you to swap you can get front run by a bot and they'll sell you you what you were going to buy but at a higher price that starts to get a little bit malicious and it can go it can go down to what some people will just define as straight up theft and it can even get even more systemic than that it can start like disrupting actual blockchains as in like a couple blocks will have passed but there was an mev opportunity that was so incredibly lucrative that mev like people will try to actually unwind the blockchain and go backwards for blocks in order to capture that opportunity before going forwards again so like not only is it just about arbitrage it's about just like you know bot attacks in the mempool but also destabilizing the blockchain and so it's critically important that we get this right so that's like your quick tl dr uh rabbit hole on mev and flashbots is an organization people that have targeted this problem directly uh creating this sort of sandbox if you will for mev players can play in this sandbox that doesn't impact like users maliciously or disrupt our blockchains uh and and staphon here is one of the one of the co-founders of flashbots and uh has a lot to say with what where flashbots currently is in this proof of work uh paradigm but also where it's about to be in this proof of stake paradigm because proof of stake definitely changes uh the game of mev and the role that flashbacks has to play in this ecosystem absolutely guys you find there are there are some strange god mode type abilities uh in the transaction ordering of our blocks and that is the source of of mev mev's power where a certain party has the ability to order blocks in a certain way anyway we're going to get into all of this it's a fantastic episode and how we solve it how it relates to the ethereum roadmap uh and by the way guys if you are watching if you want to watch beckless podcast on video you could do things do that on on youtube but you can also do it now on spotify so um all bagless podcasts are now published on spotify with video so you can go ahead and check that out let's get right into the conversation with stefan from flashbots but before we do we want to tell you about the fantastic sponsors that made this episode possible lens protocol is an open source tech stack for building decentralized social media applications it is the new era for social media we all have toxic relationships with our web 2 apps we want to break up with them but we can't these applications own our digital lives and all the relationships that we've made we need to break through to a new paradigm of social networking applications that we control rather than them controlling us lens isn't a social media app it's a protocol to let a thousand web3 social apps bloom lens is a permissionless and transparent social graph that is owned by the user in crypto we say not your keys not your crypto and on lens we say not your keys not your profile with lens your followers go with you to whatever social media application you want to use and instead of being trapped by an algorithm chosen by that app lens lets you choose the way you want to experience your social media lens is the last social media handle that you'll ever need to create so in order to get started there is a secret code word in the show notes enter that code word in the google form links and you'll be well on your way to entering the world of web3 social rocketpool is your friendly decentralized ethereum staking protocol you can stake your east with rocket pool and get our eth in return allowing you to stake your east and use it in d5 at the same time you can get four percent on your east by staking it with rocket pool but you can get even more by running a node rocket pool is the only staking provider that allows anyone to permissionlessly join their network of validating nodes running a rocket pool node is easier to set up than running a solo node and you only need 16e to get started why would you do this you get an extra 15 staking commission on the pool to ease so your apy is boosted so if you're bullish east staking you can increase your apy and get some extra tokens by adding your node to the decentralized rocket pool network which currently has over a thousand independent validators it's yield farming but with ethereum nodes you can get started at rocketpool.net and also join the rocketpool community in their discord you can find me hanging out there sometimes in the chat so i'll see you there zk sync is an ethereum layer 2 network that is pushing the frontier of high performance blockchains that don't compromise on security or decentralization zk sync has combined the power of zero knowledge roll-ups in the ethereum virtual machine enabling developers to build the greatest web 3 projects possible ones we haven't even seen yet crypto needs its killer applications to onboard the world but cryptokiller apps need zk sync as a platform to build on first it's generally accepted that zero knowledge roll-ups are the conclusion of crypto blockchain scaling technology and zk-sync is leading the charge into the final frontier of crypto economics so if you're a developer who wants to build your app on a future proof foundation which gives your users the best ux possible check out zksync's website at zksync.io and yes there's also going to be a token so give them a follow on twitter too at zksync hey bankless nation we're super excited to introduce you to our next guest on a very important topic today this is stefan gosselin he is the founder of flashbots what is flashbots it's an r d organization that's research and development it's trying to fix what we think is one of the most pernicious problems in crypto maybe the most pernicious the problem of mev that stands for maximum extractable value and while david and i are massively optimistic about crypto we're not really worried about too much in crypto i mean we think this thing is going to be pretty much inevitable we are kind of worried about mev it could really be achilles kryptos achilles heel so we're going to talk about it today with somebody who is um trying to solve this problem and actually uh whose work in flashbots is getting ready to become important enough to actually get embedded in the core ethereum protocol so we'll talk about that as well uh staphon welcome to bankless how are you doing today hey i'm doing great thank you so much for having me this is exciting always a pleasure to talk with more people about yes the very scary problem of nav well i can't promise you about the smart part but um hopefully you bring the intelligence for david and i because in fact you know what we want to we want to kind of start at the um the less smart level of this uh mev problem so i i called it the most pernicious problem in crypto um do you think we're like blowing this out of proportion can you tell us why mev is impo important at a high level and what it is for somebody who is just now hearing about it yes so um no i don't think you're blowing it out of proportion though i am very biased in saying that uh we did you know literally get every single person that we could figure out that agreed with this point of view together sometime in 2020 and start this organization together that's sole mission is to figure out how to solve the problem fmev so i am definitely in my little mav bubble where i spend all my day and night thinking about it and worrying about it um so why why am i in this bubble why why did i surround myself with a bunch of people who who worry about this well mev is sort of this emergent phenomenon that we've observed on smart contract blockchains when people start to actually use them what we realize is that there's a lot of different powers that miners have that they can use to extract sort of extra value out of the protocol in ways that the protocol wasn't necessarily designed for um so when the initial sort of paper by by phil diane came out and defined the term minor extractable value it looked at things like reordering censorship and insertion of transactions um within blocks looking at basically arbitrage opportunities on decentralized exchanges and how when you have miners that start to target these they might do things like doing reorg attacks against the chain um and and some some other sort of nasty behavior um at the time it was mostly like a theoretical uh you know paper that looked at okay well here's what would happen if these dexes would get a lot of uh of traction and lo and behold a couple years later they did um and so and around you know summer 2020 during during d5 summer we started seeing a lot of these bots becoming very active to the point where it started having sort of a negative impact on on the rest of the system the two years following that so between summer 2020 and and where we are today has just been sort of an explosion and sophistication of activity on ethereum but also in every single other smart contract chain that has any sort of meaningful economic activity and we've seen sort of the space go from very simple sort of arbitral strategies to evolving into um like very complex generalized front-running liquidations cross-domain arbitrage uh all kinds of nft sniping and strategies that uh that have just created a ton of of demand and activity for um for for these chains um you know the role that flashbacks plays in all of this is we see mev as being uh probably the biggest centralization risk for krypto um the way to think about it is if chains aren't actively thinking about mev in their design they are guaranteed to make some fatal mistake that will you know have some negative externalities on their users or cause them to become very heavily centralized so we sort of take a research first approach of saying okay we know that this is a risk let's try to understand it better and then let's develop solutions that help blockchains deal with this risk so we launched on ethereum and we have this solution mevgeth on ethereum that's running with all the miners and then we're preparing as everyone is for the transition to the proof of sleep so fine before we go into uh flash boss and mev geth and some of the solutions to this problem i'd really just like to define the scope of the problem a little bit more at the very basic level mev is just basic arbitrage opportunities um there's a difference in the eth price between uniswap and balancer and uh an mev bot can arbitrage those differences and and so like in theory the idea is that some bot will come in and balance out those two pools but then whoever's actually mining the block will see that bot come in and they will front run that bot and they will they will balance those two pools instead and they will be able to pull out that arbitrage they're just able to arbitrage faster and at this level if the things aren't all that crazy things aren't all that evil or so and this is kind of actually considered healthy in the ecosystem in the d5 ecosystem you know pool liquidity pools stay balanced faster liquidations and ave your compound happen faster keeping those systems more robust so there's like a lot of good mev that's out there that just helps stabilize the defy ecosystem and like it's almost uh synonymous with just general arbitrage and this part of mev we don't really have a problem with can you illustrate the worst part though the more dark side of mev the evil side of mev down to the point of things that are considered ethically poor or ethically dubious but also down to the point of like destabilizing a blockchain can you take can you tackle those two things as to like the bad side of mev yeah you know this is where even a good thing has is drawbacks right so in many ways mev is what makes a lot of defy systems works it's what makes amm possible like amms you would not be able to be a passive liquidity provider if there wasn't someone doing arbitrage between unit swap and binance right it just would not work as a strategy and like no one would use a system but because there's someone doing that arbitrage the prices on on uniswap were able to stay in sync so it has some value there similarly for liquidations right if you run a liquidations protocol that's using some kind of oracle system you need some bot operator to come in and actually execute the liquidation to say to keep the the collateral ratio of the of the lending platform in balance and someone literally just needs to like send the transaction that triggers this function and that is mev is rewarded in some way so you know mev good mev is really it takes place when a protocol or like adapt designer thinks about okay what are the permissionless functions in the system that we want to incentivize third parties to take and then how much money do we need to pay them to take these where it can start to become a little bit more questionable and nefarious is when uh protocol developers and and app developers do not think about the mev that's exposed through just regular user interactions so when their users start to interact with their protocol they might actually be exposing some mev as well and that might have some negative uh sort of impact on their experience so you know on on unit swap for example the example the the case that happens quite frequently right is you set your slippage limit too high um and then uh send a transaction for a swap into the transaction pool some bot operator out there sees this they uh sandwich your transaction and provide you the the worst uh the worst execution that you accepted using your slippage limit right and so unit swap by like allowing users to set high slippage limits and like allowing them to send it to the transaction pool might in many ways be giving them a worse price execution um and so those kinds of behavior end up being sort of you know less less beneficial to the end users because there isn't really any reason for the system to have these um this this kind of value exposure got it so like what you just described is maybe um in a bad mev scenario the user gets ripped off a little bit right there's some you know additional cost that they're paying to these kind of mev um rent collectors but can you take that a little bit further so like what is the worst case scenario here and i'm i'm almost like maybe talking more from a system perspective rather than the kind of the user so the user experiences this in that like they're getting ripped off in small ways here and there maybe they notice maybe they don't i would have to get really really bad for them to to maybe like fully notice but i think there are some more pernicious uh like system level attacks and i want to ask the question of like okay so this is a problem but what happens if we just don't solve it like what happens if we just like leave it how will the system uh evolve in that condition yes so um i sort of mentioned briefly negative externalities um i think from a system designer perspective from the perspective of ethereum core developers solano core developers whoever right who's looking at how do i build a blockchain um you have to see okay what incentives am i creating by these like different mechanisms i'm implementing um three ways in which like mev tends to be extracted is either a spam war a latency war or an auction this is like different ways that you allocate opportunities or you design a system of block space and how um competition for that block space ends up being targeted is using one of these three systems and each of these have these negative externalities right so if you use some kind of system that says we're going to order transactions randomly right all the transactions are going to be hashed and like ordered by the hash something like this then you can have bots that like still target these arbitrage opportunities by sending thousands of transactions into the transaction pool um and hoping that one of them is going to be the one that that targets the opportunity um and that what that does is it takes up a ton of block space and crowds out regular use cases um if you use a system that says okay we come we take first in first out ordering and we say whoever is the first to submit a transaction is going to be the one that gets the the block space then all of a sudden you create sort of a race or an incentive for everyone to invest very very heavily into co-location so you'll have um basically the most dominant validator or miner selling sort of server racks next to their uh to their ethereum nodes saying you know whoever is willing to pay me the most for this immediate access is going to be able to capture these opportunities um that creates a huge centralization vector at the validator level right so now all of a sudden you have you know whoever is the best uh minor validator at doing this arbitrage um or at selling colocation services is going to continue accruing more uh rewards than all the other validators and can start to sort of take over the network and and start centralizing it um and then the final option on like how to deal with with mev is is what we call uh block space block space markets right or or block space auctions which is sort of the the the solution space that that flashbots has been building towards which is saying actually let's not you know focus on this latency war with with validators and miners let's let them outsource completely the block construction to to third parties let third parties compete on price as opposed to co-location and whoever is willing to pay the most for the block space is the one that ends up being selected and included so stefan like take a one one blockchain that decides to kind of like solve this make it into the protocol like you know do something about mev and another chain that doesn't like what happens to the chain that doesn't does it and like does this just kind of evolve back into the existing financial system we have where we do have co-location we do have like you know flash boys and all of these things like uh i'm just trying to get a you know escape of the dystopia if we let mev run wild and we actually don't make protocol changes and and don't decide decide to um build solutions to address it you said centralization but like sometimes that's um it's hard for people to get in there in their heads because they don't see how this abstract idea of centralization actually affects them so yeah let's try to paint sort of a picture of what two different like futures looks like we had this um with this conference in amsterdam a few months ago that was themed around the mev utopia and the mev dystopia and the reason why i think it's quite powerful to draw this comparison is to try to give more of a feeling for what these two different futures look like and the impact it has on users of these systems um so we can start by the the dystopia side so um let's say you have a chain that um doesn't like solve much for mev it doesn't implement a an mev block space auction it has a dominant strategy of co-location and perhaps the validators start to to sell sort of collocation services right what you end up having there is you have a single entity who's investing very heavily in these mev strategies become somewhat gatekeepers to to the chain perhaps they start running the majority of the validators on this chain and they start aggregating the majority of the order flow because they control most of the block space so now all of a sudden every single entity or user that's trying to send a transaction to this chain has throughout their transaction through the server of this of this mega fund this mega mev fund um you know this mega mev fund then has the power to arbitrarily sensor control sort of uh any protocol changes uh issues sort of um uh uh you know soft forks that that that control in one direction or another um and like overall just have you know more influence over the system um so it undermines this property that we want of blockchains which is uh permissionlessness and and makes these blockchains trend a lot more towards what uh what you know traditional financial systems look like right you have broker dealers and then you have like a few internalizers um and then uh and then like a few exchanges that are all sort of permissioned entities with a lot of um a lot of certifications and um and and sort of government-induced monopolies over the work that they do um that restrict what they're able to do this is the less permissionless future the uh the dystopic future under the utopic future we sort of maintain how transactions and blockchains have worked historically right which is you can send transactions to you know a local node or a local system um with high confidence that it won't be censored somewhere between when you sent it and when it gets uh included and finalized into the chain um and you have some clear understanding over what are the different steps that this transaction took you're not just sending it into like a black box where you don't really know how much you're paying or like what's happening to it but you have some transparency over every step of the system you know who is operating on top of it and you know what value are they taking from it um so so we call this the uh the mev utopia um there's also this idea of of the mev supply chain so so this is something that that maybe um listeners can can look up the mev supply chain aims to define who are the different actors that are operating on the transaction between when the user has an intent to issue a transaction and when it's finalized and looking at if we are trending more towards utopia or dystopia is actually just looking at how vertically integrated is this supply chain is it sort of a single entity that's doing all of these uh or is it more modular where each entity or each service added um is done it by a different entity in sort of a modular way that's good and i think we want to talk more about the the the supply chain the mev supply chain in a little bit but i i just want to paint this picture for um backless listeners who've been with us on the journey from the beginning the dystopian the utopia one way to describe that using our parlances the dystopia is the existing banking system that we have centralized actors highly permissioned you have to ask them in order to engage with your banking services and the utopia solution where we solve parts of mev is the bankless system that we're striving for so you can see why why it's such like a it sounds like such a heady topic like mev maximum extractable value and we're talking about terms like you know pbs protocol builder separation and all of these things but this is really core like we actually need to fight for this in order to get the bankless money system financial system that we actually want like at some level everything hinges upon this and the outcome will decide whether we're left with the old system we left or a new bankless system where everyone can be their own bank that's why this is so important david i think you wanted to say something yeah the the only thing i'll i'll add to that is that the people that identified mev very early on like phil diane really brought it to the world and then uh with his presentation early early presentation i believe it was the flash flash boys 2.0 presentation which really um pulled some very similar patterns that we've seen in the stock market which uh stefan you've already kind of identified as like co-location right there are there are these high frequency traders in the traditional stock market that are like fiercely competitive with each other and like very specific on how long of a length the fiber octaves cables are between them and like the new york stock exchange because they can get their trades in quicker and then they can collect all the value and so when we when phil diane and others in this base identified this thing called with that that they that they dubbed mev they were they could predict this in the future that a a new equilibrium will become established as a result of mev and that particular equilibrium is one that capital creates capital at a faster rate than what we are really comfortable with in a way that does not create decentralization it creates centralization vectors and so when stefan here is talking about like the supply chain of block buildings the supply chains of a transaction uh and he as stefan you said it's good if it was horizontal rather than vertical with many many different participant participants playing rather than one central actor that is what we're trying to do is create an equilibrium that is something else than what we would just see if we just let mev go rampant without trying to solve it so stefan like uh leading into this a little bit more like you you talked about like um there's like the three different outcomes of like mev there's like the spam attacks where like um uh mev extractors will try and just like fill a blockchain with all their transactions as many as possible the other one is co-location which we've already seen in the traditional world and then the third one is something like flashbots and what we're going to be talking about for the rest of the podcast um the theme with pod with flashbots is that this horizontal supply chain really what we're talking about is we're putting something into a marketplace everything that would otherwise be centralized we're finding mechanisms to turn that into a competitive marketplace can you talk about this strategy of making the mev extremely competitive and turning it into like a public market and how this aids in our effort to make sure that uh the equilibrium that we are creating is one that stays in a decentralized world yeah um it's really interesting so um a lot of my background is sort of a mix of computer science and like market structure um uh theory um and if you look at like a health of of a market or industry um in terms of competitiveness you know like anti-trust laws a lot of it centers around barriers to entry um this is why i think the the med supply chain you know description is quite useful if you if you look at the supply chain as what's the barrier to entry for a new actor to come in and start participating in one of these like economic roles you directly start to think about you know competition how much competition is there in this market and when you start to think about competition you also start to think about how decentralized and and permissionless um is it um so um you know this this framework of of competition is that is the most useful way to to start analyzing how how the ecosystem evolves on map so you're talking about a competitive equilibrium like why so why is this equilibrium important to maintain yeah so um there's a couple aspects to to the competition that we can look at right there's the just the competition between individual uh miners or validators right and we all want these validators in the ideal case to be extracting like a proportional amount of value to the amount of stake or the amount of hash power that they have and really that's like a key metric that we look at for for the health of the system the competition in the system are all the validators uh in in a given chain accruing value at the same rate that's proportional to their stake or are they accruing value at a rate that's disproportional in which case we start to see trends towards uh towards more centralization um we can use this right same model of evaluating concentration and composition at other layers as well right are our wallets extracting at the same rate uh fees from there from their users our bot operators you know capturing value at the same rate as as other bot operators um you know this this this concentration metric of of the market is useful in each of these uh these verticals so let's talk about that for for a minute in the current state right so i think for the for the rest of this episode we might talk about kind of like you know the past date where we really didn't see much mev activity maybe didn't need much mev protection but you know that's kind of the past now we want to talk about the present state of uh how blocks are made in ethereum and what the mev supply chain looks like and i think we'll get to kind of the future state where things get really interesting especially in a post-merge world something really big happens with this thing called mev boost we want to talk about that and then even in the kind of the far future of incorporating some of this mev technology as part of the ethereum protocol there's a lot to unpack here but but let's start with the present state all right how how does the block get made in ethereum what does the mev supply chain look like what are the parties that are involved and how do they all work together okay uh mev supply chain crash course here we go so um right when ethereum initially launched the idea was everyone would run their own ethereum node right and they would send transaction to their local node propagate it over the peer-to-peer network where it would reach a minor and then the miner would include in a block and then propagate that back to the network so there's really only two actors involved here right there's the user then there's the peer-to-peer network and then there's the miner and you sort of route transactions to them and they get included eventually right we have these intermediaries that came up to help users submit transactions and and sort of um clarify the intent of how they want to operate against the chain um so i would classify these sort of parties like the metamasks the uniswaps the uh the infurias of the world as this this wallet layer right they help take user intents or user preferences and then convert those into a transaction that then they relate to the peer-to-peer network and then like makes it all the way to a minor and then the minor includes it in the chain um so great we have this additional entity right like the wallet application um entity um what started happening when mev opportunities became very big is that there was these new entities uh operators that emerged and they started looking at the transaction pool and saying oh here's a transaction that creates an arbitrage opportunity let's send an other transaction that either takes this arbitrage opportunity or front runs it or back runs it or whatever and then included in the chain eventually they realize you know we're competing on sending these transactions over the transaction pool what if we were able to you know just communicate it directly to the miner and not have to use the same public transaction pool as as users did so it created a whole other side channel right to the public transaction pool where where users are used to sending our transactions where transactions are now being routed directly to the miners um using sort of a different network um so what flashbacks did was was realizing that this trend was emerging and then trying to provide more transparency to it so create sort of this open permissionless uh market where you could route these transactions with with sort of more advanced preferences uh to to the miners so we now have this sort of other uh this other uh intermediary in the system right which is the user sends preferences to a wallet the wallet encodes these into some transaction those transactions make their way over to operators right the operators then do their mev thing and add transactions to it and then they send those transactions as a bundle to the miners uh for inclusion um this is the current state of the world this is how ethereum has been working for the last uh year and a half right um now with uh with the merge quickly approaching we're introducing yet another actor into this into this supply chain um and that is the one of the builder so we're taking the role of the miner right and then we're untangling it into two different roles the role of the block builder and the role of the block proposer so a block proposer is just your average ethereum validator right anyone who has 32 each stake and is running an ethereum full node um what they're doing is they are uh outsourcing the job of taking transactions and producing sort of a maximal value block to this you know network of builders so this builder now sits between the operators and the validators collects a bunch of transactions from the transaction pool from block operat from from from searchers and then creates an optimal block with it that they then provide to uh to the validators for inclusion um so that's going to be the world immediately after after the merge um this is powered by by by uh by what's called pbs right block proposer block builder separation um and the specific software that's used to achieve this is is called netboost okay so so um you you gave us kind of the the tour the warped tour through through all of that i want to kind of you know double back and make sure we understand um you know the present and then getting into kind of the future um so the present state uh for the first like i don't know five plus years the first um in bitcoin really we didn't have an mev problem and the reason why is because we didn't have smart contracts is that the case staphon so we started to notice these mev extraction type of opportunities when in the timeline was this like 2017 2018 when did phil and others start noticing these things so 2017 is when i started uh getting involved and i think some of the initial explorations of mev started happening on the research side i think there's always been operators understanding where opportunities were but you know in 2017 is when we started seeing icos and ico sniping which is mev we also started seeing sort of initial versions of bancor and ether delta and sort of the exp the the mev that gets exposed by by those early d5 applications um but there wasn't really meaningful volume it was hobbyist mvv if you will it was all sort of individual operators that that were targeting this and was maybe like five different people doing this um and when when things really picked up is when you know smart contract and d5 really picked up which was uh which was summer 2010. okay summer 2020 and then it's accelerated from there i would imagine uh and okay so enter flashbots it's it sounds like there was sort of this um this informal arrangement this informal selling of of mev or you know paying a minor in order to get your your block through quicker it was all very uh informal but go over what did flashbots do you created a marketplace i believe for this mev activity and made it permissionless transparent and back to kind of the the core idea you were talking about earlier is you made a competitive uh environment for it so it wasn't an insider network you know talking in in uh telegram quarters behind the scenes to make these arrangements it was completely transparent now open am i getting that correct and how would you describe that yeah so the biggest risk we saw was exclusive access to hash rate right um and and we've seen this play out in other chains so it's been really nice to see our sort of thesis uh be accurate here because this exclusive access hasn't really occurred on ethereum but but how this gets expressed is you know a large mining pool uh you know the largest on on ethereum right now is ether mine would say okay we have this mev opportunity here we know we're in the like best position to extract it let me con take a contract with some mev hedge fund and say you can operate our nodes for us do any type of mev extraction that you want and we will split the proceeds 50 50. right wow um you know the the mindful is happy because they're getting additional revenue the the hedge fund is happy because uh they're they're they get to exploit these opportunities and and collect some some some peace from that um but ultimately this is this is a closed market there's no um there's no transparency to it and it shrines sort of two individual parties to compete against all the other miners and all the other operators instead what we thought was okay well we need to have a system that is democratic transparent and is able to redistribute uh the revenues or the the the value that's accrued through mev to the the appropriate stakeholders um and so the initial auction that was designed um using the system called mevgeth uh basically did this right it allowed any miner to start accepting um these bundles uh from uh from third-party uh operators um and then include them into into their block thus accessing um accessing uh uh all of the mev opportunities available and likewise allowing any ball operator to start sending these bundles to all the miners um so by multiplexing right all the bot operators with all the miners all of a sudden you can have this transparent uh auction and market for for price discovery and geth me v geth is just like geth is uh an ethereum client of course that miners run and you're just adding the mev software on top of that right and that that's basically what the miner is instead of vanilla gets you running mev geth is that correct it's a surprisingly simple change like 100 lines of code wow and so how many miners are running this now so yeah about um 90 of the miners have been running this for over the last year now um and yeah because it's a very simple change for them it's it's easy for them to maintain um and then yeah it allows them to to connect to this this is why i don't know if ethereum users are aware but like flashbots has been kind of like a silent guardian of ethereum at the protocol layer protecting it get us against some centralization vectors here if if the mev geth was not available what do you think would have happened with ethereum over the last couple of years play that scenario out for us yeah so you know the place to look at for the counter factual here is looking at other chains that don't yet have sort of an mev solution is this basically all of them or do some have an mev solution basically all of them yeah yeah yeah and and a lot of them have experienced things like like deep reorgs or spam um uh or just like a lot of concentration in in the validator or hashrate um access no we we hear of anecdotal uh but many of these networks you know over 70 80 percent of the hash rate or validator power being controlled by single entities even though on chain it looks sort of distributed amongst a large set of validators because they can then sell all that block space in bulk to uh to third parties um and connect and collect sort of uh uh revenues from that um in a in a sort of off-chain manner um so so there's a lot of uh much uh shadier things you know going on in in these other chains that don't have these permissionless democratic transparent uh uh marketplaces so we already have the dystopias we're not really waiting for them we already have them like what you're trying to prevent is from ethereum specifically and maybe for change in the future from becoming dystopias yeah um that's true um i mean we have it and we don't you know some of these other chains are are just much more centralized by nature as well right just the way that they've uh done sort of ecosystem development um a lot of you know the chains are controlled by the foundation and then the foundation can have a lot more say over the type of activity that that ends up happening um but uh you know for the for the more decentralized ones then we have seen a lot of this this sort of concentration through through mev um we have seen this sort of dystopia emerge it still is the case today that the majority of economic activity sort of by by orders of magnitude is is on ethereum so um you know our stance at flashbots is if there's one place to protect decentralization it's on ethereum and then hopefully whatever abstractions and and solutions that we're able to develop uh in this ecosystem can then be ported over to uh to the other ecosystems i wanna drill down on two parties really quick really just to emphasize why this new equilibrium emerges with flashbots uh so we talked about earlier there's uh the the largest ethereum miner uh spark pool is that is that the the largest one there used to be no it's just mine ether mine uh and then say let's have some like you know imaginary like prop desk jump capital for example uh drum capital and ether mine make a handshake and be like all right uh sparta uh jump capital says the spark pool give us all of your order flow like show us all of your transactions so we can do all of our mev and spark and spark pools like okay sure great like mutual mutually beneficial relationship to the loss of every other non-spark pool non-drum capital entity the reason why if you are a miner and you are a miner is like sending your hash power to spark pool or or just a minor in general or you're the other party you're an mev arbitrager like you know balancing unit swap pools doing liquidations on maker dow the reason why you would choose um flashbots instead of choosing spark pool or if you're drum capital i guess if you're an mme mev miner you can't join drum capital that's kind of the problem um the reason why you would choose flashbots is that if you are a miner you get more money if you choose to go through flashbots than you would if you were to spark pool because spark pool is giving 50 of that rewards over to jump capital not to you and so there's you have a raw financial interest to joining flashbots because you pull out a larger proportion of that mev if you're an mev bot operator and you have a really good mev like algorithm highly refined well if you you can't join drum capital so you have to go to somewhere else and you got to go to flashbots because it's an open permissionless marketplace and so what flashbox has done is created a highly competitive environment that is extremely beneficial to proof-of-work minors because they extract the most mev that way and it's also the only place where mev like arbitragers can have their like playground of you know sandbox of of their to run their bots because it's the only open permissionless marketplace for bot operators so flashbots is really just like a meeting place for hash power and mev bots am i explaining this uh correctly what would you add on to that i think that's exactly right um so here's one thing i want to add about this um we spend a lot of time thinking about incentive compatibility right and we think that the only systems are robust long terms are ones where like every single actor it doesn't have a benefit from deviating right so this is you know this is the equilibrium that we want any of these cryptoeconomic systems to have everyone is incentivized to play the same game and the game is sort of beneficial to to all the other actors it doesn't have some negative externality on like end users that they're like stuck paying forever um so the system is designed in this way right it maximizes the amount of value that miners get because this is inherent to mev maximal extractable value right like they own this value and so the only way to create an incentive compatible system is one where they end up extracting the majority of this value you can also create system in which you minimize and like reduce the amount of mev or like the amount that miners can can operate on top of and those i think are also you know extremely valuable uh uh design approaches um but they sort of start at the application layer right they start by building applications that just do not expose as much of this value in the first place um so uh incentive compatibility here is is crucial to have these systems that um that everyone is is happy to adopt it's really interesting because like an example david that that you were just saying if you've got um a spark pool and they've got jump capital right it's like like what we know is going to happen over time if there was no flash bots in between if there was no mev geth is that spark pool gets enough money and they just vertically integrate and they uh jump capital gets enough money rather than they vertically integrate and they buy uh spark pool right and then it all becomes one like that is the nature of these markets where even somebody hearing that they're like well it's actually like two parties well no it's not going to be two parties they're just gonna acquire they're gonna consolidate they're gonna merge they're gonna integrate it's kind of the way like you know disney owns freaking every brand they've got marvel they've got star wars they've got everything it's a big conglomerate that is the nature of these types of capital markets unless you enforce or create some sort of decentralized marketplace where everyone no one's disadvantaged and everyone has the the freedom to it advantage and you've as stefan was saying earlier you've lowered the barrier to entry i just wanted to make that point too as you were talking david i was thinking about that you know another way to see this is like if we allow a single party to have sufficient market power capital to be able to purchase other parties and like integrate they will they will so the only solution is to try to maximize competition it's the only way to protect the the decentralization of the system well the other solution is of course top-down regulation but you know maybe maybe in the world of crypto and crypto people that actually is not a solution that's actually a failure scenario so the yeah you're right the only solution is is bottom up competition and so this is why this this solution for this is so elegant and so so honestly like what makes people like me and ryan like really optimistic about the future that we can solve some of these centralization problems with natural like not anti-trust regulation but anti-trust mechanisms like which are just marketplaces at the end of the day like making sure that competition can flourish because the more competition there is you know the better it is for everyone everyone involved um stefan i'd like to take this conversation into the next phase because this is we're talking about the current state of ethereum but ethereum never never stays the same ethereum is about to change so what we've been talking about so far has been mev guest but as we go into proof of stake post merge we get into a future state of flashbots which you guys have been working on tirelessly for for many many many many months now which we you guys have been calling mev boost can you talk about mev boost and how it's different from me v geth yes so um we started working on this over a year ago um knowing that there was a lot of progress being made and commitment from ethereum core developers to move towards um the words the merge um you know for for us obviously we didn't have much of a choice but to look at this because all of a sudden this 90 of you know miners who are running our software becomes zero um and then there's this entire new set of stakeholders uh uh node operators and and solar validators who you know don't have software to run so the the immediate obvious um you know answer would have been okay well let's just port the software that's already working right and apply it over to uh to the validators um and happy days we still have this like 10 line patch on top of the client we can still run geth everything is sort of uh running the same way but we thought we could do better so you know one of the principles that we have is to incrementally improve the trust assumptions of the systems that that we're building um and uh right now there's sort of a few properties of how this auction works that relies on trust miners see the full content of the payloads that they receive they see the full content of the bundles and so they still have the ability to front run those bundles or you know de-prioritize them or you know center them completely if they so wanted what this meant is that you couldn't send these bundles to just anyone right this would be like a market-breaking uh uh flaw in the system where no one would then trust the privacy and and and the integrity of this auction and they would no longer participate in it so there was a scalability limit in the number of entities that you could have participating in in this marketplace on the minor side um so we wanted to solve this we wanted to create a system that was more permissionless where you could have 100 of the validators on e2 participating um and the way to do that is to uh to shift from this idea of having bundles to the idea of having full block proposals and introducing this role of a block builder there's this uh there's this blog post by by vitalik on each research uh introducing the concept of pbs which which is achieving exactly this it's achieving separation between the block proposer and the block builder in such a way that the block proposer no longer needs to see the content of the block that they're proposing to um to the network they only need to make sure that they're selecting the block that has the highest amount of value and then they can outsource completely the job of block construction to these third parties block builders that can themselves you know be more centralized potentially and they're having less of a risk for for the integrity of the chain because all of the validators can participate uh equivalently so this is sort of the key change that um that we aim to to have uh with with the merge and it took a a while to figure out what was a design that was compatible with the merge pbs as a whole the idea behind it is to have a consensus level change right a change that would require an upgrade to the the ethereum network as a whole modify the four choice rule in a way that sort of embeds this uh directly into the protocol and uh we knew that we didn't want to delay the merge any more than it's already been delayed and didn't want to ship any of these like large you know features at the protocol level before the merge so we started working on a design that could sit at a layer above consensus right this sort of marketplace approach that flashbots has but with some of the additional properties of of the system um so this is called methboost um and yeah it's it's you know in the final stages of testing now with uh node operators um we have uh this this landing page called boost.flashbots.net uh where you can keep track of of the progress on on um on adoption of that software um and yeah it's promising to bring a lot of of of neat benefits to um to ethereum and so this is a really a product for validators for people that plan on staking their eth and running a node this is a solution for them and we can go and we're and we probably will go into the details about like how uh mav boost you know preserves the decentralization ethereum or we've already alluded to it a lot but like you can kind of take it on faith when the function when the mechanism is that validators are presented with an array of blocks like uh like a little mr menu comes up and says here here are your available blocks sir or ma'am and then you can say like i picked the one that gives me the most money uh and you'll pick that one because you're rationally incentivized too and you'll pick the one that that pay has the biggest mev like tip that's associated with it and you can just take it on faith that that is going to be the thing that preserves the decentralized decentralization of ethereum the most because you're capturing the most value the the values being captured by the ether stakers and not who is ever like bundling up all the transactions doing all the mev and because of the by nature of like all the other ones are paying you less you pick the one that's paying you the most so you know that you are pulling the most money off of the table and leaving the lease amount on the table for jump capital uh and so it goes to the individual staker who we hope is you know decentralized network of stakers rather than a much more um professionalized like block builder or expert block builder that is like an activity that i have no idea how to do or how to engage in and neither will like 95 of each stakers and so that's how you kind of know that it's preserving decentralization yes 100 arbitrary is an ethereum layer 2 scaling solution that is going to completely change how we use d5 and nfts some of the coolest new nft collections have chosen arbitrary as their home while d5 protocols continue to see increased liquidity and usage you can now bridge straight into arbitrary for more than 10 different exchanges including binance ftx kuobi and crypto.com once on arbitrary you'll enjoy fast transactions with cheap fees allowing you to explore new frontiers of the crypto universe new to arbitrary for a limited time you can get arbitrary nfts designed by the famous artist ratwell and sugoi for joining the arbitrary odyssey the odyssey is an eight week long event where you complete on-chain activities and receive a free nft as a reward find out more by visiting the discord at discord dot gg arbitrary you can also bridge your assets to arbitrarily at bridge.arbitrum.io and access all of arbitrary's apps at portal.arbitrum.one in order to experience defy and nfts the way it was always meant to be fast cheap secure and fiction free the brave browser is the user first browser for the web3 internet with over 60 million monthly active users and inside the brave browser you'll find the brave wallet the secure multi-trained crypto wallet built right into the browser web 3 is freedom from big tech and wall street more control and better privacy but there's a weak point in web 3 your crypto wallet and most crypto wallets are browser extensions which can easily be spoofed but the brave wallet is different no extensions are required which gives brave browser an extra level of security versus other wallets bravewall is your secure passport for the possibilities of web3 and supports multiple chains including ethereum and solana you can even buy crypto directly inside the wallet with ramp and of course you can store send and swap your crypto assets manage your nfts and connect to other wallets and defy apps so whether you're new to crypto or you're a seasoned pro it's time to ditch those risky extensions and it's time to switch to the brave wallet download brave at brave.com banklist and click the wallet icon to get started juno is bringing crypto friendly banking straight into your trucking account with juno you can send money from your juno checking account straight onto a layer 2 like polygon optimism arbitrarum and they have zk sync and stark net support on their way you can skip the ach wait times you can skip all the gas fees and go straight from your checking account to an ethereum layer 2 in seconds inside juno you can buy and sell crypto with zero dollar fees and your juno checking account comes with a metal master card that gives you up to five percent cash back on your spending juno is also giving you ten dollars cash back on your first crypto deposit and a hundred dollars when you set up a direct deposit this ad just writes itself so go sign up at juno dot finance slash bankless so let me make sure i understand this so we've got right now we're in the stage pre-merge of you have this software called mevgeth which is just like 100 lines of code that you add to the geth client cool got that 90 of miners have deployed that all right now you're taking a similar model i think and you're saying in the proof of stake world post merge we've created some additional code that can be added to an eth validator client and we're calling that mev boost or mev boost that's where we get the mev part and uh i i would assume individual client teams you know we have like you know prism and nimbus all these teams do they have to adopt it are they deciding to adopt it or are the individual um like validators or validating pools you know like all of the validators in the lido network are they having to adopt v boost what does the mev boost adoption path depend on all of this all of the above um so so this is one of the challenges with developing these uh these pieces of software is there's so many different stakeholders that you want to work with and get their input into development process so it's sort of a fully open source approach collaborating with everyone from ef research team core developers of all these different clients node operators everyone from you know the the more distributed decentralized ones to the you know the fully custodial centralized one creating a piece of software that meets all of their their their diverse requirements um and that they are all sort of on track for integrating um you know a lot of cat hurting right um but um but yeah so so at the core rate what this the software aims to do that's somewhat different from um from mevgath is uh aligned with the the objective that the the ethereum core dev developers had with um with shipping clients for for the merge so protecting client diversity was super important um you know as we all know the majority of nodes on ethereum today are uh are geth nodes right go ethereum nodes and that creates some some some risk because if there's a you know a consensus uh issue within the um the ethereum client this all of a sudden sort of becomes a canonical the canonical chain and requires some some social coordination to recover from so um in an effort to avoid this the goal with proof of stake ethereum is to have a wider diversity of of clients what this means for us is we shift away from just having a single patch on top of a client to now wanting to build a sidecar right an individual piece of software that can plug into any of the consensus client using a standard api um so there's this thing called the we're getting into the weeds here but the ethereum builder api right which is a standard specification that all the different client development teams have implemented um and and uh the mevu software plugs into this uh protects the the the client diversity of um well it's okay so this is pretty cool but it's like but like your pitch to all of these different stakeholders is um i don't know it seems like a good pitch it's just like add this code and you get more money right whether you're a validator pool operator i guess maybe the client teams have to do some extra work but they probably want their client to be able to get their validators who use it more money so the pitch seems like it would be as adopted as as mev geth was like how long do you think it'll take to get to you basically everyone is is using mev boost does that happen from day one or will it take some time yeah our goal is to target everyone having that as soon as a marriage arrives um and you know it's it's mostly a question of the node operators at this time how comfortable they are in their deployments and when they have done so the background wrote work to be able to um to expose um you know immediate rewards to their to their stakers um but uh you know all the interfaces within the the ethereum clients are implemented uh med boost itself is is feature complete um and uh and now it's at the stage of of testing uh in uh test net you know environments with uh with node operators so this is gonna be cool and guys i just want to remind bankless listeners this kicks in right after merge the same so much so much is happening at the merge right proof of work gets it gets turned off new blocks and improve a stake um you know start producing an mev boost will be in play too and i'm curious to find um what kind of difference might be might we see in the um the ap apy uh for for staking right so like let's say i don't know it's four percent what is it right now staking uh ap why point two four four percent something like that four point two percent um that's without mev boost and that's without staking do you have any numbers on what it would look like with mev boost turned on yeah a couple things i want to touch on so so one of the things you brought up is you know it's cool that this is ready right at the merge the the real answer is like we don't have a choice but for it to be ready at the merge because mev will keep happening yeah you know whether it's on proof of work or proof of stake anybody will stay there right and it'll keep happening and what happens if you don't have like an efficient block space market for mev uh after the merge is you go back to the way that ethereum was during like summer 2020 which is like a lot of spam a lot of gas wars and everyone ends up paying more for for inclusion and getting like a degraded experience um so in order to mitigate that you want to have these like efficient marketplaces in place as as quickly as possible so that's why like immediately after um and yes in terms of you know how much reward this this provides uh validators well as we all know right issuances of eth after the merge goes down a lot um and so a lot of the value that miners have been collecting up to date has been this two eighth block reward every block this goes away um and now you know mev becomes a much larger piece of the total reward that that validators receive we have some numbers that are analysis from last summer right completely outdated there's a lot of things that happened since then first of all the market you know went crazy and then died down a little bit um also yeah p1559 came out and sort of modified a lot of these numbers but anyways the the metric back then was around sixty percent of the rewards uh validators is going to come from um from mev we're working on outdated numbers so please caveat this it'll be potentially lower than than this but still some significant amount of value that that can't um that can't really be ignored by validators okay give us that number again those numbers again sorry i missed it it was 60 was the initial analysis 60 of the total reward would be mev so we're talking at least a few percentage points few hundred bips on top of like you know if staking is four point two percent and actually thinking is four point two percent reward right now right you'd look at ten percent apy total wow wow yes right ten percent of like sixty percent of total right and that's what he said so that would be six percent if total is ten wow um and that could change of course given like market conditions and mev potential but it's like that's a big reason to go get mev boost i'm not worried about your adoption sir i think it's gonna be fine i think everyone's gonna want this um i i i guess there are so many different you know side quests we could do on this like one part of me wants to ask on a side quest by the way are there going to be any big mev issues when proof of work is was turned off and we migrate to proof of stake like what's going to happen there during that kind of during that gap but but another question i have before we get there is maybe like um why are you guys doing this why is flashbots doing this like do you guys have a token you know you're trying to pitch or something like are you it called an organization at the beginning are you kind of a commercial enterprise you're here to make money are you like a non-profit trying to make the world a better place because this is definitely a public good but how do you fund yourselves and what's kind of the what's in it for flashbots okay what do you want to tackle first let's do the second one i want to hear about the incentives of flashbots as an org okay yeah so so flashbus is uh sort of emerged from from a telegram group of researchers really and what we realized very early on was if this is a very difficult problem and if we want to attract the best talent to solve it we can't really structure it as just a non-profit entity so we did uh uh raise some money from um from investors that are that are highly aligned with uh with ethereum so you know one of our biggest backers is is is paradigm and and the reason why we wanted to to partner with them to fund the organization was around their heavy focus on on on research and so their proven research output um so we are structured as a for-profit entity but very deeply ingrained into the sort of culture of our organization is commitment to the principles that we've laid out um in our initial foundation so we have sort of a a public record of of these these commitments that we have towards a community and really that is that is our north star um we don't have any sort of monetization method right now or plans to have monetization methods anywhere in the future at some point in the future yes but not in the immediate future and the reason why is we don't feel that mev has been solved as a problem yet we sort of have confidence that if we are able to build solutions that actually help achieve the principles that we've laid out there will be some way somewhere in here for us to to monetize um and really the the main thing that we have to do is is commit to those principles and follow through with them um and yeah that's the way we've been operating so far so in in the future with pbs proposer builder separation this this will go from uh you know uh which is it's more or less what mev boost is now but except in its current say mev boost is kind of like the side car to a bunch of ethereum clients in the future we'll have an eip we'll have a hard fork to ethereum that will actually enshrine the same role into the protocol and it'll be called proposer builder separation but once once the service of flashbots becomes a part of the actual core ethereum protocol what is what's the role of flashbots beyond that like does flashbot sunset or how do you guys have a company once your guy's a service actually just becomes a part of the ethereum protocol so pbs is a small part of the mev solution it's sort of you know the the answer there um i'll link us back to the mev supply chain question um the immediacy supply chain is actually multi-dimensional so not only do you have a supply chain on a single blockchain but you have a supply chain on every single other blockchain as well and pbs really only targets the relationship between builders and validators it doesn't say anything about the relationship between users wallets wallets searchers searchers block builders those are all sort of solved by other by other solutions so while like pbs is is hugely beneficial to the decentralization of the system on the um on the at the protocol level right and maintaining validator decentralization the focus then becomes how do you enable decentralization at other layers of the stack how do you enable block builder decentralization as a whole how do you solve problems like cross domain mev cross chain mev how do you solve the problem of exclusive order flow these are all other sort of mev problems that uh that remain unsolved even in a uh pbs world we've uh used this this model uh on bankless a number of times before called moloch uh this this god of coordination failure and you know moloch is something that you fight but you can never really finally slay like he never he never goes away he just emerges in a different place and so is is your answer staphon that you know flashbots focused on mev boost right now and once it gets enshrined in the protocol that part of like uh centralization that centralization vector kind of actually does go away but then there's like other pockets that uh mev boost will like hop around to try and wherever there's a vertical integration like a uh capture wherever there's like a centralization vector flashbots will come in and figure out some mechanism to make that more into a competitive marketplace and then i'll solve that problem then it'll go on to the next one the next highly vertically vertically integrated uh centralization vector and then flashbox will go there and try to make a marketplace out of that and then move on is that that's kind of the idea yeah exactly um and i think a lot of these solutions will sort of converge right um i think i don't think that it is an infinite problem space i think it's a very vast problem space right like when we think on the research side of the organization about a research roadmap we think on like the 20-year you know maybe even 50-year horizon like there's just some fundamental computer science and cryptography problems that uh that need to be solved if if we're going to solve the the mev problem like at the fundamental level and a lot of these solutions that we're looking at now are are you know short-term patches that move us towards this this ultimate uh solution what's super interesting as well about this model is is effectively you guys are like ethereum core devs now i guess if that's what that means and what's super interesting about this model is um this is private sector developing an important enough feature and and um yeah feature set that eventually public sector the ethereum protocol itself says oh i want that please we need this let's embed it deeper in the protocol and your work becomes embedded and enshrined in the ethereum protocol therefore making you staphon an ethereum core dev i guess i guess that's how it works and uh that's very fascinating to me can you tell us a little bit more about pbs itself as it's enshrined in the ethereum protocol like how far away is that and like how much do we actually need it it seems like mev boost can like do a pretty good job of it so maybe it's not that urgent or you tell us when is it coming how urgent is pbs getting that enshrined in the protocol layer yeah so it's you know notoriously difficult to predict uh you know consensus level changes um on ethereum i will say you know pbs is still at the research phase um there's a lot of ideas for how how it can work but it also is intermingled with a lot of other items inside of the ethereum roadmap um right so um so it has across dependencies uh on several other things and as we learn more about how meth boost performs um and yeah how it gets used it will also help inform how to design uh pbs so a timeline is is you know impossible to give but it won't be in the next year or two as my uh is my uh very conservative uh estimate um so we'll have some some some period where you know we expect the ecosystem to evolve on top of meth boost you know sort of stress test it figure out how it needs to be improved how it needs to be changed and then i expect iteratively we'll move more towards an enshrined a system from there and our like metboost kind of gets us what we need right like we don't really need this pbs feature in order to protect us against decentralization at that level we do still need it um so mev boost gets us part of the way there the problem is that it sprinkles a little bit of trust uh special sauce onto the system to be able to work so while it achieves the decentralization on the validator side it introduces these relayers which are sort of delegates of validators but these relayers still have access to the information so they are sort of receiving blocks from block builders they are holding on to them and then they are like submitting them to validators uh for for inclusion um this realer role is the one that that full pbs or and trying pbs gets rid of um so it's it's important for uh improving the trust guarantees of this system but uh the system works even uh even uh with those in place yeah how how worried should we be about that relay relayer role um i guess from a from a practical perspective um is that a large centralization vector vector i'm i'm really not sure how to think about the relayer role right now i guess i haven't given that rule too much thought so the main um the main concern with regards to uh block builders or or relayers is really one of of censorship right so if you have um a single entity that's sort of accepting these these transactions and holding on to them before submitting them on to to validators they have sort of the opportunity to perform censorship over those transactions so if you look at the the pbs roadmap it gets rid of these roles and it introduces some mechanisms to help protect against against censorship which is something called cr list and and those like help mitigate this this specific issue one thing that's worth noting is like while uh relayers have the ability to uh to perform censorship they don't have the um the incentive to do so and they still incur a cost to perform censorship right so it means that all the blocks that end up being produced either from the block builder or the relayer is going to be less valuable which means some other relay or some other builder can come in and produce more more valuable competitive blocks um so so really the the censorship piece is is the piece that's um that's most uh crucial to solve uh in in the entire pbs yeah it's interesting to think about this way it's like any mev boost as a whole is is kind of like you know plus 10 points let's say to the to the character stats of ethereum for mev resistance which is a great thing but it's also maybe like a minus one point or minus two points from a censorship resistance perspective maybe that's the case and then pbs kind of plugs that hole uh so you know we get back to the the censorship resistance that um that we want to have from the ethereum system okay just a quick branch down the other rabbit hole so i think we've described past present and future for mev and flashbots as it emerges from first mev geth that's what flashbots is doing today in the proof of work uh mining a world but that that that world is is fast fading and hopefully maybe september october uh we will have the next stage which is mev boost and so we've got this this marketplace for proposers and and builders kind of achieving a similar objective of creating a marketplace for for mev separating these concerns and then eventually years later potentially we get this technology enshrined in the protocol as a protocol builder separation so this is enshrined pbs but um there's this other thing that's happening of course with with the merge and i'm curious it it seems to be the case that there's going to be a lot of mev type of opportunities maybe stuck on the proof of work chain in this transition to proof of stake at least i've i've heard big brain mev folks talk about it in this way and i'm curious if um yeah what would you say about this at merge time at merge o'clock are there going to be some like weird mev things at play and what do you expect to see so i don't know exactly what will happen i know there'll be a lot of chaos i know that a lot of very smart operators have been thinking about this for a long time and like building strategies because there will be a lot of like one-off opportunities one-off arbitrage one-off you know um things that can be done um between the the the two chain let's say that the proof of word chain continues to march on uh or whatever so there's going to be some a little bit of mvv chaos that's that's uh pretty much uh for granted um i don't think it's anything that's going to compromise the stability of the system or like compromise the merge from from happening but it will mean that you know about operators who are prepared to capture it will will make a little bit of money um at that time um no the the alpha is knowing exactly what those strategies are and i don't have that i don't have that i've uh i've described uh the block one of the proof-of-work fork chain as that one incident in san diego a few years ago where they were doing a firework show but because of a computer malfunction all seven thousand fireworks all got lit off at once rather than rather than orderly orderly and normal like distribution of fireworks anyways um stefan there's a few like happy by-products of mev boost that i'd like to go into there's some things that it enables that it didn't it doesn't intend to enable but it happens to just bring along with it things like account abstraction maybe there are others could you walk us through uh just some of the extra cool stuff that comes along with mev boost yeah so um you know one of the things that's always been sort of a limitation of of uh app developers on top of ethereum is the abstraction of a transaction you've always had to encode whatever you do into a transaction that you then send over to the network for inclusion and you know the reason why that's been a particularly difficult abstraction to break is because a transaction has these properties around around dos protection right that um you need to have a fee payment embedded into the transaction and it reverts on chain and like you have all these things that like require you to pay for it using eth um this is all sort of becomes um uh a thing of the past when when we start to look at uh at uh at mev boost because block builders can start introducing uh any sort of uh abstraction that they want on top of their block building algorithms they can start to say you know if you have a smart contract on chain that accepts signed messages you can actually issue a transaction by just signing like an arbitrary piece of text um and you can pay for it using dye or usdc or like any other stable coins and then behind the scenes it sort of converts that into um and to eat and then uses the east to pay the the base fee and and pay for the inclusion by the way we did an entire episode on this with matt from block native called ethereum's hidden power structures and we spent a little bit of time speculating who this new builder class would look like because so uh again in proposer builder separate separation right the proposal proposer that is kind of the the at-home uh validator individual running an eth node like very easy job kind of you're just running your eth node but the builder requires some additional skill and it's probably going to be commercialized it's probably going to be a set of organizations or companies or entities doing this do you have any speculation on what this builder market might look like uh staphon it's very difficult to predict um you know there you can analyze any market using using some first principles right like building right now is like a blue ocean like there's no one doing it so probably what's gonna happen is there'll be some some players that are like newcomers and they'll they'll have a first mover advantage then there'll be like an explosion of competition because ultimately block building is meant to be like a competitive landscape um and then a lot of innovation is going to happen a lot a lot of innovation so we'll start with a few builders then a lot of builders then most of the innovation is going to have taken place and then we'll see some concentration again back into fewer builders ultimately it's likely that you know the marketplace is going to have some kind of power law distribution where the top builders aggregate the majority of the proposal power but one of the the things that we want to optimize for is to keep this distribution as flat as possible right so what flashbots is going to be looking at as this this builder market evolves is what are the sources of advantage and what are the like the key innovations that some of the block builders are um are introducing to the marketplace and how can those be commoditized so that they uh sort of remain accessible to all the the other block builders um that will be sort of a fascinating journey that i think the ethereum ecosystem is going to engage on over the next few years is there a risk of over centralization in the builder space yeah i mean certainly there is um certainly there is i mean implicit into the um the design of pbs is saying okay mev is a centralizing force but we would rather the centralization happen at the builder level than at the validator level the cost of that is the risk of censorship um we as flashbacks believe that like ex you know builder centralization is not necessarily an acceptable outcome and we want to go one step further and actually achieve a builder decentralization because we think that even if it's just an economic advantage that you have a single builder or maybe a handful of builders five builders you still have a better system if if you have a larger number and if they're all um commoditized beautiful um we were going through some of the happy byproducts of uh mav boost and we went down the account abstraction rabbit hole uh are there any other happy by bi-products as well um yeah i mentioned i mentioned cancellations i mentioned um you know rescuing white hat sort of fund rescuing um i think uh mitigation of of mev is going to be one that uh that we'll see and hear more and more about block builders that have various features that help protocol developers or application developers um mitigate uh and and sort of reduce the amount of mev that they expose um yeah it's difficult to predict exactly which direction that things are going to take but but those are our early explorations i think we'll see well stefan to kind of wrap it up here you alluded to the theme of mev day at devconnect in amsterdam and it was very much good versus evil light versus dark dystopia versus utopia and these are these are just framings that i really appreciate because they they understand crypto and what we're really doing here as this multi-decade-long fight against the evils of centralization not all centralization is evil but systemic centralization certainly tends towards that uh and so putting it into people's brains that there is a lot at stake here is a framing that um i think we could lean into a little bit more here in the crypto space so from your perspective you're you have some of the the one of the best vantage points in all of crypto is to like the centralization risk of our base layer protocols uh and so if we were a needle uh going between light and dark like how optimistic are you that we are able to push this needle into the light as we go forward to our protocols um i think the future is bright you always have to maintain an optimistic view over the future i think that we are going to see a lot more centralizing forces and we are going to see more scary things take place ultimately though the only thing that matters is like a commitment of the community of the builders and the ethos of caring about decentralization to to survive uh for solutions to keep innovating and being brought forward um and i think that spirit is still holding out like extremely strong it's what we tried to to perpetuate and as long as that that spirit exists there is there is a huge amount of hope so i'm feeling very optimistic about it well stefan thank you so much for for joining us this has been a fantastic episode i know it was our gold even myself and for the bankless nation to learn a little bit more about mev boost and what is happening post merge and also how that affects the ethereum protocol in pbs i think we accomplished that today uh thank you for all the work you're doing this is a public good for ethereum for crypto and ultimately for the world and we appreciate it yeah thank you thank you so much for uh for helping educate and get the word out about it absolutely and uh stefan is there anything listeners can do to find out a bit more about flashbots and how to get involved yeah so for macboos specifically um keeping track of the progress there boost.flashbots.net and then we we are kind of uh difficult to keep track of because uh we don't uh necessarily have a lot of websites or our twitter activity uh but we have a website uh a writings website where we we publish blog posts called writings.flashbots.net um and uh yeah i recommend checking out both those those resources to learn more bangla station we'll include a link to those in the show notes boost off flashbots.net and writing dot writing.flashbots.net also second action item for you once you're done looking at what flashbots is doing these days listen to our sister episodes if you haven't already the first is a guide to the ethereum roadmap where david goes through the entire ethereum roadmap and talks a little bit about mev and pbs and also the episode i mentioned earlier today which is ethereum's hidden power structure where we go into detail in this new role this block builder role how that's going to affect the economics and power structures in ethereum so we've got some homework for you there and as always gotta end with this crypto is risky you could lose what you put in but we are headed west this is the frontier it's not for everyone but we're glad you're with us on the bankless journey thanks a lot hey we hope you enjoyed the video if you did head over to bankless hq right now to develop your crypto investing skills and learn how to free yourself from banks and gain your financial independence we recommend joining our daily newsletter podcast and community as a bankless premium subscriber to get the most out of your bankless experience you'll get access to our market analysis our alpha leaks and exclusive content and even the bankless token for airdrops raffles and unlocks if you're interested in crypto the bankless community is where you want to be click the link in the description to become a bankless premium subscriber today also don't forget to subscribe to the channel for in-depth interviews with industry leaders ask me anythings and weekly rollups where we summarize the week in crypto and other fantastic content thanks everyone for watching and being on the journey as we build out the bankless nation 