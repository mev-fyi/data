hey guys the next sponsor is ledger and ledger is running a 40 off black friday week sale so if you haven't gotten your ledger yet you are in luck for the week of the 23rd through the 30th you can get 40 off of all ledgers on the ledger website so if you are still using a hot wallet or you're just looking to get a backup maybe for a multi-sig or just for some more redundancy now is the time to go get that ledger there's a link in the show notes that can get you that 40 off black friday deal if you want to live a bankless life you need to get a hardware wallet there is no alternative for storing your crypto in a self-sovereign fashion that's why i have four ledgers that i use to manage my different crypto assets using the ledger live account as well ledger live is like your home base for managing your ethereum defy and crypto accounts it does a really good job of aggregating all of your different ethereum wallets if you are the type of person that uses more than one but you can also add other cryptocurrencies like bitcoin or cosmos or whatever your preferred blockchain is and then it will display an aggregate portfolio of all your accounts at the main page one thing that ledger is doing a really good job of is enabling all the money verbs that me and ryan talk about with the bankless skill cube enabled in the ledger live app so right now in the ledger live app you can buy sell lend swap and stake your crypto assets which is doing a really good job of fulfilling all of the money verbs in the bankless skill cube something that's new to ledger live is ledger swap where you can swap assets one for another directly inside the ledger live application ensuring trustlessness in your financial activity on ethereum and on bitcoin if you want to learn more about what you can do with a ledger go to the blog post the power of ledger live on the ledger website where they share some of the more advanced things that you can do with your ledger that you might not have known about there's a link in the show notes that will take you to the ledger shop where you can get your preferred ledger hardware wallet i personally like the ledger nano x but i also have both they're both great options when you own a ledger you own your own assets in the way that they have been designed to be held by the user and the user alone so go get your ledger today to make sure that you are as self sovereign as possible the bankless state in the nations are brought to you by wiring wiring is defy's first self-building community run project which i just get really really excited about wiring is a system that seeks out yield in d5 and it does that in a number of different ways a very aggressive way is with the vaults where you can deposit your preferred asset of choice and different defy experts will come in and generate a strategy for what to do with your deposited token right and so it'll go find ways to get yield in that deposited token in d5 for those who want to just earn yield on their stable coins the earned system is for you where you can deposit your preferred stablecoin and wire will go and figure out which money market on defy and defy is producing the best interest rate whether it's dydx it's compound or ave it looks around d5 to see where the yield is coming from and it directs stable coins automatically so you don't have to check them out at yearn.finance to get started and also check out the stats page to see what other people are doing as well what up bankless nation today andre cronier of wiring released this blog post called daraswap capital efficient swaps futures options and loans and so understanding that andre is just this rockstar developer that has some really you know some first-hand experiences with you know building on ethereum and making things really capital efficient on ethereum as well as the precedent of iron i really wanted to understand this more into greater detail and so i hit up andre i hit him and talked to him in his dms and say hey let's make a video on the bankless podcast so we can broadcast what this thing is to the world around it so before i bring andre on i just want to go over this blog post really fast to get our foundations built so dare swap andre presents this dareswap as this attempt to improve capital efficiency on ethereum and if you've been paying attention to what andre's been doing and the activities that he's been up to that's really the core problem that he's trying to solve he really likes solving capital efficiencies we have this legacy financial world we have legacy financial tools we have ethereum which is this new financial platform and there's actually more things that we can do on this new financial platform than just port over the old world onto the new world there's new things like unit swap amm models that are our new primitives that allow for new and better things so if we just bring on the old world onto the new world we actually haven't done very much innovation and i think this is what andre is really getting at with this whole dare swap thing which is really putting a bunch of financial instruments all into one stack right and so he has we have swaps options and loans and then also we have uh futures as well uh all built into this one single protocol that andre has uh has specked out uh and so in in the conversation i i you're about to get into with andre we go through these details but basically it's it's kind of like weiner it starts at this very basic primitive and then it builds out the rest of its products for it from there and the core thing to understand is that andre combines receiving fees from providing liquidity to amm markets like unit swap or balancer and also the ability to provide capital on to futures markets like darabit right and so what andre is trying to do is he's he's building out a system that can access both fees from uh amms like uniswap like providing liquidity to union swap and also pro uh collecting fees on providing um providing liquidity to options markets like therapy right i'm not an expert in option to market so the terminology i'm gonna use is probably incorrect but like when you provide liquidity in the same way that you provide liquidity to unit swap if you make offers available on um on futures markets you also can collect premiums right you can collect fees and so has built out a protocol that lets you do both at once uh he uses this uh with the standard a uniswap amm model plus oracles and the oracles uh gives gives you the the pricing knowledge of information which allows you to produce options right that's how you get an option and so this is an on-chain option all of the logic is held directly on ethereum right so we're not using some off-train order book or some off-chain like matching engine it's not centralized everything all the logic happens on ethereum uh and then you and then all you have to do to build off of options is is put a time parameter in options and then you have futures uh and then you can also get loans and secondary swaps out of this single product and so i i get into the conversation with andre trying to figure out you know is this this is this a little experiment or is this like the next big thing right um and so my big takeaways was that like you know andre's on this mission to make capital more efficient and he's done this with what he's calling their swap and he's also building more things for his baby iron to use right so successful dara swap means successful iron right if their swap can be leveraged in the ways that andre describes it then then wiring just has a new place to find and seek yield right and so um i i what i find andre to be up to these days is really he's building out different things around iron that makes wiring more valuable and that's what i see dara swap as that's what i see it to be so let's just get into the interview and conversation with andre cronia before we get into the conversation with andre we're gonna have to take a moment to talk about some of these fantastic sponsors that make this show possible if you are looking for the front page of defy look no further than xerion.io xerion is your home base for managing your d5 portfolios xerion offers a central place for you to engage with all of the d5 protocols and assets that you engage with on a daily basis but all in one central spot here you can see i've loaded up a wallet and xerion is giving me the portfolio performance of all the assets in this wallet over time as well as a breakdown of all the assets that i own as well as all of my transaction history that i've ever done in an easy to view fashion xerion also lets you invest right into dfi's best yielding financial opportunities right from their homepage xerion also makes it super easy to access interest in defy using applications like compound and ave in the background and you can also exchange your assets using the xerion app using an exchange aggregator in the background to make sure that you always get the best rates you can even use the xerion mobile wallet to add your metamask or argent or another ethereum address right into your mobile wallet so you can see your portfolio and engage in defy on the go here i just loaded up my argent wallet and now i'm going to load up my metamask as well and xerion will do the same thing it will add all of my assets and wallets together all in one space and give me a portfolio summary of what's going on adding wallets is trivially easy if you already have a metamask you can get it right into the xerion app and it can sync with your desktop app as well and the best part is you can also buy ether right into the app itself use the invest tab to look at all the things that you have invested in as well as other opportunities and coming soon to the xerion app is the ability to buy and sell your assets straight from your mobile device as well so download the app it works on ios and android go to xerion.com plug in your wallets and get a historical report of your portfolio over time as well as a comprehensive breakdown of all the assets that you own and how much yield they're generating for you we're also brought to you by monolith monolith is your cool new defy account your d5 savings account your d5 checking account except the cool thing about the monolith defy account is that it gets software updates right you actually get to increase the usefulness of this over time so here are some of the features monolith is a smart contract wallet with a lot of the features that you would expect if you've come to know defy and what it is you can you can add money to it you can put that money to work in compound and accessing yield but you can al and you can also swap through uniswap what was cool with monolith is that they will send you a very sexy monolith visa card that connects to your smart monolith smart contract wallet on ethereum so it's a really awesome tool to live a bankless life with a a savings account that gets software updates so this is something that you're never going to find out in the real world but you can still do real world things with you know real money it like buy your groceries so that's just fantastic coming soon to monolith actually already here to monolith is now you can buy die and get it sent to your wallet directly right so it's also being an on-ramp so you don't have to go through your centralized exchange like coinbase or gemini or wherever you can just go straight from your bank account right into your monolith checking account smart contract wallet so check them out at monolith.xyz okay everyone i am here with andre cronier andre has just released a a blog a blog piece on his website on his medium dara swap capital efficient swaps futures options and loans uh so this looks like a new money lego out of andre so andre congrats on making another new money lego uh maybe you could we can start with the inspiration for why you need uh why you wanted to build this particular piece of infrastructure sure um as always thanks for having me and i'll just i'll just jump into the stuff so so it started with um everything is about how do we make more healed in urine that's that's that's the goal so so looking at something like die um and and this this idea started you know three four weeks back so so back then something like di if in uniswap was the highest healed upwards of 30 apy so we wanted to do di if but now a depositor just gives us dye now we can't take that depositors die sell half of it to eve put it in the strategy and hope if is going to to to stay on point um in hindsight you know they would have gotten back a lot more money if we sent half of their die into eve because it's been on absolute tear but you know we we couldn't bet on that um so i started looking at ways of how can i provide dye if for the lp but the lp not have risk and and this sent me down the options rabbit hole worked a little bit with open worked a little bit with hedgic worked a little bit with primitive a little bit with euler and learned a lot because it was a market i knew nothing about but but options started looking like like a very valid fit uh not necessarily the way you know something like open or derebit does it which is they pre-define the the series they're going to write you know so there's there's a fixed every friday settlement date uh and then you have your strike prices and you trade on them so so it's something closer to hedgic which is a pool to pure system which lets the lps sort of like a uniswap amm the lps can provide liquidity and then the contract writes the options based on the needs of the user and and and that looked really good um one problem with that was you know you you constantly have to you constantly have to settle the options because you you don't get perpetual options basically as what i wanted to get to which you know you can just put something in kind of like a perpetual funding rate on a long or a short where as long as i keep that margin account up it'll take the funds and when i need to settle it i can't settle it because i never know when a user wants to withdraw um or settle their amount so so it's not something i want to continuously do and the other problem there is with with something like urine depositors you know these people are normally fairly long-term depositors it's not four weeks at a time so you need something that's going to span over three months or whatever but now the the the one thing that that i noticed when working with molly with the hedgic stuff was the the hijic formulas are are designed to be very very well positioned when it's when it's at the money so you know strike price and current price are the same but it starts deviating quite on the expensive side when you start moving to to out of the money positions where the the strike is further away from the current price that led me to like differences between american and european options and starting to to code on-chain on-chain calculations for stuff like black shoals or binomial pricing and that led me down to a complete different rabbit hole because the the the math on chain is just not that well developed yet so i had to end up writing things like like base log math you know on from scratch um stuff like linear walks um norm distribution um cdfs and a bunch of other low-level things and i that that was actually the most painful part because you you only have unsigned integers to work with you you don't have fixed points you don't have decimals so so you have to you have to do such a bunch of full fee hacks to actually get the math to work but anyway that's that's a sideline um ended up finally managing to write these libraries so now we had stuff like realized variance and realized volatility and the reason i needed these was because you need implied volatility now technically implied volatility you can only get when you have a options market trading on chain because you actually take things like the maturity date and the price and then you put that into sort of a reverse black scholes calculation and that gives you the implied volatility but i came across this research called realizing smiles that allows you to use realized volatility to to predict that small surface of implied volatility so that's why i needed the realized variance to get the realized volatility and the realized volatility gives you the implied volatility which you can then use as input for the pricing now this is all happening on shang to facilitate this i needed a bunch of pricing points so that's why i ended up creating the uniquote and keeper oracle which is the the units were price feeds for anything in uniswop so they just use the the time-weighted oracle the t-web from uniswap and every 30 minutes they take a reading and they they take it at specific times so that the volatility snapshots can work between those times so so that that's always sort of realized so that was the keeper oracle and the keeper system actually emerged out of that as well because it needed something to to manage these jobs frequently and create an incentive layer to pay them and all of this stuff so so i mean as as you can already hear there's there's there's been a lot to try and get to this point um and now now i finally managed to be able to quote options um but now the one the one thing i started struggling with with like the the current pool to pure designs is they are they are cash settled so you know they're they're usd denominated um so even if you do a eve option or you do a a a b2c option you're you're going to have um the the dollar value profit settlement and this is currently how most of them works open allows you to settle the underlying asset but edgy only does the profit settlement now now i didn't want that i wanted the asset settlement specifically because as an lp if if i give you profit settlement then that's that's a permanent loss you know there's no way i'm going to make that back i gave you money if i have the underlying asset set settled then that actually turns into impermanent loss where you know the loss is only realized when i take the asset out and and that from an lp perspective is already better so so i started looking and and here at one point i was at an impasse because on the one side and i actually ended up with with two viable options solutions the the one used cash settlement as the lp now this was cool because i could use urine vault lps as liquidity for these options so i could take wide eye and use it as the backing for writing die denominated options for anything in uniswop and then settle that with you but the other option which so that that sort of my my capitalist brain said is good it's good for urine it's good for lp all of this stuff but my coder and decentralized purist brain told me look that's that's a solution the correct solution is to follow in uniswap steps and have have option pairs so you know you you have like you have with uniswap you have a b2c if pair and that's trading btc to even eve to btc and you could do the same with options so now you have a btc if option pair btc writes to eve eve rights to btc and that's what they're settled in as well and that's good for the lps because now um now you know when those options do get settled they're they're not taking that permanent loss so it looks better for them as well now the next thing is as i was starting to learn all of this stuff i realized that options is a volatility game when when when something is highly volatile that's when options get settled because an option is basically just a hedge is a directional bet at how the volatility is going to swing so started doing some simulations started doing a lot of napkin math and and it showed that that being a uniswap lp liquidity provider right is actually a volatility hedge because the more volatile the more trading fees so if i combine that uniswork trading principle with the options underwriting principle then when the market goes sideways i'm not getting a lot of trading fees but i'm getting option fees and if the market goes volatile i'm not i'm getting a lot of trading fees but i am taking some of the option losses but it actually offsets the amount of options i'm losing so just by combining those two i i have a much better solution from the lp perspective because they're hedging their volatility with trading and they're hedging sideways movement with options so just more fees all around and it actually does cover losses even in highly volatile moments with option trading um so just to reiterate that just to make sure i get it so this uh architecture can maximize for fees for both options and providing liquidity in the same product right is trying to integrate both of those two ways of generating revenue into the same instrument correct okay that's so so that's that's where the capital efficiency comes in now now the the next part was futures which i mean even though the pricing model is a little bit different it still sort of comes down to so actually let me take a step back so so now because you have options as part of the swap it means you have time as part of the swap now now times the next sort of dimension you add to the normal you know uniswap directional trade so being time aware means i can do something like a future where where we agree right now that you are going to give me btc and i'm going to give you if at the future date at the current spot price but you're going to pay me a a premium based off of that and you know that's based on your your your dividend and the risk-free interest rate than the normal futures calculation in there but but it's still a normal trade you know it's it's no different than me trading btc to eve i'm just giving you the btc now and i'm getting the eve later so now because you have that model thanks to futures you can apply the same to loans where i'm giving you the b2c but i'm giving it to you as collateral which then different calculation tells how much if i can borrow at this point in time and if i give you that if back i get my btc back if i don't give you the eve back then the btc is settled so it just adds that that t value and then it uses that same fee calculations which integrates time and now that i've got all of this um gaussian math and stuff on chain capable of reading within their own oracles now i can actually facilitate all of this stuff so so now you have what essentially the core code is the unit swap pair that's still what it comes down to but now from the same pair you can offer loans from the one pair to the other pair backed by the other one you can offer futures and you can offer options so the the reason why this is more capital efficient is you know if i have btc and eth right now i'll put 25 in ave i'll put for borrowing i'll put 25 in hedgic for options and i'll put the other fifty percent in uniswop for trading and you know what fees i get is the fees i get but this way it's all in one the the the loan fees you're getting the the option fees you're getting the future fees you're getting the trade fees you're getting um and you know the the the risk surface is still only that one additional variable which was t now obviously comes with caveats you know if if the if the option's trading if if any of the fee systems is underneath what they're supposed to be then the lps start taking the risk but this is also why i went with the settlement approach and not the profit approach because they're always on that on that impermanent line which in this case is actually better um but that's really it like like if you if you ignore all the all the shitty math and stuff i had to reinvent um and you you you take all of the oracle and realize volatility and realized variance and all of that stuff out of the code you know you're you're talking about 150 lines of code that's that's actually added to like current uniswap um so so it's it's it's still clean as far as i'm concerned and like it's it's the correct it's correct in terms of decentralization the way it's designed um and yeah that's it that's as basic as that as basic as that so so andre it doesn't seem like this product is really built for anyone in specific it seems like this product is not something that like a legacy individual could really think up because of how it uses certain things on ethereum like uniswap like amm pools to really um leverage itself into and and work as intended right there's not one specific like party like this this product is meant for option traders or this party is meant for liquidity providers this really seems like something brand new that uh is more of a hybrid approach for a lot of different activities that we see in the defying crypto space would you agree with that take 100 so so so like something i i actually wrote about this quite a lot end of last year um on on another blog i was busy with where where i i kept complaining about how capital inefficient ethereum currently is because like there's there's so much even if you just take if you know this there's so much if segregated in so many different places that if we could sort of and and at that time i was i was doing a lot of layer one work building layer one chains so so i had come up with this concept of a chain that has this liquidity pool at the bottom and then all of the protocols sort of borrow from this liquidity pool and they pay interest rates and and all this time i've still been trying to design that so so this is finally a step towards that now now one important caveat to add is obviously the more features you add the more attack surfaces you add so you know as always this is not something when it launches even after order that you want to rush into you want to let it chill go through a few attacks and motion so as always very important distinctions that need to be made because you know just just adding in options into the pool is already enough of an attack vector that could potentially drain it if something goes wrong with how the oracle is manipulated so adding in two other things as well that's complete insanity so but anyway um risk statement aside yes you would be correct this is a i not necessarily a new primitive because like i i don't think this this this doesn't unlock anything you can't do now like right now you can go get options at hedrick you can put your liquidity in uniswap you can go lend it out at compound or ave this just if you if if you don't know which one to pick pick this because in aggregate it's going to give you better yields um if it's used obviously if it doesn't you get used then it doesn't matter but yeah it's it's really it's really it's core problem it's trying to solve is that capital inefficiency so that that that we can move away from that segregated liquidity and start having consolidated liquidity because as as we've seen in things like unisop as well the better the liquidity the lower the slippage the greater the fees everything just starts working better when we consolidate this liquidity so say for example that there's a somebody who is trading options on some platform like therabit and they're also providing totally separate separate activity they're also providing liquidity in unit swap why would the this particular individual be uh compelled to participate in in this product instead like what what would really be the the uh incentive for them to come over well i mean so so so let's say they're underwriting options at derebit um and they're providing the liquidity as you mentioned and let's say they have 100 eve so right now they're sitting with 50th in in uniswap earning 0.3 percent fees and they're worth 50 in derby earning variable fees based on their trade activity but but let's simplify it and say it's also 0.3 okay so so in this case they are earning 0.3 in aggregate over 100 eve right with the consolidated example they're earning the 0.3 on their 100 with the trading and they're earning 0.3 on the 100 with the options so their not result is 4.6 percent over the full sum um and and and that's where capital efficiency starts becoming important because you want to put the same sum of money to work at different things and and that's why you know these these specific tools are important to play together because when when there's low volatility that's when you start looking at things like like options and loans when there's high volatility that's when you start looking at at trading activity and futures so so the the four chosen tools complement each other in terms of their periods of when they get used so if we take if we go back to the same example let's say it's currently a quiet market and there's not a lot of trading in unison so now this guy isn't earning anything on that fifty percent if he has in unisop but he is earning slightly better on his fifty percent he's up on his fifty eight that he has in derebit so let's say he's earning more point four now but he's still actually an aggregate down over what he could have been earning if he had his whole sum in either one of those two but making that choice is a very difficult one because you know like i said it depends on when the market becomes volatile or whether it isn't volatile and now i'm sure there are traders on crypto twitter that'll tell you that they've always been able to predict this but i claim and say flip a coin see which way it lands and that's what the market's going to do um so so it's it doesn't replace any of these things it just tries to make them more functional cheaper and and i i i always like talking about lazy liquidity you know like everything everything i build i try and accommodate for the lazy lp this is the guy that just wants to drop his stuff and come back in six months because he doesn't care about the day today um these are are the users ik through for and like like one of one of the worst things as a liquidity provider is trying and and you know this is the same reason i started urinal originally because one of the most annoying things is trying to jump between these platforms the whole time to be chase healed so like we've we've managed to sort of flatten that yield curve with yearn but there's there's still too many disproportionate opportunities between um you know do i go if dye sushi or do i just go if and leverage my die and maker or there's so many bloody options um so again trying to simplify it for those guys so that they they do get a little bit of everything yeah this very much feels very on theme with the projects that you've been working on in the past and and now that you brought up yarn i'd actually like to ask how does yearn fit into this new product and how does this new product fit into urine like how do those things become complementary so so that unfortunately i'm going to leave have to leave as a teaser because it's it's it's this plus yearn and another entity not yet to be named um there's there's there's some pretty cool back office stuff happening there that i think people are going to be excited about so so i'm i'm i'm going to have to tease a little bit um but more more details on that later well maybe i can get you to come back on the show when that third piece of the puzzle comes out and we can talk about all of these things all at once yeah sounds good i'm good awesome thanks andre i really appreciate your time to help us explain uh to help us learn what this new thing is appreciate it sure man anytime ping me when you need cheers 