um okay everybody Welcome to the UBS and tfem uh Ai and data analytics seminar I'm really happy to have Irene outrage with us today um Irene has written uh three books on six six are we counting second editions of books are we uh well we I have a bunch of other books that uh that kind of went straight to DVD but a prolific writer and in fact in one of her first books uh had sort of discovered one of my papers and that's really how we became friends and and colleagues and um and and she has two companies uh able markets enable blocks which I think the the work she'll talk about today will be related to her uh cryptocurrency uh company and and her work in that area and uh and yeah Irina last but not least is a The Faculty at Cornell Financial engineering Manhattan so some of you who are uh about to start um uh studying at cfam will will get to know her and uh and she's an all right all-around great speaker so I'm really happy to have her uh speak at the seminar today thanks Irene thank you so much Sasha and thank you so much Roselle it's a real pleasure to be here I I must say I love Cornell I think it's uh awesome it just really is both in Ithaca and and in New York City I think it's it just it just has this amazing amazing feeling and of course amazing faculty and and uh everybody's super nice and uh and super intelligent and so it's it's really really cool and and Sasha is very cool so um uh and Roselle so and I can go on and on uh about this uh but it's my real pleasure to to be here today so I really appreciate uh this invitation to speak and uh I'm gonna speak about crypto and the uh automated Market making design Sasha mentioned uh one of our intersecting and interests is really microstructure and microstructure refers to basically how markets operate how negotiation systems operate in the markets uh something that we often take for granted especially if we're portfolio managers and we take long-term positions so today what I'm going to talk about is the new uh kind of Market structure that's originated in crypto but as I'll show you by the end I hope to convince you that it's actually uh actively being deployed in traditional markets today so we have to take it into account in whatever you're doing whether you're just trading or you're doing execution of orders or or anything along those lines um okay so um and of course there are all these issues in crypto that everybody is concerned about like thefts and and so I'm going to address uh the these items too about how they they filter in and and do the whole uh into the whole system okay um so this is just a brief outline I do have a lot of slides um so I will go pretty fast I apologize um please feel free to answer questions uh Sasha is in charge of of uh oh he volunteered rather I'm not in charge he volunteered to uh to moderate uh so thank you very much uh but again I apologize if if this is too fast and please feel free to reach out to me after the presentation my email is at the bottom of the page it's just Irene abelmarcus.com thank you so this is what I plan to go through I plan to go through basically blockchain 101 and that's really for people uh who um uh uh really uh you know just just introduction and and it's it's it's pretty new so it's there can be some positive reinforcement then we look through blockchain applications and finance we look through how it is programmed uh and then we'll dive into this automated Market making which is which is the new microstructure and we look at different uh curves and and then just look at case studies of uh Market making in practice and and the spillovers to traditional markets okay so this is just a very brief background I'm an electrical engineer by trading by training rather I went to Cooper Union downtown and then I I started uh PhD in operations research and I later switched to finance um uh the operations research was was it Colombia and um and and then I worked through basically the entire industry I started this in in the trading globalization I moved into risk management I worked in research equity research and ETF research and then I ended up on a trading floor where we started developing high frequency trading strategies and that we got seated and I ran a shop called Alpha for a while uh which was a prop trading uh high frequency trading shop and then one of our clients approached us to buy data so that's how we got into able markets which was really the data analytics company and most recently we formed able blocks um so which which is a blockchain based uh things that the we're developing and and I've been very privileged and I'm always greatly appreciative to teach at Cornell it's a real treat with super smart students and and of course amazing faculty uh to collaborate with and and I've I've had a great pleasure of writing several books one of them is with a great and late unfortunately Marco avilanera which you see the picture there right so um so but uh today where I'm going to talk about again blockchain so basically blockchain uh you know a lot of people uh think of it as blocks and I think it's a fair thing I come from a traditional kind of old style Computer Science Background what I like to think about is a fancy database all right so it's a fancy database where each row carries over a piece from the previous row not just a piece from a previous row but it carries over a cryptographic summary of the previous row okay so one row you put in the data and you committed the next row you take the cryptographic signature or you take the cryptographic uh summary of the previous row and you attach it as a separate field in your next row and you keep growing this database like this grow by row and every row is dependent on the previous row so the basic idea here is that if you want to if somebody goes in and decides to modify Row three of okay then what they will have to do is they will have to go in and change sequentially every single row because the signature of that Row three like the content of that Row three is going to affect every single signature uh of each row subsequent to that Row three okay so and the bigger the chain is the more difficult computationally difficult it is to do okay so that's in the very very basic kind of overview what what really blockchain is is uh what I see okay so now to complete each block in addition we need uh we need some validation and I'm going to talk about this in detail so but we talk when we talk about mining the blockchain what we're really talking about is somebody who is going to examine the proposed content of the block and that's that's an optimal Theory and then say okay it's okay and they're going to commit it to memory all right so there's some other stuff they have to do that I'm going to address shortly too they have to basically solve a riddle uh to the because the signature has to be of a specific shape but it depends again on your blockchain configuration so and in our evil blocks uh you can look it up at tableblocks.com uh you can this is a sample blockchain that we have running continuously and you can just play with it you know you can mine it there's no particular purpose to it it's just it's just uh the content of this blockchain is just all the visitors IPS that have visited um this particular blockchain so there's there's no there's no other purpose to it than just to illustrate point right but but it's pretty it's a pretty straightforward kind of thing so um and of course they it's very valuable because it it can help us helps us in essence to move all our paperwork to blockchain and and some way we can move payments to blockchain like letters of credit um and there are a bunch of startups that they're already running on blockchains and we can also use it uh to broadcast all the transactions one of the things about blockchain it's transparent so the fact that it's decentralized what it means is a bunch of people have a copy of the entire database right so all the rows they're not just secretly stored in some Oracle uh we have server right there everybody has a copy so that ensures that you know there's if some if somebody fails if one server fails there is a lot of other servers around but uh of course it also creates issues of uh you know uh who can see what all right so the whole blockchain idea goes to the original paper of Nakamoto which is 2008 which which you know nobody really knows who this Nakamoto was but it's and it's surprisingly readable paper it's like really easy to read and it's really easy to understand extremely well written so and what he said you know we're just going to or maybe it's a she who knows so but uh what what this person said is uh you know we're just going to get rid of the traditional model where we have a third party like Oracle server that collects all the data and instead we're just going to make all the transactions public all right so so there so we and now we we don't have this privacy anymore but we do have robustness as a result of many people having a copy of the database on their servers and of course there's a lot of um issues that we people need to uh address in the situations of uh we have uh decentralized consensus but but then what a lot of people decide whether something is a good transaction or Not Right But then everybody's sacrificing collectively their privacy and and it's everything becomes transparent now it's it's it's I think privacy loss it was what has been very hard for people to swallow until a few years ago and we all all of a sudden realize that we still we already live in this glass box with Facebook and cameras everywhere so I don't think people are as concerned about privacy uh anymore as they used to be like 10 or 15 years ago so that's that's kind of going away um but also so uh the program this blockchain right it's pretty straightforward so what we need to do is we need to define a block which is basically database row right and we have to decide what Fields we're going to have there what we're going to store in that and then we have to create this crypto signature which is hash and there are lots of hash functions already available python off the shelf or if you're using the uh you know solidity or any other language C plus plus you know there's lots of that has has already been done in computer science years ago so that's that's there's nothing really new here because you're just gonna take this function and you're going to encode the previous block and import the signature into the next block and then you have to create a blockchain so that's something different because you need to initialize the blockchain you have to add the first block yeah and then you have to keep track of the reference to the log the last block and computer science this is known as linked list right so that's what we're doing and this is decentralized now the the two core Innovations here are these uh the proof of work system and Mining procedure and that's that's what I'm going to talk about now so and proof of work is uh is is kind of uh interesting so to commit the block to the memory you have to prove that you've actually you know done something useful and you really want to commit it right so it's not Costless okay so and I'm going to talk about other iterations that where you can do it differently but generally like people want people who are who are committing the blocks to the memory to do some work all right then this is this is goes from uh this this Satoshi nakamoto's original idea okay and so um and and the reason for that is there are security implications that that I'm going to discuss too but uh so to do work uh what Satoshi Nakamoto wanted everybody to do is to solve a riddle all right so what he said is you know what we don't want just to take a cryptographic signature of the content and just slap it back into the database we want to make sure that our cryptographic signature starts with number zero all right so and and so and then the number of zeros keeps growing as the blockchain keeps growing so in in many cases you have to rehash and rehash and rehash and develop new hashes until you finally find this number of zeros uh in in front of of the signature uh to to make it more complicated and the reason why he wanted to make it so complicated is uh because the idea was that if somebody wants to hack the system and they want to uh get in and and and uh uh do basically change the entire chain okay so they're just packing in row three uh and then their their recalculating the entire chain because it's so computationally complex too we calculate the entire chain they're uh kind of uh division of the chain or their their uh part of the chain is always going it will never catch up with the rest of the chain okay because the computational complexity there ensures that the true chain that has not been modified keeps moving ahead right so that was all great and that worked very very well uh for many many years it's a it's uh uh you know it's people made a lot of money on mining because it was pretty easy and straightforward and and it wasn't a big deal uh until basically recently when it became like too complex so it's becoming so complex and so expensive for people to mine these These Chains because you have to spend electricity you know on just computer power and then you have to spend electricity on air conditioning to make sure your computers don't overheat the basic things like that but they all add up to to this mining process and it's just becoming too much okay so so we're approaching I've seen a few people papers uh that talk about equilibrium where there is now a natural kind of group of people developing who figured out how to make this Mining cost effective and they're the ones who are mining and and the rest of people are not mining because it's just too bloody expensive to do that so there are there are these uh Dynamics going on where we're kind of seeing uh this uh this uh this issue so but the great thing um uh you know uh so um you know it's it's it's the the original idea did survive for for many years and it's it was very stable and and well except for when everything was cash but that but but that's a that's a separate topic so so this proof of work right so um if there's no collusion then the honest chain grows the fastest so this is the one that has not been packed right so and bad guys basically naturally fall behind when they're recomputing the chain because they have to solve these ever increasingly complex riddles um so when this Satoshi nakamoto's principle well these nodes bet well these chains uh they rejoin the system uh you know people can turn off their computers and then just go back into the system but that's this strength of decentralized model so the the the core engine automatically selects the longest chain and that longest chain is going to be the honest chain uh in theory because uh it's it's been the one that's that uh you know has been the other chains cannot catch up with it because they have to recalculate all those riddles right so so that's that's kind of the basic principle and these zeros by the way the leading zeros are known as nonsense okay so um there's a bit of other terminology um so of course over as over the years is the number of miners is decreasing uh there is a there is a growing problem that uh you know if if the miner goes one Miner goes to sleep the other minor can catch up and actually uh introduce some some hacked stuff into into the into the system all right so another thing about proof of work uh traditionally uh with with Satoshi nakamoto's principle only one CPU could validate uh could vote develop on the validity of transaction or can do the validation so that was that's basically too much work um and and of course you can have a machine with with hcpus uh Etc so so you know there's this is this is these are one some of the issues that kind of uh raise kind of questions about Satoshi nakamoto's principle and and again there they become uh we're approaching equilibrium that some something that I mentioned um and uh there's there's really too much time it takes to mine and the compensation for mining is just it's just not there so uh so there are other solutions that are coming uh online and of course if you have a natural incentive to mine like for example if you if you gain something from seeing this information before you committed to the to the server then it becomes more advantageous you become a more uh interested minor to do this even if you're losing money and this is kind of issues that we're facing now is that there's a lot of front running potentially going on uh where and I think Agostino Capone has a lot of research on this where you can actually the the people who do mining now they're the same people who trade right so so they see all the trades before they're actually committed into the server and they can insert their own trades into the blocks and and there are a lot of conflict of issues of Interest problems that that derives from that um so one of the things that ethereum started doing they now aggregate these blocks every 12 seconds uh they're committing the blocks every 12 seconds regarding of regardless of whether uh you know there's there's uh what kind of activity goes on so anyway so these these are just some solutions uh that go on now who who uh mine the system is is to program it is very simple you add new block you check if this proof of work is valid you add new transactions and you committed to the chain okay so um another thing that people have started enjoying like coinbase they're they're not asking people to necessarily solve these riddles anymore so what they're trying to do is what they have been doing is staking so what the staking does is basically you can mine if you put money into the system right so you put your stake with it or a collateral rather in traditional lingo into the process and then you you have access to looking at all of these transactions and you can lock up uh you can have a lockup period for that stake and if if you on your watch when you're committing these transactions there is fraud then you pay for it with your stake all right so of course again this creates a group of kind of an oligopoly of uh all these oligarch crypto oligarchs now that mine and and they're really the elite groups because they put the most stake there and and they see everybody's transactions and again they can manipulate the market so so they're all these problems another solution that people have been using is off chain um this soft chain validation and the off chain is basically our traditional internalization that's that's known in equities and and uh in Futures so you really have your own blockchain running you match all the orders internally and then you commit your your blog to the chain and that saves the electricity which we call gas fees in crypto and and everything along those lines so the reason I'm going over these things is because I'm getting to the important talk very important topic of automated Market making and and just understanding all this background information helps us see why automated Market making is important and and what kind of manipulation people can can do uh in in that space all right so now we're going to automate Market making so uh there are many crypto tokens they're basically individual currencies uh they're platforms that issue tokens and and you can you know there's some platforms that encourage you to issue tokens so it's it's not that it's a new idea um and and it's it's if you think about reward systems like there's a store called Canadian Tire uh in in Canada and they've been issuing Canadian Tire money for forever right so we're talking about this Canadian entire money play money that's now online and uh people can do all sorts of stuff with it all right so it's kind of like store credit or maybe a loyalty program you can think about it but of course some people make it the more much more serious thing um so um their their value of tokens it it can basically comes from the utility in our standard economic models and uh the utility maybe you can conduct business on the platform or you can invest into the tokens long term and these these guys are called hodlers right they're also a term OG which is Original Gangster who people who originally invested into crypto and became hodlers but huddlers are the guys who hold on for dear life it's sort of like our old idea of marrying a stock right not that different but uh and then we have guys who do liquidity provision or automated Market making that's the subject really of this talk today so these are the three uh players if you will on on in our ecosystem they're basically very similar players that we have in any of the markets uh so we have market makers right we have investors and then we have essentially a retail class of guys who are just there because you know they they have they're doing something okay so but this is automated Market making versus limit quarter book and this is this is interesting because the limit order book is obviously traditional uh and and for many years was considered the dominant structure that's unbreakable dominance structure uh in fact in 2005 uh Singapore Stock Exchange introduced some other auction-based structure and they scrapped it in favor of centralized limit order book and everybody says see you know centralized limit order book is the stuff but if you look at the adoption of automated Market making versus centralized Midori book in crypto then uh it's Central uh automated Market making is definitely taken off and and it's it looks like it's here to stay um it's it's it's very popular now uh this is their front uh products and different uh kind of automated Market making systems that people have developed most of them are open source so you can actually go and see how how they have been built and there is some sort of a document that explains uh with with a description about their their thinking and everything along those lines and and there there's there are a lot of different platforms and they've started this development this it was all started by computer scientists without any a real uh background in economics so so in that sense it's very different I don't have time to today uh to get in let's say in logarithmic Market scoring rules but it's something that's that's uh is very well thought through now there are different functions of all of these platforms they have different uh what's called amm curves okay and and all of these curves are very similar but they're but they're different in their curvature different than their offsets this is just an example of of what kind of Curves they are uh for for different different automated Market making uh so these curves can also shift when when you have different liquidity okay so the more liquidity you have the closer or less liquidity the closer your curve is to to the axes and the the more liquidity you have uh the the uh the farther away you are uh but the fundamental principle is is the same you have this curve it's you have a certain liquidity uh kind of backing it up and the price is really the function of the remaining inventory in the liquidity pool okay um so and so as a Trader the more you buy the less the liquidity pool has and therefore the higher the price and and this curve Works nicely in that respect because it's a sympathetically increased it's exponentially increasing as the last inventory there is left of a specific asset right so for any two assets the less stuff you have the higher is your price so that's where the automated thing comes in very handy because you can go to sleep and you know we can trade 24 or this thing can trade 24 hours and if there is a run on your Market your price will automatically will go to Infinity in principle right so so that that helps a lot uh this is something that's not present in the centralized limit or a book where it's you know you just set your limit orders there and you can just if you go to sleep you may get run over and and taking advantage advantage of because if somebody else has better information asymmetric information that you do not have and and the price is really determined as a tangent uh of uh of of this curve um you know so so the the slope of the curve really determines uh how the how the price is computed and uh uh essentially the the less inventory well as I mentioned less inventory there is uh the the uh the higher the price so but you basically uh move from one point to another point on the curve depending on the inventory and the liquidity pool okay so and and uh this is this is a separate topic it's it's a it's it's um but I'm happy to talk about this after after the thing so uh most models they they have an invariant so an invariant is a kind of a constant related to the liquidity that shapes that curve all right so it determines the shape of the curve like for example in this uh logarithmic Market scoring rule uh the invariant is related to the two quantities in the following way okay so there is a uh a quantity one that's outstanding in the liquidity pool of asset one quantity two there's some constant L and and then there is is that thing that that keeps it all together um so but then um uh during the volatility you know this this all works very nicely it can take care of it 24 7. but um you you can they can lose money uh amms can lose money in these volatile conditions as well so what what amms are doing is they're putting in transaction fees right so the transaction fees are often the flat fees for the liquidity provision that's something that uh people use and and generally if you compare amms with uh lobs centralized limit or books then amms do not have a spread okay so there's no bid ask spread they just quote you the price uh versus traditional limit order books do you have a spread amms do have a transaction cost which which traditional markets do not uh quotes do not vary with uncertainty so you have a very certain curve which ties together all the prices um which of course they do not uh this does not exist and uh oh sorry um um the quotes do not do vary in uncertainty in traditional markets quotes very liquidity in both markets um but uh quotes do not vary with inventory in traditional markets but they do in AMS Etc et cetera so there's of course instantaneous settlement which is which is great for many uh the multiple liquidity providers uh only in the traditional markets right so in in the amm markets you have a liquidity pool that takes care of everything and prices do move along a pre-specified path uh in in amms but not in traditional markets so as a result you have continuous liquidity you have 24 7 markets which is is a huge thing um you have a formulaic slippage which is also can be very good because if you're concerned about slippage you can estimate it ahead of time based on the curve and then um you have a um uh interesting part which is fair value uh so in traditional limit order books you have Mark to Market and and fair value here in automated Market making and this is really a I think a matter of a misnomer bit but uh the fair value is called the impermanent loss so the idea is that if you bought something at the Historical value you know then if if the value has declined it's impermanent it's impermanent until you withdraw the money at the market at the market price uh which is you know it's kind of uh it's not exactly reflecting the reality it should be it should be market value but anyway so here's an example a constant product Market making which is deployed at Uni swap which is a very popular system and uh uh so it's a very simple uh idea you have quantity of one instrument times quantity of the other instrument equals to an invariant all right so we have an invariance whatever it is and it's it's just a product uh and and this happens to trace complex convex curve rather between q1 and Q2 so and all the Curves in amm should be convex I hope you can see that because as as the quantity uh declines of a specific asset in your liquidity pool you want the price to increase right so so that you don't get run over and that's that's a fundamental part here so all of the curves that we've seen previously here they're all all convex okay so there's some with a slight concavity but generally they're either straight lines or or they they're convex okay so they all have the same shape they're all in the first quadrant they they all uh pan x-axis and y-axis if you will so and it's just a better model that's traditionally aligned with traditional like supply and demand model right um so and and on the left you see a different curve which is price versus quantity which is also the traditional uh supply model right so we have available Supply as quantity increases um uh well actually no that's that's not the case um but uh um but the the quantity to quantity has to be uh it has to be convex um oh yeah on top of we have on y-axis we have price over quantity okay so it's price over quantity so so that that that is it that is correct girl okay so bottom line is so now uh now that we know that all these curves are always kind of the same shape we can approximately fit the curves based on the available data and there's a lot of crypto data out there right so people just publish data because they want to attract Traders so they want to create you know allow people to build historical models so there's a lot of data uh and and again all these models are structurally similar so so let's say we assume that wait just for basic hour exercise we just assume this constant product Market making because it's super simple uh and this is what it produces on the right okay um and uh there's there this is constant thumb Market making is going to produce a straight line it's not that drastically different like what for the purposes of what I'm going to show you we're going to assume that this is this is uh enough all right but basically what we're going to do is we're going to take data from different exchanges and parameterize it okay so we're going to assume this constant uh uh product Market making and and see where we turn we we stand in terms of liquidity and compare platforms and and with that we can we can determine as as an execution broker whether we should wait or we should execute or which platform we should choose stuff like that all right so uh what kind of data do we have we have standard data we have open Hilo close often we have volume some exchanges even add number of trades or volume in the other currency so this is all kind of available all right so very very standard and how we're going to parameterize that well we know that there is some invariant that has to be involved this invariant this C it's a constant okay we have two quantities quantity one first instrument and quantity of the second instrument and we have from One Tree to the next we know that there's going to be some shift in quantity right so if if somebody buys uh q1 then you know there's going to be some Delta q1 that's that's going to affect uh bring us to the next step right so um so for a given change in volume in currency one and our liquidity pool uh which is the trade volume really right we're at Delta is is the change in in trading volume we can calculate the respective change in volume and currency too and then we can just plot them out right so the only unknown here is really whether the volume is a Buy in a cell or a cell so we're just going to do like very simple simulation here we're going to use the girl tick rule from microstructure and we're just going to say you know if the price goes up following this volume it's most likely was a buy and if it goes down it's most like likely was a cell and it's very dirty and very crude we can make it a lot more sophisticated but for the purposes of what we're doing today we're not going okay so they're also um as in traditional markets they're now two types of liquidity pools on most platforms there's public which is called lit and private which is called Dark uh there's a lot of Arbitrage that goes on between the two platforms between the lit and the dark so basically it doesn't really matter if you're on the lit or the dark because it's all going to be arbitraged away anyway all right on sufficiently liquid platforms there should be no difference between like uh lit and dark amm okay so let's now look at some empirical examples so here just using uh with with the process we described we're going to parameterize bitfinex data uh this is an exchange this is uh Bitcoin versus US dollar one hour data for 2022. as you can see it produces a very very very clear curve okay so this is the entire data for Bitcoin again one hour bitcoin price is just done the way I just described it right so uh we we look at the changes and and and prices and uh and we just plot it out okay very straightforward um so the same we can do for bitstamp all right so here's a bit stem exchange again we're using Bitcoin US dollar um and and we're just plotting it out so it has a slightly different shape than bitfinex but it's you know it's still the shape that we expect right so it's it's pretty straightforward now and now um here is our FTX right so everybody of course heard about FTX uh it's it's it was a big big deal that blew up in September so if we look at their curve and we plot their Bitcoin exchange rate and in this case we're doing 18 2018 to 2023 it resembles nothing but we would expect right in fact it's for every single dollar that the quantity in one uh instrument increased and one in a liquidity pool they they're that there they would actually increase the liquidity in in the other in the other pool so but when there was a run let's say there was a run on there on their model right so instead the price instead of going exponential uh it wasn't so so it's it's a it's a and you can see they have different curves over the years and and these curves have moved uh right oh in space so it's they they clearly they've been changing um the assumptions or some mathematical modeling between them among uh inside and and they seem like they may be even some curves if you look at sort of the the uh middle right portion of of the chart you see that you know there's something that's maybe resembling the curves as we would like to see them but the majority of curves are pointed like completely different way so and then if let's just continue with bitstamp right so we look at the same for bitstamp again it's a straight it's a straight line um so here's what about other instruments right so um so here's the let's say ethereum that was also traded on FTX this is again one hour data for 2021-2022. it's a completely wildly different from any kind of automated uh assist Market making that we ever theoretically expected I mean it just it just pointing the wrong way and the same for uh for the following year which is even getting even worse right it's it's it's uh it's completely uh wrong so so in this case you know we we're likely seeing what we're likely seeing is that it was a Ponzi all along right so for the quantity instead of uh for the quantity to decrease and asymptotically kind of fade away and making the sure the price increases uh as as the as the uh liquidity changed in the pool uh they did completely opposite right so so it's it's it's a um basically that's that's that's the the key message here so again so this just to compare it so ethereum we have other exchanges that traded ethereum at the same time as you can see they there is CeX for example on the left they they have the curve that we would expect oh but here we come across binance right you may have heard about binance in the news lately well guess what they also have this uh the same curve problem as the FTX has uh is basically pointing the wrong way um right so um that's that's that's uh that's that's which defies all the principles of successful automated Market making that people have studied in any way all right so um of course we do have other yes um so some all the you know normal ones go through zero zero and all the you know the strange ones uh sort of I guess what I'm curious is like what are the axes the same or are they a bit different so here we have q1 versus cost and before you had q1 versus Q2 so I could you clarify a little bit Yeah so these are these are all uh these are all q1 sorry this should be q1 versus Q2 it should not be cost sorry about that okay okay um convex curves yes okay right so they should be convex sorry that's that's uh my fault but it all should look like this so we're zooming in very close to the uh the part that's almost like a 45 degree angle right so some of these the [Music] line um but um uh yeah so so there's there's a question and I'm going exactly to that to that subject but uh this this this is basically our optimal curve because it makes sure that like if we go to sleep you know the this curve takes care of itself right so we're not going to completely lose the shirt because uh the price is going to increase exponentially if somebody decides to come and buy all our inventory out yeah right so now in this case what we're doing here is something very different because uh you know it's it's it's uh it's not worth anything like that um if somebody comes to buy out all our stuff um you know we just have an infinite Supply waiting for that person uh and uh it's it's uh it's it's kind of defeats the defeats the purpose um right so so this is this is uh in in um uh one of one of the key things I want to emphasize all right so this is that's a great question so this is our uh we have um our amms right so but we have other types of users in the system so we have Traders and we have liquidity providers so Traders are the ones who come and and they're price takers right so they see what the curve is the liquidity are the providers are the ones who are actually supplying the liquidity so they're funding this pool um right and uh and and and and they're they're they're kind of behind the scenes and uh they they receive a transaction fee okay so they're they're benefiting from this whole exercise by getting in kind of in case of polygon in many cases they the liquidity providers get two percent on on everything uh right which uh two percent of every transaction so uh so that's that's kind of the economics how it all works out um and so just you can you can code it and and python uh this this thing this so there's a lot of stuff that's coded in solidity and and all these other languages that are kind of derivative derived from C uh they're not necessarily um graded the implementation uh but but that's basically the reality we live in now what I want to talk about now is the spillovers in traditional markets so there are rumors um that a lot of firms have been already deploying these automated Market making systems in traditional markets now the reason why the rumors is because you know and nobody has came forcefully and said yes that's what I'm doing but the question is what does it imply for futures and equities Etc so let's try to fit this uh product Market making and let's say IBM stock and see how it's going to work out and what we see here uh this is like in 2000 this is this is sort of a year over year uh thing so we have 2 000 and then we have 2010 right we're trying to do it so there's not much to see here really but once we get 2019 uh and and uh you know 2020 we would see patterns that are actually resembling our automated Market making curves right we have these curves that they're asymptotically approaching both axes uh on on either side and uh and and really we can argue that there is a convergence happening this is daily IBM data uh we're doing exactly the same process that there's convergence happening and microstructure towards this uh automated Market making World okay so um and um that's that's basically uh what what I'm going to to kind of leave you with uh is that there is a um uh there are a lot of development the microstruct is changing in the markets because a lot of the automated market makers in traditional markets are already deploying uh these systems and uh that's uh basically uh I think the new Brave New World so so there are a lot of changes that we can expect with with how we interact with the markets and and what kind of uh output uh we can expect and and how how we build our training strategies and how we build our execution and and how transparent everything becomes right so thank you so much I I'm very happy to take questions hope this was uh of value and again thank you so much for inviting me I'm exactly 45 minutes thank you Irene um so I'm curious again and you know on these uh on this last graph the are the X and Y axis prices or quantities or are they uh quantities yeah so so the quantities and the price comes out to be the tangent to this line so quantities of IBM stock sold or bought during the course of the day or yes so yeah so each data point is um a um it's IBM stock quantity of IBM stock versus quantity of US dollar in our case right because you can think about US Dollars the base currency and IBM as this uh token right that we're trading so so in this case we're plotting the quantity of IBM versus the quantity of the US dollar okay and and we're moving along this curve uh and we're assuming that there's some consonant variant behind the scenes right so this in there is not observed we're estimating or we can you know assume that it's any kind of invariant but uh that it stays constant throughout the year which of course doesn't have to be the case because we have in in real markets we have shifting liquidity right in different markets participants can change liquidity uh but if we assume that it stays approximately constant we can estimate these curves so we can estimate uh let's let's assume that there is an automated Market making agent then we can see how this automated Market making agent is pricing right and we can actually reverse engineer from this what the liquidity of this automated Market making agent is because we can compute the invariant uh from from this data right and and of course this is like kind of uh this this was done this IBM example is done on daily data which is very crude if you go to microstructure data it's it's a lot more easier to it's a lot easier to to Really estimate these things because uh we have a lot more granular uh granular data there so um but uh but this is uh and and there is there is a there is evidence that like companies like jump trading they're very much into this automated Market making um and and it's it's there's a lot of research that's deployed in in space as well so your curves that are that were extremely straight or the where the relationship was extremely strong the those were um intraday is it's a lot cleaner estimation for sure and again and it's it's really because um uh in this in all of these examples this is daily curve on the left though okay so this is an exchange X small now it's a very thin exchange it doesn't have a lot of liquidity so there's not a lot of noise right so yeah every day we have uh like pretty clean uh idea because we have a few trades right so the volume is is easy to estimate with the basic tick rule whether it's a it's a buy or say ball a cell volume um so and and when we go to more granular data it's easier to see it's easier to really get this clean amm curve when we go to daily data uh there's more noise because there's more uncertainty and all of this sort of stuff but it doesn't mean that it precludes us from really doing a rough estimate and fitting the curve into it right so it's a uh uh we we can we can definitely uh do that even with all the noise that's present like in IBM is still very much traded traditionally with a lot of um limit order participants right so so but we can still see uh the effect of this automated liquidity uh in the markets and and as markets move towards more 24 7 uh or at least 24 5 framework like Futures trade 24 hours a day right so we can we can uh you know it's really feasible to do this with automated Market making um and and it it of course it gets rid of a lot of risks such as uh you know inventory risk or or traditional stuff asymmetric information uh risk of being run over it's all of that uh is is these systems take care of that so if you program them correctly if you if your curve points a different way you know it's a lot harder to to actually do something so do you have any any tips on so to reproduce these automated Market making curves where would you go to find that data would that be on on uniswap or something um I think so I mean there are there are Distributors uh I I periodically have people just asking me to take their data um so because uh they just want to give it away um so there's lots of uh there I think that it's why it's truly widely available so it's not a it's not a secret now you have to be careful though because some of the crypto exchanges are still using limit order books right so so uh it's not everybody is um uh and they're doing their own Market making limit or books based so not everybody has has is is deploying the automated Market making but as I showed you in the beginning automated marketing Market making seems to be taking over um because it's it's obviously easier it's it's more cost efficient and it's pretty straightforward words so we'll see the long and there's a lot of research that that we need to do if anybody's looking for problems I think there's plenty of problems open problems here in terms of risk management and uh you know different externalities that people have not thought about and of course fraud is is a big one how does it impact the whole ecosystem but it's it's it's there's we're just at the beginning of the process to really understanding of how this all works but I think it's uh it's it's fascinating and I truly believe it's here to stay I mean it's already been here for like since basically 2002 at least so uh and I think that's when Hanson's paper was published in 2002 which was the original logarithmic Market um scoring Rule and and I think the the the platform platforms have already been adopting it since then so it's been 20 years of this automated Market making so it's definitely and it's grow it's only growing it's not going away oh so the idea okay was pre-crypted even it was something that already Satoshi Nakamoto was 98 right so um and and so I think it's it's coincided with crypto I think Hansen really developed his Market scoring rules for crypto I don't think he he developed them independently so um it's it's you know it wasn't new this new thing that was running 24 7 and and people somehow had to make markets in that so that's I think that was the impetus for uh for for the whole score for the whole amm uh really because it was aside from crypto there wasn't much need at the time I mean even now I mean Equity markets still largely trade from from 9 30 to four of course there's pre-market trading and post-market trading so it's not really it's not really fair to say that the anything trades 94 anymore but but you know this this kind of uh their markets officially open at 9 30 and they officially close at 4 pm but but crypto stays open um so throughout so I think people have been looking for this solution since since crypto came on board since Bitcoin basically materialized um and uh and that's that's I think Hanson's been addressing that uh in his original paper but there are lots of iterations of these models since and uh and and it's a um I think the only the only constancy is that you want to have this convex curve because that ensures that your inventory like you you head yourself against the uh uh the inventory risks and um the risk of asymmetric information that that you would have uh in in normal Market making environment so I have a couple questions from the Q a so the first one from Mika bong is um I wanted to ask if Autumn Am dealers will have an unfair advantage over other players in the market by having access to otherwise private information such as order flow so it's absolutely amm dealers or people who I guess take um uh coins and amms do they see order flow before others or they do okay so they definitely do and it's definitely a problem but you know what it's like anywhere you have so many platforms that you can if if you I think as long as you can quantify this automated Market making curve you can actually shop around right so you can shop around and see uh what platform is the most stable I think we're now looking into different risk management in terms of uh what what kind of uh what what kind of service you're getting what kind of curve is optimal for your investment style right but but yes it is a problem that the dealers do see the inventory before they commit the blocks into the system and in many cases that's what motivates those miners to keep going because and these are the the only miners that are left and often in the system because everybody for everybody else who does not get any uh value from mining or like looking into the blocks and validating them there's just no value for them to to stay on the platform and do do their work right so um so that's that's there is definitely a challenge and um and and in many cases it can be turned towards a good challenge right so we can have a system design for example insurance agents right so if we have a blockchain uh for insurance then it will be potentially him Insurance on interest insurers all interest to validate every single block that goes onto the blockchain because then they will be able to assess whether this is a block that fits their business model or not right so with things like that there's a whereas there's an inherent incentive for the validator to do their work for almost free I think that's that's a big plus um for everybody else you know it's like you know it's it's it's it's it's not clear so there are people that build these huge mining facilities and uh they try to make these economies of scale work and I think unless you have some private incentive from the information that you obtain it's becoming increasingly difficult to make money in that space and and that's why we see kind of uh nothing I wouldn't say occlusion but we're asking formation of these kind of oligopolies like if you try to go to Solana today and say Hey I want to be minor I mean it's going to be very difficult okay because first you have to put the stake then you have to show to prove that you have a very Advanced system uh that is compatible with their Network requirements and their processing requirements and all these other things it's it's just uh it's computation it's there's a barrier to entry now right which did not exist let's say 20 years ago right 20 years ago uh everybody could go and they could become a minor and they would collect pennies and that's what people were doing like in China right they would set up these massive Farms that Chinese government has banned since but because the electricity there was relatively cheap relative to to the US they they kept mine in crypto all right so but not not only the China government has has banded with their other issues in place uh that uh that that business is kind of you know it's it's basically it became much more centralized now you cannot people don't do that anymore because nobody can just walk on from the street and to to decent blockchain and say hey I'm good-minded for you here so that does not work but um but but there are other applications of blockchain where they they could be natural incentives for the miners to really do their work and benefit from it and not uh not at the expense of Traders right so so they could be like a win-win design uh really but we're talking about now kind of economic system design that uh would actually benefit from them and I think insurance is is a prime example the problem with insurance of course is Insurance sees blockchain as the major threat to its existence because once you have blockchain insurance you don't really need insurers anymore so that's that's uh that's really uh we're we're looking at kind of displacing entire Industries at that point so so that's also there's a lot of resistance to that so Irene I think we have one final question in the Q a and and then we can call it a day so uh James wonk asks um is it possible there's some kind of fraud scheme even in the IBM curve for example you can argue that the bottom right set of points I guess the graph we're looking at right now looks like the Ponzi scheme you pointed out earlier in FTX yeah I think everything is possible is that what we're saying here or is it more uh more subtle maybe well I think everything is possible the thing is here we're looking at the centralized limit order book right where some Market participants uh a rumored to deploy this automated Market making models okay so you have some people who are placing limit orders in a traditional way right and there are other Traders other liquidity providers other limit order traders who are placing orders using their own amm using their own automated Market making system okay so what they what they benefit from that it's very low cost you know it's completely automated and if if they they make money on it that's great right so so it's a it's a win for them they provide liquidity for the market and frankly from from The Exchange perspective from a traditional exchange perspective like if you go today and and you build your amm and you connect to interactive brokers and you place limit orders accordingly if provided that you have this uh ability to make markets in in the market you're registered as a market maker as opposed nobody will be able to tell whether you're placing orders automatically or you're placing orders uh you know if you're using an automated Market making algorithm or if you're just placing limit orders right because it's right now there's no as far as I know exchanges do not differentiate the two and they don't really uh you know they they can so maybe eventually I think where we're going here maybe eventually it will be possible to separate in in this data and maybe it is possible now but to separate to identify and made of maybe there isn't made-off that's trading IBM and his curve is pointing completely the wrong way so maybe we can uh find the Ponzi uh players like this just from looking at the data you know so uh and and this is this is an another interesting open problem that uh you know is it is it possible to really see that there is a uh there is a bad actor in the midst just by looking at this microstructure data so so that that is something but but the challenge of course here is that this is an aggregation of a bunch of liquidity providers right versus the amms of individual exchanges there's only one liquidity pool so it's a lot more deterministic with every digital crypto exchange as opposed to the centralized limit order books that aggregate a lot of different liquidity providers and that's that's where where it comes uh but I think eventually if we see these amms dominating the markets and continues dominating the markets then but we will have some sort of aggregation of these curves and we will see more uh or less rather Divergence in these points and it's all going to kind of move towards uh a a more streamlined model um but uh again this is this is this is a bunch of open problems as to where where this can all go okay well Irene uh thanks again for thank you great to talk on uh amms and in these new market microstructures that seem to be uh blending and interesting right yeah so uh so anyways thanks again and I look forward to seeing you in the fall let's see fam right uh and thank you have a good evening everybody thanks so much 