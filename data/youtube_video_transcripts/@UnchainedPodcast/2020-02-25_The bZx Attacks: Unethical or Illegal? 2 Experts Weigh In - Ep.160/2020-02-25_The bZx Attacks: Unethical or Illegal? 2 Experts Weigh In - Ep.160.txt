hi everyone welcome to Unchained your no-hype resource for all things crypto i'm your host or ocean if you enjoy Unchained or unconfirmed my other podcast which also features a weekly news recap please give us a top rating or review in Apple podcasts or wherever you listen to the show what's the best way to spend crypto the MC o Visa card lets you spend it anywhere visa is accepted including your coffee shop or the Apple Store all with up to 5% back download the crypto comma and reserve yours now Kraken is the best exchange in the world for buying and selling digital assets it has the tightest security deep liquidity and a great fee structure with no minimum or hidden fees whether you're looking for a simple Fiat on-ramp or futures trading Kraken is the place for you cipher trace cutting-edge crypto currency intelligence powers anti-money laundering blockchain analytics and threat Intel leading exchanges virtual currency businesses banks and regulators themselves use cipher trace to comply with regulation and to monitor compliance today's topic is the bzx attacks here to discuss our Maia Zahavi watching consultant and Zubin co-teacher co-founder and CEO of open welcome Maya and Zubin thanks so much for having us hi in the past couple weeks defy lending protocol bzx suffered two attacks in which flash loans were used the attacker or attackers it's not clear what it was the same person or different people behind the attacks made off with about nine hundred and fifty thousand dollars in ether I did an interview with love live Nev the person who discovered that the first attack had occurred on unconfirmed last Friday where we covered how the attacks happened but for those who miss that interview can you briefly recap how it occurred we'll just start with with the first one Maya can you explain how the attacker executed it yes the attacker took about 2.7 million dollars in a flash flown on dy/dx which is 10 K and ink he prayed five and a half EEP unto compound and borrowed 12 sorry 112 w BTC and then he went on to the rocks and shorted w BTC on a margin trade with e on the 3x and behind-the-scenes of course ez x ended up dumping all the the WBT c on you nice wat and the cob you swap triggered a slippage in the price of which allowed the attacker to basically both return to 10k eat and take back 71 eat as a profit from that one single trade which is kind of elegant to be honest I know we were seeing and I kind of tweeted this but um the the first time that I read about this I had the sensation of like having just watched a snowboarder doing some really elegant flips on a halfpipe or something with this year never open go ahead sorry I'm just saying that the fact that you can take a fossil and wrote well known in advance the fact that it could probably and maybe with a summer of the chance lead to flash class that was also well known but doing that in one trade and kind of using a logic exploit onto B DX that's genius I mean it's that's a work of art you have to you have to hand it to weather wise yeah yeah and basically you know so they borrowed this money and then they had you know some of it in wraps BTC but they with the other half shorted it's significant significantly in order to to benefit and that's how they made off with the money but then the group that was left holding the bag was bzx to the tune of like about six hundred thousand dollars I think so yeah yeah so let me just stop you I think one thing that isn't one thing that's kind of not well known we set the margin trade that the attacker did was on a three acts um I'm greedy axe right just in terms at they're shorting it and they're going to get a return three acts at the amount that they shorted right but there was an exploit on vzx for a 5x the amount and that might have allowed them to weave that trade a lot more than the originally got and it also leads to the issue of whether and not it was a logic or an ARB tree okay and I'm sorry can you explain that once more so they repeat it when what was four three X and what was four five x but short that that the attacker did was on a 3x on BZ ax right meaning they were gonna get three times the amount that they shortage as a return if there actually is a slip in price or the price of the rapid Bitcoin a drop but what led to more of a slippage in the price on Muni swaps than was originally intended with the fact that behind the scenes BD x protocol in order to compensate ended up also dumping more Ethan day intentionally than they had to let's put that way on the Khyber Eunice walk and it leads to the the second-order effect which is the insurance of Nexus mutual had on the bzx contract within an arbitrage trade or was it a bug that the attacker exploited and that's kind of it's still an open question I think in regards on whether or not Nexus mutual has an obligation to repay that insurance and they they chose to repay everyone almost every one of the people that had a trade on that okay yeah so now we're getting you know really into the weeds but I will say that in that interview I did with love live Nev on Friday he did say that he felt like the real culprit was a bug and bzx and so obviously in that situation that would be something that would be covered by the Nexus mutual protocol which by the way for those who aren't aware is a decentralized insurance protocol obviously you unit would need to sign up for and to ask to be covered for busy acts before you could make a claim but they did end up hanging out a few claims so before we get even more into the weeds on all this why don't we just go to the second attack so Zubin can you describe what the attacker did in the second attack yeah absolutely so in the second attack it was a similar flash loan mechanism where you can take out a massive amount of eath as long as you repay it in the same transaction and they took out 7500 eath from bzx itself so it was weird because in the first exploit they use dy/dx a different platform for this plash loan but here they actually use bzx itself then what they did is they took some of this Eve about 900 and they essentially they dumped this eath in an S USD C sorry s USD pool on khyber so what that means is they're pumping the price of synthetics USD a stable coin and then they took the rest of the east and they deposited on pz ax itself and use it to borrow that exact sorry they took the synthetics USD they put it down on pz ax itself and use it to borrow far more ease and the thing is that b z ax e uses an oracle through khyber which they had just pumped the price on so it thinks that this collateral this synthetics USD is worth way more than it actually is and b z ax the platform's gives this attacker way more Ethan there actually should be a title to they use this eath to repay the flash loan on bz x and they make out with a massive profit of two thousand three hundred and seventy eight yeah and um the you know did such a massive purchase of s USD on kuiper or what is it so what was this about its Khyber and Eunice WAP like somehow they're connected it's like yeah so what's interesting about Khyber is that Khyber kind of can use reserves from multiple different Dex's and what's interesting about this specific trade is that or these two trades was that they went through Khyber which had very low amounts of liquidity relative to the flash loan size and they largely executed through unis WAP routed through Khyber is just kind of a mechanism and that caused massive slippage and then after the slippage they used these massively manipulated prices to borrow much more than they should be entitled to from bzx itself so Khyber is just a mechanism to kind of go through unis while yeah and I did read that at that moment when they had manipulated the price they had boosted the value of s USD to more than $2 when obviously it should be $1 so yeah it's kind of interesting because you know it of course I you know I'm sure at this moment a lot of people are speculating about who it should be but I did wonder of course you know at first oh is it the same person but then I thought well it could also just be that once the first attack happened and somebody else figured out another way to perform similar you know as somewhat similar move but anyway okay so Maya and I started to get into this but let's now have a discussion between you two because I think both of you have slightly and maybe even really different views on this but what is your interpretation of what happened you know I saw online some people were debating whether these were hacks or just arbitrage trades what do you guys think so I I don't think it's a hack I mean first of all I think the the fact that it was a logic bug maybe puts it under a hack but I considered defi an experiment with a huge bounty especially everything that is dependent on maker dye and this is a bounty that is testing the fragility of the entire system of defy the protocol risk the Oracle risks and I think of the consequences of this hack three main issues in defy were fleshed out for people to see and really consider as a risk factor one is the centralization behind-the-scenes of backdoors with admin keys of protocols that can always pause protocols to be the market depth that you've been just alluded to in terms that a lot of these dec don't have that much liquidity and it's very simple to manipulate them and third is how Oracle's are a single point of failures for a lot of these trade now keep in mind that a lot of the Dex's rely on a moving average indicator in order to figure out the price and it's not that one trade can that is and the slippage that happens at the body product can distort the price but if it's big enough it can and the consequences for that our basic earning increase both in the volatility and a lack of liquidity as a response because there's a lot of Domino effects in all these treaties now taking advantage of that I don't consider that a hack yes nobody did anything illegal in my dear okay and before we hear from Zubin I just did want to talk about the admin key thing what you were referring to was how zbx did bzx did a pause trading essentially with this admin key and yeah that kind of caused a lot of a lot of debate online as well Zubin so what's your take about what my I said I think there's a lot of good points in there I think that you know defy is a massive system with just a huge bounty attached to it the question for me as to like whether it is a hack or not seems a little bit like a definition or like semantic question but I think like what's clear is that this is a software flaw that was exploited it's not an arbitrage right and arbitrage is where you can take advantage of a mispricing in a otherwise well developed system architecture and make a pure profit this was a poorly designed system where they had a lot of alliances a lot of assumptions and that's what allowed this hacker to take the money right there's a reason why you know you can't just take a 3x long position on dy/dx or you can't just borrow a lot of money on through through compound and you know manipulate dex prices and and make away with a big with a big profit the reason being that flawed software relied on very thin markets for Oracle's and that to me seems like irresponsibility on the behalf of the creators of the software and so when you think about an arbitrage it to me seems like you know the market the participants might be acting irrationally here the system itself was broken and was exploited and a [ __ ] in the armor was you know used to make a fat profit for for this attacker um I mostly agree with what what you said but at the end of the day these systems are economic financial systems and there's always an attack vector that is mostly financial especially as defi is a bunch of Legos or composable and what people design one protocol a lot of times they design for the worst-case scenario and stress has that protocol in ice in a silo in isolation from everything else that can come into that and the minute we introduced flash' loans we're basically creating a series of trades that are automated into one transaction that not always can be predicted or simulated when people design these protocols and there's also a time difference between between today that a protocol is shipped and goes into Maine that after it's been audited and all the other protocols that get introduced into defy and I think that is really a lot of the the protocol risk as it is more distinct than the entire market risk of defy that's how I think about it to be honest interesting yeah so the way I see this and then this comes to another debate people are having on the internet which is our flash loans the culprit here in a flash loan list system one without flash loans do these mistakes arbitrage is Beauvoir exists and fundamentally from the math of it if you take the same attackers and you have them instead of flash loaning seventy five hundred eath in the beginning they're just extremely wealthy and they started off with seventy five hundred they still make the exact same transactions and they make off with the massive profit there's no fundamental new thing that a flash loner Loney I guess a flash borrower can do that someone with seventy five hundred eath initially can't do as well so that to me calls into the question the notion of like whether these flash loans are the culprits here because Vitalik could have you know made this disc tray it happen with his capital as it is today so when I don't think the flash loans are the culprit in this but we we do have to be cognizant of the fact the flash will basically lower the barriers for such an attack because you don't have to be someone who has to get financing or hoard all these coins in order to to start an attack like that right so yeah a lot of different people are now incentivized to try similar attacks not necessarily on bzx but on other protocols that i think are just as vulnerable without meeting all that cash yeah absolutely i think that's that's fair yeah well actually one thing that i was gonna actually ask you later but let's discuss it now is that because actually this comes up in a in a pretty big way i'm also later in the week which we'll get to that later but um I just wondered in this scenario where you're kind of like democratizing these sort of hacks so that they're not just limited to whales who have Capital to pull that off do bug bounty still make sense do you know what I'm saying like if I realize that there's this vulnerability in a protocol and you know maybe I wouldn't be able to profit from it in the way that I could have without a flash loon but I can you know at least get some money from the team itself like in this world where you have flash loans does that kind of change the incentives yeah I think what's interesting here is that you know maybe the bug bounty size could might have to increase so if you look at bzx they're their largest you know reward for catching a bug was 5k on compound it's in the hundreds of thousands right and so if you look at comparable platforms to bzx they have much higher bug bounties I think that's one way to do it but the main thing is now this attacker has like maybe you know they're not traceable but they have a lot of money that they have to launder and if you can have a bug bounty or maybe even like a dhow that will payout people to find these exploits and then this money isn't you know like black like you know illegal money if it is from the beginning something people can use like pay taxes on and and and they don't have to sit on this like this this black money essentially it is much easier so to a certain extent yes you can look at the purely rational actor and say that okay they'll make more money from a hack than they will from you know you know getting a bug bounty but I think that the money isn't the same money you got from a bug bounty is much easier to deal with okay yeah you know what let's let's actually just talk about this other incident then now that happened because the amount that the bzx team was willing to pay in bug bounties is potentially another issue here so essentially on Thursday one inch exchange that this is the Thursday after the two attacks one inch exchanged published a blog post in which they said that back in January they discovered a bug in fulcrum which is the lending part of it's the same team actually as but but it does loans that would enable 2.5 million dollars of user funds from three different pools to be stolen in a single transaction and in their blog posts they alleged that they had given the information to fulcrum and had even offered to whitehat hack the contract to protect the user funds but that fulcrum had instead chosen to leave the funds vulnerable while deploying a fix and that that whole thing took 16 hours and in the riot and so yeah then they go into this thing with the bounty but actually but before we do before we talk about the bounty I just want to let you know like what so what do you think of what happened there do you think that fulcrum should not have left user funds vulnerable for 16 hours that one-inch exchange is right or do you think the opposite well I think if we meet zzx for a second and not make them like the the ultimate arbitrator of what the right bounty is let me just take you back like eight months to June of last year when a white hack happened on synthetics and I think they hacked about 750 k returned the money and got a nice bounty no scandal nothing and the team was willing to pause the entire protocol and rethink the flaw that they had bvx wasn't as willing to pause the protocol and basically left all their pools susceptible to any attack for 16 hours but I think the the macro-environment of defy has also changed in that time interval because right now pausing a protocol on defy has a huge reputation risk and could affect further liquidity of different dependence and contracts both on that I I feel like we don't really know enough or I don't know enough to make a judgment call there but there was a complete lack of transparency on BD axis parts throughout the entire hacks and the vulnerability since January Zubin do you have an opinion yeah I think that I mean it's a hard call to make you know if you're a founder and you have 2.5 million dollars of user funds and the question comes down to do you want to risk the reputational risk for your users benefit and I think you know as an ethical business you know or even just an ethical smart contract creator the question is do I care more about my own reputational risk or do I care more about my you know my users and I think in the long run it pays to care more about your users even if you are a selfish actor right and so bzx has seen that the reputational damaged that they've taken by not you know trying to cut corners and not take users concerns as seriously far far far outshines or sorry is far greater than the amount of reputational damage they would have taken had they stopped the protocol done a very responsible thing and had a lot of community outreach because this community is to a large extent highly technical understands there's risks with these protocols understands that sometimes there will be hacks and is very forgiving I think and so I think it pays to care about your users and to to be ethical in a business like this yeah earlier when you kind of at the beginning of your answer said like you know should they care more about their reputation or their users I was like thinking well he built a reputation is to care about your users it was like the same thing let's go into now the bounty part of it because that's kind of you know where we were headed before but that same blog post that when a one-inch exchange published gave this kind of actually very long recounting of the back-and-forth over whether or not fulcrum should pay them a bug bounty for the work and there was this whole other thing too where like they kind of wanted to hire them for an audit and they were bickering over the fee and anyway so one of the screenshots from the back and forth included somebody from bzx saying that they had a bug bounty program but it's only for bugs that are just disclosed confidentially by email and the block then published an article where they interviewed bzx founder Kyle kistner and he said that they had quote agreed to pay one in exchange a bounty even though they violated our disclosure policy by publishing the vulnerability to the public and I try to figure out from the blog post it wasn't super clear but it looks like the amount they finally agreed to pay them was thirty five hundred dollars and they also said that they were planning to publish a post-mortem at the end of February and that the industry standard for disclosure of such vulnerabilities is 90 days so what's your opinion on how these types of bugs should be disclosed and how you know people who find these vulnerabilities how they should be rewarded well I think it's pretty clear that the one-inch exchange folks found this pretty quickly right or early on compared to these later attacks and what that means is someone else someone else who's technically competent is also gonna find out about this bug even if it's patched you know the history is public and so I think a 90 day disclosure policy maybe that's you know I'm not as familiar with that but maybe that works in a closed source environment but in an open source environment where your non-custodial dealing with user funds people are gonna find out about this stuff and so I think it just pays it just smart to care about your users be as upfront as you can be everything is open-source there's really not nowhere that you can hide and I think that you know people care more that they don't want to see someone who's like flawless right we've seen problems before in aetherium and yet the etherium community hasn't left after things like the DAO attack and you know people still believe in parody even after the parody wallet multi sickens to the incident and synthetics is a similar example wear this white hat found found an exploit and that was done in a way that the synthetics community hasn't left so to me disclose it be honest be upfront in an open source environment where we're all trying to work towards similar goals it just makes more sense to be forthcoming I'll just add that I thought it was like mega troll the one-inch because the post mortem that bzx published this week they did come they were very afriend about the fact that they didn't have transparency on their mind and they they promised going forward they're going to be more transparent that disclose more and then the one-inch blog comes out and turns out that all the bdx he wanted was no one to be aware of these flaws and i probably going forward disclosures of of exploits and vulnerabilities are actually going to be rewarded a to I think we're going to see an excerpt in people buying some insurance contracts Nexus mutual is probably going to see a church as well as default wat for people trying to just protect themselves in the possibility that we're going to see more of these and what do you guys make of what the bounty should be like you know this argument they were having about the fee you were you know you kind of mentioned earlier that I guess was a compound or dyd I think with compound you said has a much higher bounty fee like do you think that'd be vzx should have had higher bounty fees yeah I mean when you start to have lots and lots of user funds on the line you you want to just be safe it's not like the bounty is something that you're using for the benefit of like humanity at the expense of yourself a bounty is to make sure that any exploits are done in a white hat way and so you can imagine that if the bounty was closer to three hundred thousand dollars the first attacker wouldn't have made the attack because they would have gotten they would have gotten this money in a much more ethical way and a way that where they can you know in a legal way and they're not in kind of any any place where they have to hide these new funds and so it's not even should they be hired from a moral point of view I think like rationally they should be hired to write and and that's why bug bounties exist in the first place I was actually thinking this week how smart or at least in the slogan or the naming a protocol like uma was very wise to create or design their title article where they have a cost of corruption for their Oracles thinking how much would it cost for someone to lie or to distort the price and one of the auricles at the U and that's my I'm can you can you just remind us what Huma is I have actually talked to Hart before and I'm just blanking on what Huma does uma is another synthetic protocol I think it's called universal market access it's an acronym for that and they make use of Oracle's and price them as like the cost of corruption that's literally how they branded it and I'm I was thinking this week that's actually kind of a similar take but in a different creature or a different animal two bounties because they're kind of saying hey suppose you want to you want to pop buy out all our market participants and give them an incentive to lie how much would it cost and that's one form of bounties right because they're basically think we're gonna pay it up to the Oracle so they don't have a reason to exploit our protocol just it's a different twist on the same problem yeah it's super interesting and actually I also want to pick up on what's even mentioned work because he used words like legal and ethical or rather illegal and unethical to describe these attacks but actually before we do that let's first get a quick word from the sponsors who make this show possible will the world follow and advocate banning privacy coins will government-backed stable coins become the new Fiat are distributed and peer to peer exchanges just a flash in the pan the answer is maybe virtual currencies can flourish and create a new private and more versatile economy but that grand vision can't happen without keeping crypto clean and that requires support of government and accountability for bad actors privacy enhanced compliance using cryptographic controls has the potential to preserve anonymity without compromising legitimate investigations cipher trees is working on this vision of the future sign up to stay up to date on the privacy enhanced compliance initiative and receive authoritative crypto AML reports quarterly WW cipher trace calm slash keep crypto clean today's episode is brought to you by Kraken Kraken is the best exchange in the world for buying and selling digital assets with all the recent exchange hacks and other troubles you want to trade on an exchange you can trust Krakens focus on security is utterly amazing their liquidity is deep and their fee structure is great with no minimum or hidden fees they even reward you for trading so you can make more trades for less if you're a beginner you will find an easy on-ramp from five fiat currencies and if you're an advanced trader you'll love their 5x margin and Futures Trading to learn more please go to kraken calm that's KRA kem calm why should you get an MCO visa card from crypto comm first it's a beautiful metal card you can top up the card with crypto and spend anywhere visa is accepted you also get up to 5% back every time you spend on all spending including your morning coffee gas or even a new phone you know they'll pay for your Spotify and Netflix - you'll love the unlimited airport lounge access and interbank exchange rates if you travel a lot there are so many cool perks loaded in one card download the crypto to come up and reserve yours now back to my conversation with Maya zahavy and Zubin cotija so Subin before the Adric you mentioned that you felt that if the bounties on musics had been higher that then the attacker would have you know gotten paid for you know understanding this vulnerability in what you called a legal and ethical way so does that mean that you think the attack was illegal and unethical so I think I'm you know I'm not a lawyer but I know that this is in many many ways trending towards the illegal definite definition so what we see in traditional finance is that there are Oracle's everywhere people in D Phi who are not necessarily as familiar with traditional finance may not realize that but things like LIBOR are are used as Oracle's to determine interest rates and wherever you have this massive massive massive pile of derivatives in traditional finance you'll have things like cash settlement which determine how much money both sides of the trade make based on an Oracle and you have things like mark to market so there's Oracle's everywhere in traditional finance and it's quite quite quite illegal and quite possible in traditional finance to make money by manipulating Oracle's in one direction or another in ways that are very similar to these attacks and so maybe defy as a system comes from a certain ethical mentality that you know code is law or that this is just our butt that these systems are poorly written and so breaking them may not be unethical that ethical and unethical question is a little bit different but I think what is very very clear is that it is illegal from many different points of view but and that regulators would have no hesitancy in going after something like this and would have many grounds by which to go after it I think the other thing you can just look at this as a defaulted loan right and a defaulted loan on bzx cuz for you know especially the the first attacker takes out a massive leverage position the second attacker also takes out a massive loan and both of them are essentially under collateralized and so they've defaulted on their debt and that has legal repercussions as well so I think there's just so many different ways where you can look at this as not necessarily in good legal territory but in the ethical question I think that is more interesting and a little bit more up for debate first off not a lawyer but if you consider the entire defy to be a cake a layered cake right of all these composable contracts that have no kyc no amo issue all these Securities and Futures and synthetics without any jurisdictional purview or and are unregistered securities for de facto then just having this one trade in an Oracle and distorting an Oracle is like just the cherry on the top and if anyone were to look at the legality of that trade the first culprit is going to be the protocol and the trader is it's not going to be someone any regulator or it's going to pursue and you can see that if you look at the IC o---- enforcement who they chose to prosecute right and I think that kind of maybe diminishes how illegal this trade is in comparison to traditional finance but again I just I don't consider it to be something illegal I think there was there was an opportunity here based on how these protocols were designed and someone just saw an opportunity and took it he outsmarted the game that's it and weak and that's also my opinion on whether or not it's ethical and I do agree that maybe disclosing this as a white hat might have been the smartest and more responsible way but when we saw the one-inch post on Thursday that kind of signaled to me that hey even if someone were trying and maybe they had been in contact with the BC axe team the fact that it wasn't disclosed and there wasn't any transparency maybe meant that the only way to surface this vulnerability was by actually attacking it well you know well actually just Zubin to kind of ask you a little bit more about your point that you made there like so what jurisdiction do you feel like would you know with this attack fall under it's it just like wherever the attacker resides or and I know you're not a lawyer but I I didn't know how you know how much you thought this through but that was something I wondered about I mean I think what's interesting about regulators when it comes to a special American regulators when it comes to finance is that even if things aren't happening on US soil if the dollars involved if it ever touches the dollar they take extremely big liberties with taking it under their jurisdiction and I think for the the second attack at least you have the s USD so synthetics USD stable coin and there's an argument to make there that regulators can go after that because it's touching the the American dollar right and American regulators dispute I'm not sure if any regulators know much about s USD but yeah I'm sure they don't right now but I'm sure that is true I've actually had a bunch of well I'm not gonna say but yes regulators have told me that they do listen to the show so I agree with Zubin but I'd say that the only regulator's that really matter are the Americans and it has nothing to do with whether or not someone touches the US dollar because you can see that any regulatory jurisdiction that respects yourself itself or considers itself as a first-tier is always going to make sure that their regulatory enforcement is on par with the American one and you can see it in all the discussions SAT at F regulations as well as FATCA and different things and directors I think Switzerland might feel differently but yeah I said I said I I think Switzerland and a bunch of other havens might disagree right but I think I think to a large extent you're right right I think that America has been able to to a certain extent exert influence across every regulatory paradigm in finance yeah and they definitely did that in Switzerland in a big way where they you know kind of forced more transparency so exact people could yeah couldn't hide funds over there all right so here's something that we have kind of talked a little bit about but I just want to ask about it directly so you know now bzx essentially has under collateralized loans on its hands so how do you guys think bzx should handle this situation well so I think that the fact that there's been two successive attacks and this is kind of a chain right so first you have Sam cz son coming up with an Oracle exploit and then you have the one-inch team coming up with another exploit and then there's two successive attacks on the protocol that leave it devoid of funds and when there's that many problems happening a row to a certain extent you can come and like put a fix so you say okay the Oracle is going to be through chain link and that's what they're doing right now they're trying to change the Oracles to something they feel will be safer but I think more fundamentally when you have such a successive set of problems that are happening with a protocol I think much drastic action needs to be taken and that's my personal view whether that's like going through a set of rigorous audits with multiple independent auditing firms like open Zeppelin etc that's one way to think about it or maybe just rewriting the whole protocol or maybe just shutting it down I mean they have admin keys that allow them to unite pause the protocol I'm sure they'll they could find a way to return user funds but I think some drastic action needs to be taken maíam what do you think one of my much intuitive takeaways that I that occurred to me as a result of this attack was that I think we're going to see more protocols put in circuit breakers which are we have them in traditional finance where if there's a drop or a spike in the price of an asset I think it's over 7% on the Nasdaq they stopped trading for an hour and then resumed training and if they see another spike say they just end the trading for the day and given the fact that crypto is a 24/7 training venue maybe we're going to see more protocols build in circuit breakers within their own collateralized lending mechanisms so that if for a second there under collateralized they're going to cause the trading they're going to rebalance from their own equity maybe and only then return to normal operations that's one and second I think we're going to see an increase in financial audits as well like gauntlet Network did on compound just to stress test how these protocols behaves in extreme scenarios and more likely than not some of these scenarios are going to be combining different composable products into a single trade and look into Oracle manipulations as well so I think that's going to be a growing feel for auditing that's going to become more and more popular and hopefully will also become the default like code audited yes so one argument that I have heard about circuit breakers in crypto and I'm not super familiar with this with this area but I did hear that because crypto is so much more volatile and there could be legitimate reasons that a crypto the price of a crypto as it could fall precipitously in a short span of time or potentially even spike that circuit breakers don't always make sense for these assets so what do you make of that argument I agree I think you have to really think through when or in what trades you're going to want to do that or maybe even have very extreme kind of spikes in the prices for you to trigger a circuit breaker but then you see that in both of these attacks that's exactly what happened right I mean the synthetic USD doubled on a stable coin that should be a huge head scratcher for that so that would be one of those extreme events in my view in soo-bin G event do you have an opinion yeah I think that I think that you know some of the points my brought up kind of highlight how this could have positive impact for the community right we're gonna have people more careful about Oracle risk we're gonna have people doing financial audits they're gonna design systems with this kind of cost of corruption approach where they assume maybe an infinitely funded rational adversary rather than making much lower assumptions on on kind of the the power of their adversaries and you know kind of in you're gonna also see and you're seeing this right now money is going to go from protocols that are maybe a little bit less secure to ones that are more secure ones that have been more well tested more well audited and and I think like all in all no one is gonna come and defy and going to make like this khyber mistake again where or I hope so that no one is gonna you know people are gonna at least be very cautious when they think of Oracle risk in the future and when they think about flash loans and adversaries in the future and I think that just leaves the system way more powerful and and and resilient in the future as well yeah and just to go back to my previous question about what bzx should do I did see that Matteo Leibowitz of the block suggested that they do what he called a graceful unwind because he noted that the bzx team had suggested that they would like use the collateral left by the attackers for interest payments and basically wait until their insurance pool is big enough to cover this shortfall but he was like I'm not sure they're gonna the money to cover the shortfall so the you know is like essentially what I'm asking here is do you think that in a way these attacks are more like a referendum on bzx that it's more like hey this team you know is not up to to the standards that we need in this community or is it you know something where it's like it could happen to anybody so first off I don't think I think bzx is the outlier and they've helped bring attention to your risk that it's across dfi right I think other teams are just a lot more responsible and they undergo vigorous audits and they check to make sure that they have the underlying liquidity to make good with their users if something happens but more important than that you have to keep in mind to bgx didn't lose any of the users funds right they're all perfectly safe what happened was that the synthetic coin that bzx uses has no liquidity and a lot of the users that hold that can get out of their positions due to that due to due to the fact that they're locked and no one really there's no demand for bzx right now right I just looked on the site today and they are offering a 49 percent APR right now and the thinking is if the community loses trust in bzx how are the users that still have fun they're going to unwind their positions and that also goes back to a comparison to traditional finance where any lending entity has to have segregated accounts where they have their own Ostrow from which they can use in case of such a such an occurrence and we don't necessarily see that in defy we do see that wig exchanges like finance right so maybe one of the lessons from this incident will be the protocols were put aside some money to make good on with their users in such an event yeah I think it's interesting so you know when you think of loss of funds and like no funds were lost I think there's two ways to think about that the first is it's true no one they didn't go into the bzx protocol and steal some youth that were there but you can think of a protocol losing funds as well from a financial point of view so if a bank you put a bunch of you know money on a bank you deposit like you know some amount of money to a bank and then they go and make a loan that gets defaulted upon and then they can't give you necessarily all of your money back um if you try to you know take out all your money at that moment to me that's a loss of money right and so a massive kind of irresponsible loan that gets defaulted upon is a loss of money in a bank context and I think in the bzx context there was a loss eat their funds because they were there were two massively under collateralized / liquidated or kind of liquidation massively under collateralized positions in the bzx protocol itself and so the protocol made massive irresponsible defaulted loans and in that way since people can't take all their teeth out right now to me it feels like a loss of funds and in the financial context hmm yeah well I guess we're gonna just have to see what they decide to do clearly it's not a good situation for for them or their users but let's talk about another a solution that they you know plan to move to which is that they do plan to integrate chain-link as you mentioned which is a decentralized oracle network and these say they say that they plan to integrate this quote as a supplement to the khyber price free to provide time-weighted information on price data and then they said even though this was not an Oracle attack there were many that expressed concern that the security properties of our Oracle could be more robust so how much do you think this is going to be a solution to prevent attacks like this in the future both on bzx as well as more generally in defy um yeah so I think that the chain link kind of solution that bzx is talking about does help to a certain extent with some of the Oracle problems that are existing right now I'm not as familiar with the chain link system itself but for all the Oracle class of attacks not merely relying on khyber or illiquid Dax's seems to be a prudent move however I think that there are flaws beyond that in these axes processes that they've kind of admitted you know we have had Falls in our processes with their disclosure maybe with their security with the way that they respond to existing bugs etc etc and so an example of this right so they have a kind of pause mechanism by which they've paused the the protocol right now and if you look through what they've said they've said they didn't even realize they had that pause mechanism that means that they've written code and they didn't know that it allowed them to pause the entire protocol and to me it just seems like you go the more and more and more you look into this the more you realize like okay they've tried to build something cool but they maybe then they haven't done it in necessarily the right way and an Oracle fix doesn't solve these cultural issues honestly I was really skeptical when they said that like it seems me that they would know if they have and I think someone have to issue an admin key exactly if they knew they had an admin key that could pause the protocol and then lied about it that's bad if they created a protocol they didn't know that it allowed them to pause the entire protocol that's also like not so good right so so it like somehow it doesn't seem like that would be possible like you would know if you could do that anyway all right so this came up a little bit earlier but you know obviously Nexus mutual is something that we did talk about briefly but let's just dive into this insurance issue a little bit more now so Nexus mutual which was the etherium based insurance against smart contract failure did pay out its first claims after the bzx attack and the first person to make a claim was denied actually initially by seven of the eight Assessors but only because it was filed very shortly after the attack when there was like little information available about what exactly occurred eventually however they did decide that this was a smart contract bug and that the smart contract code was used in an in a way that was not intended so do you guys agree that these claims deserve to be paid out I think so I think that these claims should be paid out because I think that when you're dealing with a financial system the when you talk about insurance or think about insurance you're not just thinking about unintended coast code usage you're not just thinking about hacks right it would be bizarre if FDIC covered you only if there was a hack in the bank system and not a financial crisis right and when we think of these these risks we think of insolvency as like the first one we think of if the protocol somehow irresponsibly uses my money and loses it how do I get it back maybe it's not because of hack maybe it's because of some other massive problem or liquid crisis or whatever and so I think that any insurance and of course just full disclosure I am building open which is doing exactly this right I should have mentioned that when I asked this but yeah because you guys are doing the financial coverage as well exactly so our idea is that you want to cover everything you want to cover a financial problems you want to cover liquidity crises you want to cover like Oracle manipulations you want to cover everything that you can and including the technical problems the hacks the exploits and to me it seems like if you're using Nexus mutual right now I can imagine you know you're relieved about the first one paying out but does the second and does do further attacks that come down the line are they gonna be paid out and you're scared like what if I like fill my claim too quickly what if I need the money really badly and I have to wait for this claims process to me it seems like if you have a decentralized permissionless system insurance should be decentralized and permissionless and I think the Nexus mutual team is extremely strong very smart but I think until you cover financial risks like these flash loan type of Lists bye-bye well-funded adversaries until then you don't have comprehensive insurance so so first of all I want it like I think we like Nexus mutual deserves a huge kudos because I think it was very impressive that payout and the claim and everything that happened this week having said that I think there's some lessons to take away from that number one that it wasn't smart to immediately vote on that claim but on the other hand there is a liquidity issue for people who have fun stuck or cause on that protocol that even if they do receive a claim they might have they might be short on other assets that they need to pay out right and so maybe we need to think about insurance especially about smart contracts like we different maybe provide some sort of funds in the meantime before that claim is resolved and create some mechanism to allow people to access other fun until they know whether or not they're they're going to receive the money from a spiritual having said that the default or the case of insolvency that Subin mentioned is something that we can prepare but I believe that when we have a default on defy there's going to be a huge domino effect that could have ramifications on the underlying assets themselves which in d5 case is essentially the thief or a theorem protocol right if you really think on the abstract you can imagine that defy is essentially financialized instruments where the underlying assets are always here iam that's being locked up right and we haven't seen a huge slippage on that we have seen fun stuck whether it was the parity hack or if it was right now it was BC X or synthetic the domino effect is the systematic risk that I find to be the most disturbing in this market and I don't necessarily think that just that just having a credit default swap is on chain would be enough to cover it because it's also going to succumb to the the underlying protocol and the flippin eek if there is such a such a Black Swan event how we're gonna dust head and commune other community I think it's going to be tested because like we started this conversation we have a huge bounty and defy to experiment and find out yeah I'm a little bit nervous as we go forward because I feel like some of these issues are not super result in defy it just keeps getting bigger I'm the token skeptic and to be honest this week I'm actually happy because I think all these risks were there from the get-go and people kind of like just covered it up or were quiet and didn't discuss it in great detail and the fact that we had this series of events over the past week actually makes the the conversation they it it brings it up a level so we can actually discuss and see how best to design the right system so we can go for it and build it this into a real financial market so I'm actually optimistic yeah I think this has been really good for the for the ecosystem I agree I think that people are now waking up to the risks that are there in defy kind of to your point earlier my you're talking about credit default swaps I agree I think credit default swaps don't work at all because you need some kind of Oracle to determine if there was a hack or not I think a solution that doesn't require any human intermediaries is the best you're right that protocol level issues that still exist right so if you're building a defy insurance there's going to be some reliance on eath because of eath crashes to zero then you know there's basically no consensus that can happen and even things like mining start to break down but I think that you want to cover as much of the risk as you can and I think that the way we've done it which you can you know read about more at open NACO is is much better but yeah I think that I think that this is really good for the ecosystem in general okay all right well we will see how the various teams and EFI incorporate the lessons from this and note whether or not we see any similar attacks going forward hopefully not but um yeah I'm gonna have to keep my fingers crossed I think um all right well where can people learn more about each of you well so yeah to learn about how we do insurance we'll be talking about a lot of you know that in new blog posts that are coming out but you can go to convexity openko opy and co and you'll read exactly how our protocol works that's where our white paper is and how do you do trustless completely decentralized insurance that covers both technical financial risks nyah and you can follow me on twitter at my aussie and why don't you just spell that for people sorry ma why avi alright and actually can I ask you why do you have a pizza slice in your Twitter name and it's by the way people it says D PI D PI or how do you not know about the joke was that none of and this start out as a troll and it's actually relate to this whole conversation that the entire D Phi is not decentralized it's a centralized as a pizza right you have all the toppings scattered but at the end of the day you always have an admin key so it's a PI it's not a D fry okay and a pizza is centralized because it's like it's it's one just like a single object okay got it pyon podcast about the best pizza and how centralized it is I kid you not wait D PI it like I came in even just like oh do piont that's your own okay we started out the troll for the D PI that's oh I see all right well I guess we'll have to check that out it sounds funny um and probably relevant here all right well thank you both so much for joining today this was like an amazing discussion and yeah I have a feeling people have feelings about what you guys said all right people to learn more about Mayans UBA and the bzx attacks check out the show notes and say your podcast player and whether you're feeling this crypto winter or the other kind of winter keep yourself warm with some Unchained t-shirts hats mugs and stickers which you can find at shop dot and podcast calm Unchained is produced by me Laura Shin with help from fracture Courtney Anthony Yoon Daniel jost remand the team at CLK transcription thanks for listening [Music] [Music] 