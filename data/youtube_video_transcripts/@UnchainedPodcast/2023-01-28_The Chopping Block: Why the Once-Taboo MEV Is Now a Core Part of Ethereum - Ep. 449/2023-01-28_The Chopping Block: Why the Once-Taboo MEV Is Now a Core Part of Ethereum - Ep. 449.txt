I think anyone who's been into Mev for a while kind of has this story about how they stumbled onto it and fell down the rabbit hole I often compared to kind of Alice in Wonderland because for some people once they discover many the the entire world just stops making sense and you fall into this kind of like crazy uh you know alternate reality not a dividend It's A Tale of Two fun now your losses are on someone else's balance sheet generally speaking airdrops are kind of pointless anyways um I named trading firms who are very involved I like to have the ultimate D5 Protocols are the antidote to this problem hello everybody and welcome to the chopping block every couple weeks the four of us get together and give the industry Insider's perspective on the crypto topics of the day so intros first up we got Tom the D5 Maven and master of memes next we've got tarun the Giga brain and Grand Puba at Gauntlet joining us today is special guest we've got Phil Diane the founder and Frontiersman at flashbots and then you've got myself a sib I'm the head Hive man of dragonfly so we are early stage investors in crypto but I want to caveat that nothing we say here is investment advice legal advice or even life advice and see choppingblock.xyz for more information and disclosures so today we've got Phil Diane from flashbots he is one of the Premier thinkers in Mev but before we start the conversation uh so today we wanted to do a deep dive into Mev into flashbots into all the things that are going on that are changing the landscape of how we think about blockchains and and block space and mempools and transactions and all that stuff before we get into that though I want to caveat a couple things the first thing is that uh both dragonfly and robot Ventures are investors into flashbots so we have a you know so be mindful of that as we have this conversation also it's been reported publicly that flashbots is in the process of fundraising right now um we're not going to be commenting on that this conversation is we purely about understanding flashbots the history of Mev and what role Mev plays in to crypto and blockchains generally so with that said Tom I'll kind of let you take it away structuring the conversation so we'll start by talking about the history of Mev what Mev is and then we'll we'll go into sort of a broader discussion about you know some of the interesting topics that it brings up yeah I'm really excited to have Phil here who I sort of think of as like kind of the granddaddy of uh Nev um and sort of the formalization of Mev on ethereum I think one thing that's weird about Mev is it feels like this extremely Niche deep Rabbit Hole where there's a certain subset of crypto people who are all the way down the rabbit hole and love it but if you are sort of starting from the first time it's sort of confusing as to what is going on why we're in this place all the different actors are and what they're doing and so I guess you know Phil do you want to give us sort of a little bit of your impression or your background on on sort of what was Mev like or how to sort of get started like what do you think of as sort of the first example um of Mev in crypto yeah definitely um hello everyone I'm Phil co-founder of flashbots and a PhD student at Cornell who works on Smart contract security um what was Mev like for me it's it's a super complicated journey I think anyone who's been into Mev for a while kind of has this story about how they stumbled onto it and fell down the rabbit hole I often compared to kind of Alice in Wonderland because for some people once they discover Med the entire world just stops making sense and you fall into this kind of like crazy uh you know alternate reality um so for me kind of what that Journey was like kind of started with getting into Bitcoin um I got into Bitcoin on some digital activism uh work that I was doing and I wanted to kind of think about how to further the the cryptocurrency cause kind of around 20 2015. I got into Bitcoin kind of a little before that but around 2015 I decided okay I want to change my career from formal verification which is what I was working at the time and kind of formalizing car software formalizing planes things like that into helping the cause of cryptocurrency because it's a super important uh and revolutionary technology I started thinking a lot about okay how do I formalize like what is security um in these systems and what are we actually building so I think if you want to do original security research you kind of have to like start with a blank slate and ask yourself what do people actually want out of these systems what are they trying to do how do we actually write down mathematically what properties and what guarantees people expect out of the things they're using so starting to do that for smart contracts and crypto currencies in general kind of fell down the ethereum rabbit hole fell down the smart contracts Rabbit Hole uh fell down the rabbit hole of people using uh these things to build Financial products at the Times exchanges stable coins Dows or kind of early applications and I started thinking about okay how do we formalize like what guarantees do these exchanges these Dows these other dreams that people have actually give them when you execute them in the code of the system itself and what is the difference from kind of the way people want these things to work to the way they do work and one thing that kind of jumped out immediately was the enormous amount of power that miners had in the system and that kind of led me down this Rabbit Hole of okay well how do we formalize security here all security is economic this is the field we call crypto economics we like to think about rational actors and incentives and writing down this model of how people should behave but because the miners have all this power the incentives for how they behave is actually changed by the applications people are using by the transactions people do by what people basically build on top and it's something that I I kind of noticed that not a lot of people were thinking about or talking about a lot of these application developers kind of saw eth as this like magic Black Box where like it works like it works it's like this magic computer that just like executes things in order if you like pay for it and we can just build amazing things on top um and I think that's a super exciting kind of hype way to think about it but when the rubber meets the road you get into the kind of like thorny issues of economics and power and everything like that so trying to formalize that is kind of the birth of Mev there are also many other kind of fun adventures along the way like we ran uh one of the first MVD Bots trying to prove okay is this real this was before even pgas which is an acronym I haven't explained but I'm sure we'll talk about later we also started you know kind of created this token especially for use by Mev bots in the early days called gas token and kind of went from there just studying it measuring it formalizing it building on top and seeing what questions were open so that was a very long rant but that was kind of like the The Abridged tldr of uh falling down the MVP rabbit hole for me um I will say one more thing which is kind of funds which is that like for a long time I wasn't convinced it was real it was like okay miners can do this they can exploit it but is it real and people would always ask me at conferences like is this real can I write a bot Etc and it was kind of this academic moment of like you know imposter syndrome like dysphoria whatever you want to call it I like almost felt like a false prophet saying like yes this stuff is real but like it was also kind of obvious at the same time so all that to say that like you know it's definitely been a journey and pretty insane to even be on a podcast talking about it to be honest yeah I uh I can definitely see that I think um I I guess you know one thing I sort of think about when it comes to this space that's happened in maybe the past you know two years or so it's been like the formal like definition of Mev and frankly that the creation of the term Med I think to your point earlier you know you sort of there's sort of an assumption with you know blockchains which is mostly true for Bitcoin right which is like you price your transaction and then miners rationally should mine transactions based on you know how much people are willing to pay and that's sort of the end of the story and that's how people I think everything works and I think we saw you know in the early days that wasn't necessarily you know always true right like um there was sort of very famously status Ico which was this uh one of the most hyped icos I think of 2016 2017 and uh very famously you know F2 pool which is one of the largest you know ethereum mining pools at the time front ran a lot of people trying to participate in this Ico and actually doing it themselves I believe and of course there's you know people discovering that uh uh you know if there's a m front running so people front running trades or sandwiching trades on on bank or I guess you know Phil how do you sort of formally think about like an Med like how would you formally Define Mev and then you sort of touched on on pgas a little bit earlier like walk us through you know what is a PGA how do those function yeah so I would love to also uh hear from tarun here because I know tarun has opinions here but there are many formal definitions of Mev uh maybe I'll give like a simple English one that I like first and then explain why I like it and then we can kind of start building from there very simply Mev is called minor extractable value it's or maximal extractable value now that there are no miners it's basically the maximum amount of money that the validator miner or any kind of privileged actor or set of privileged actors in a system is able to extract if they kind of uh act maximally in their own self-interest to maximize their own profit one way to formally Define this in eth is you look at a validator you look at a block and you say like of all the things the validator can do in the world how much can the validator increase their if balance during this block that's kind of the definition that's in the Clockwork Finance paper and it's maybe my current uh working definition although there are many many others why do I like this because I think it kind of indirectly captures any behavior that someone would be willing to kind of pay and he Thrive to this actor to assuming this actor can like only receive information through the channel of that ride that's kind of the technical reason but basically it looks at all the things a validator or a minor can do including reordering censoring and inserting their own transactions and asks how much can they profit from what they're able to do basically the original Mev definition was kind of a nerd snipe because I wanted more people to kind of think about application security this way to question the impact on L1 and the boundary of abstraction between like L1 and the dapps and also math people just love formulas and there are so many like brilliant math people working on things like convex optimization and Ai and you know numerical analysis and formal verification these are all uh kind of ways to approach math problems that once you have a formula for what you're trying to look for it becomes much easier to build work on that and so part of like coming up with the formula was trying to get all these people interested without them needing to go learn everything about how a blockchain works so I remember in the very early days like you know chatting with a lot of mining pools about um the concepts of Mev and front running obviously before they were very popularized and what was very noticeable is that almost all the mining pools they all really really burned into their brains what happened during the F2 pool um satis Ico front run right sort of going back to Mev prehistory like why weren't people why weren't mining pools front running just as a matter of practice back in 2017-2018 and the answer broadly speaking was that it's kind of like you know why do Bitcoin mining pools not go above 50 hash rate right why did they just magically stay right at that threshold or underneath and the answer is that people yell at them is that like if you go high enough people just start yelling at you like everywhere everyone you know everybody who cares about Bitcoin prices start to move around you're like oh my God something bad is happening and F2 pool just got slapped so hard in the face for them inserting their own transactions to front-run this Ico um that everybody just learned you never [ __ ] with block ordering you just don't do it it sort of became like this gentleman's agreement that if we're all running big mining pools we're all sort of stewards of block space and of ethereum and so we don't mess with it and so I remember when the Flash Boys paper came out a lot of people sort of saw you as like kind of a gadfly like you're sort of bringing up this problem that's not really a problem and it's like no no it's happening like there were people doing this stuff in the mid pool and it's like yeah maybe you can sort of pull it out some weirdos are doing that but I at the time it felt very peripheral right and I remember you know you and you and I we spoke about uh this is back 2018 uh about the bank warfront running and and Yvonne and I worked on uh uh uh an article that we wrote sort of demonstrating how to front-run bancor but all these you know D5 was so tiny back then you know like these dexes at that time were trading like one to two million dollars a day and so in absolute terms all this stuff was really small when do you think that transition really took place when this was less of a oh hey I guess this is happening in some corner of the world to hey this is like a really important phenomenon that everybody started paying attention to yeah so a lot to a lot to kind of unpack there I think um I agree on the status uh Ico a few people have mentioned as kind of like a watershed moment in fact I was in a kind of a lot of Mev chat groups and like talking to people about Med at the time and we were all very paranoid that like oh man once the miners like really figure this out like uh it's gonna be this kind of immediate downward spiral to vertical integration of uh ethereum validation where because you need a kind of a lot of expertise to front run these transactions you need to stay on top of all these protocols you need to trade you need to ARB them you may even need to take risks right and uh the best party's position to do this are kind of large trading shops and so the natural thing to do is to have kind of very close first party relationships between validators and these large trading shops um and for me that was like my worst fear for crypto at the time because I was like imagine if you have an edge in validating ethereum but only if you're uh JP Morgan or or jump crypto or something like that that would be a pretty pretty sad Universe for the dream of like permissionless Finance anyone can come there's like a Level Playing Field you can validate from your cell phone or from your Raspberry Pi or whatever so we were super worried about this and when the status thing happened it was like the watershed moment of like holy crap like we're screwed you know we were probably some of the ones like being really loud that you're saying and like just to try to you know figure out what to do about this um so I think yeah flash Bots itself as a protocol in many ways is like kind of trying to counter this vertical integration by democratizing the Meb itself and saying to validators like look that's even more profitable if you Outsource this to a permissionless market than if you have like trust-based contractual relationships or if you take the risk yourself in these markets I also think that's a lot of the reason that people weren't doing it so uh famously when mining pools uh started to do Mev there was one pool um I'm pretty sure it was ethermine but I don't want to misspeak so I'll caveat but uh started running their own Bots doing this vertical integration thing and quickly kind of got rugged by other Mev Searchers who found a bug in their bot and like use that to steal like a few hundred thousand dollars which at the time was more than like they would make off me be in like nine months probably or um so there are a lot of pitfalls there is a lot of expertise I think there's a lot of benefit to the separation of roles so the market eventually did Converge on that but there was like a holy crap like our miners about to go full tradfi and uh you know none of us cool people will have anything to say in this market anymore I think we we should also not forget the uh more exotic mov that I guess we maybe we see a little bit of but like I think at that time it was shocking was fomo 3D and like people buying up entire blocks in 2018 where they like can you describe fomo 3D was was sort of like uh you could think of it as a Ponzi scheme game where basically you know you put money into a smart contract and your money gets paid to everyone who's put in money before you but if you're the last person to put money in for a certain number of blocks or a certain amount of time and no one comes after you you get most of the money in the pot and so the idea is that like if you were at the back of the line then someone goes behind you then you like you know you add more money and you kind of have this thing until there's just no one to do it and so one of the most more it I think this is still considered an exotic form with me if we have a taxonomy it would definitely be in its own category of buying up entire blocks block space just to be last and they spent you know fifty eight thousand dollar fifty to a hundred thousand dollars which at that time was like an insane amount to spend on this and I think that was also one that really stuck in people's heads as like you know this is actually pretty strong form a strong form of manipulation and perhaps censorship that you know needs to be internalized correctly oh yeah to Phil's earlier point though I think I think there is no one definition of Mev that's that that's my definition of met there's actually like it's like it's kind of like CK where people say ZK and they can mean any of the following things fully homomorphic encryption multi-party communication actual zero knowledge proofs that are zero knowledge constructing snarks constructing Starks like the interesting thing I've learned in crypto and this never happens in other forms of VC or Finance or Tech is that there ends up being this thing where investors need a meme that has a very short acronym that covers many things that so that they can like pour money into it without thinking incessantly because like everyone's telling them that's the thing and I mean V happens to be now one of those things ZK is one of those things well there was AI long before that big data didn't have anachronism but that was definitely a thing yeah yeah yeah yeah exactly exactly the Z like Mev became a meme to encapsulate so many different things now that it like sort of lost its fundamental dizziness in some way I don't think that's only investors I think that's all humans people just love their life for sure you know sound bites basically and crypto people make the sound bites so that people invest more into those categories and then they try to do some affiliation marketing but like my thing is ek2 or my thing counts as Mev so that like you can like span the pie of investable things anyway sorry that was Tiny tiny tangent pet peeve but maybe um you know rewinding a little bit because I feel like we again kind of you know skipped ahead like walk us through a little bit of the journey from publishing Flash Boys 2.0 to then you know the creation of flashbots and then getting all these miners on board with Med Geth and and you know so the V1 of flashbots and like you walk us through that journey and then I guess also for folks who are maybe new like what what is flashbots what was sort of the V1 of of flashbots yeah tell us the Genesis story too because it's a good one yeah I will I'll I'll tell you a bunch of stories here so I'm going to be I'm going to be ranting for a little bit but I think it'll be fun so the first thing we did uh was kind of this blog post called the cost of decentralization in Xerox and ether Delta which is when I believe it was Zero X was doing their Ico I kind of uh I guess flooded I don't know found things in the protocol that I didn't like specifically the Meb and like uh kind of front-running vulnerabilities and I kind of wanted to make a blog post about this um it was this work that I was doing with a bunch of people like Cornell where we would just like look at a new protocol every week and kind of just mark it up and like shoot the [ __ ] on like what's wrong with it and uh try to kind of be a source of truth that was like less financially incentivized in the kind of crazy world of crypto that was you know 2016 2017 time period so we took a look at zero X and uh the minor front-running thing kind of really stuck out and was also kind of unifying with some previous work that I'd done on uh Spud bounties so it turns out to run a secure bug bounty on each meat to solve front running we had a project for that called the live submarine uh it was part of this paper called the Hydra back in 2015 2016. and then this kind of came up again in Xerox we were like wow here's minor front running again solved with kind of the same general techniques with the same general trade-offs let's see if this is real so then we ran a bot this was before pgas pgas for people who don't know our priority gas options so we ran a bot we were like can we exploit this vulnerability by just paying more than people who are doing trades on Xerox and ether Delta and going in front of them and then selling right after them basically doing a sandwiching attacks so we started doing this and we were like wow we're making around a million dollars a year on this let's publish a blog post because we're academics we're not in the business of making money publish a blog post a few hours later you know hundreds of emails coming in can you share your Bot I'll buy your botany your code how did you do this a million dollars a year that sounds amazing and then within three days there were like four other Bots doing ether Delta um so then what ended up happening is when you have these four Bots that are competing and the miner is not playing this game who's gonna win well at the time the miners were kind of ordering by transaction price per unit of computation which is called gas gas price um to try to get kind of more valuable transactions into the top of the block space that's just how the optimization problem works so these Bots started forming these auctions where they'd quickly pay more and more gas than each other in this kind of real-time game so like I bid one dollar you come in you bid two because you saw that I did one then I did three this is the game we kind of broke down and studied and what later became Flash Boys 2.0 the paper when we kind of deployed nodes all over the world to measure what these Bots were doing collected a ton of data on this Market formalized this into a game theoretic abstraction and studied basically what is the equilibrium in the game theory here and we found a lot of interesting results that are in that paper for example in many cases it's better to like not even look at what other people in the market do and just bid yourself on like your own curve why because then their Network latency to you doesn't matter there's like all sorts of counter-intuitive conclusions like this so that was one phase and at this point Mev kind of had become a cottage industry where there were like a lot of bots doing pgas uniswap had come out um there was a lot of Mev introduced there that kind of made this Market real and there were a lot of things in parallel going on including gambling games I like tarun was talking about new dexes coming online that created a lot more Mev icos where people would kind of want to buy the whole block nfts started to come into the picture and people wanted to get the hot drops before others all these things kind of compounded to just increase the incentive to manipulate the block ordering basically or to place bids for this block order so actually Phil let me let me let me let me pause you right there the the real so you mentioned a bunch of sources of Mev that kind of arose in the last couple years by far the biggest was uniswap but uniswap really just an order of magnitude more Mev than pretty much anything else in the space and certainly more than ether Delta which is in which was an order book Base Exchange can you give the audience an intuition why does uniswap just spit out so much Mev because uniswap basically has the fundamental property of an amm which is like you want it to be the case that one person can come make a trade at any time without needing a counterparty because the counterparty is this liquidity on the blockchain now that being said that means the blockchain basically has to offer you a price at any time and that price will never be necessarily fully accurate to the outside world which is moving in its own kind of very fast-paced separate way right so like this always kind of creates opportunities for people to come in and trade against it because you don't need a counterparty to like agree to your trade you can just kind of do it at any time and you're always able to quote some price that depends on the state of the world and the transactions other people are making so there's like a huge space of Arbitrage to do there if you can control that ordering also user trades on uniswap need to specify an approximate price because their price depends on what order they're put in and so therefore like they need to know whether they'll be mined or not and this each user trade changes the price that the contract offers because of how it works which also then creates even more opportunities so it's kind of this like Perfect Storm of like uh unchain Prime trades that like are constantly creating these opportunities so maybe two more tangents I'll go on just to kind of indulge the myself uh because I think it's cool and I've never told these stories and I think the audience might find it fun one of the things that was mentioned before was buying full blocks little known fact in creating gas token um through ic3 we actually bought many full blocks and we kind of used this clever uh exploit in ethereum where you could store gas you could buy it when it was cheap store it and then kind of redeem it later to get these blocks and we ended up actually buying two weeks of basically ethereum block space if I remember correctly it was around two weeks for around sixty thousand dollars to like basically clog up uh the whole network which at the time we were like wow that price for the gas seems like super underpriced because there's no like kind of efficient way to buy it um so that was one fun kind of early Mev tangent another one relates to uniswap so when the uniswap Forum posts came on each research I actually sent a message to uh vitalik and Hayden basically saying like this is a horrible idea this is going to create a ton of Med it's super exploitable users are going to get reordered and like sandwiched and like they're not going to have any guarantees like not the right way to design an exchange on a blockchain for like all these fundamental reasons and vitalik wrote back pretty quickly and he was like you know actually I think this is fine because like maybe we can just use these incentives as like another fee payment on the blockchain um and I was so angry and triggered I was like what do you mean another fee payment this is like so hard to optimize you know it's like NP like super P space like Star problem like what are you talking about like uh Goldman Sachs is going to come in and kill us all but funnily enough I've like pretty much come around to his his way of thinking so metallic the prophet confirms always always the problem but yeah basically always the profit so getting into flashbots what is flashbots um so flashbots is basically it's a it's a it's a collective a company a startup formed to do research and development in this problem space come up with Solutions come up with open problems come up with products as well um and kind of solve anything basically is like the long-term Mandate of flashbots um and the first product flashbots kind of was a hold on hold on Phil how did how did flashbots come together how did all this start how did all it start well it started in a telegram group um so it started with me uh kind of uh meeting a bunch of people who were working on Mev and us just kind of talking about Med and like being concerned about it and starting just you know a network of basically cool people who were working on this one of them was uh Tina Tina the flashbots goat who I met in a unit swap party in New York actually funnily enough but she was running this like traveling Hacker House that did basically Mev extraction using various strategies and was also trying to like run Miners and kind of ran based on this Collective model where you would bring tribute they did do off-chain Mev extraction too by purposely like winning like five million hackathons and using that to write like Mev related code it was actually kind of Genius they they had Tina Tina's house was like one of the craziest things I think I've ever seen in this industry I agree so I think there should be a separate episode just on Tina's house and uh I would love to come reminisce about because it was called the pirate ship and that's like to ruins that kind of what it was it was like place to place extracting tribute it does feel like one of these things though that like needs to be like a a legal music venue or where like everyone has a great memory but like you never really write about it exactly exactly yeah it's all that's left yeah um so yeah basically um I knew all these people were kind of working on any of these stuff when F2 pool stuff kind of front ran the the status Ico we all kind of were getting concerned I started thinking about okay what can we do about this and I had this kind of idea of like oh we should just democratize this and build like an explicit option that like Works around transaction ordering because clearly it's a valuable resource and clearly like you know I have this whole post called Med what do where I lay out like the logic for why extract Mev instead of kind of trying to circumvent it or leaving it on the table uh but kind of built up that philosophy and that led to this product called nevgaf well Phil can you can you explain the intuition of why if you run an auction why that's better than like what you described of what's happening in the mempool with these priority gas auctions that that is also an auction right why is it better to have a quote-unquote explicit auction than the auction that was taking place in the mempool already yeah so because the demand and like the economic energy is there for the Mev to be extracted like there will be an option you're right like someone will win the auction and they will extract the MVP this might take the form of spam it might take the form of priority gas auctions which we've already talked about where people quickly kind of increase their gas payments it might take the form in some systems of latency or like uh like you like it is on Wall Street with like a single order book server where people try to build kind of as quick links between various computer systems and as low latency systems as possible these are all just different ways for this financial energy to kind of like Express itself and be extracted so the downsides of pgas are are they have a lot of externalities um so first of all having good latency is a huge advantage in a PGA this is to me one of the biggest issues with pgas why because you can see other people's bids faster you can make faster bids to The Miner you can see transactions as they happen on the network faster and update the bids you're making with that advanced knowledge so um we formalize a lot of these effects in in Flash Boys 2.0 but basically the tldr is like latency is huge in that game and one of the good things about the explicit option is it reduces the benefit of having all this kind of low latency infrastructure in a way that lets more people participate and then you have like a more competitive more democratic less predatory Market um I also think latency in crypto is like one of the underrated memes of like you know 2023 2024 because if you have a system that like you need to have low latency on you end up with Geographic centralization and you end up with regulatory choke points and end up with fragility just all these bad things like we don't want uh something that requires low latency I don't think um so that's one thing but there are many other externalities there's also like failed transactions still have to pay in priority gas options because of the way ethereum's rules work so you end up with a lot of failed transactions that take up space um and pay money that they don't need to be paying this money uh because they're not they're not doing anything and they don't need to be taking up the space because you know other transactions could go there they're not doing anything that's another externality there's also a lot of messages sent on the network on the peer-to-peer Network so all these people running nodes on their own homes or running nodes for their business or whatever when there's a priority gas option you're relaying like hundreds of bids that are going on in real time just for this auction for maybe one legitimate transaction that the transaction is trying to Arbitrage um so that's just super inefficient and it it's an externality on the entire peer-to-peer Network that just makes the system more centralized and makes it more expensive to run a note and that's that's not a comprehensive list so there's many many externalities of a of having a bad mechanism of just having to YOLO inefficient way to do things so if I can summarize the philosophy then behind flashbots it's that Mev is not going away like we're going to have Mev and if we're going to have Mev we know that people are going to compete for the Mev that also goes without saying there's going to be competition but that competition doesn't have to be wasteful and if you can minimize the waste whether it's you know messages sending over the wire or whether it's failed transactions on chain or whatever else or competition over latency where people are you know buying Hardware that's closer and closer to wherever the center of the network is if you can reduce that competition then you know the competition that does take place can be more fair more Equitable and there's more room for people to invest in things that are good for ethereum rather than that our zero-sum just people kind of wasting each other's money I think that's part of it I would even take it two two steps further and so one step further I would say like the last thing we want to do is create systems where being a bad person or like you know creating externalities is is better for you individually and is more profitable than than being a good actor and behaving within the rules of the system I think this is a big way that tradfi has failed in tradfi if you seek to gain the edges of the system that's the most profitable thing you can possibly do right and like it doesn't necessarily need to lead to a social good maybe it does maybe it doesn't it doesn't matter but like uh so I think one thing flashbots really doesn't want to do is Advantage people who are willing to extract Med right uh in in a world where we say everyone like please let's just be Kumbaya leave this on the table we don't want it to be the case that if you do do it you'll be way more profitable right so like that's a big part of creating a Level Playing Field especially in a geopolitically complicated uh Universe like crypto where we do have Bad actors like North Korea does ethereum transactions every day you know what I mean things like that so we really want to make sure that like the honest behavior that we are saying to people this is the happy path is also not like super unprofitable uh or doesn't penalize them for for taking it that's one step and the next step is like we do think this energy can be harnessed also for the users and um to to subsidize people who secure the network yes but also to um subsidize transactions on the network to get people better prices to give people the execution they want in these systems uh so we think if we design everything correctly Med doesn't have to be a bad thing it can actually be a really really positive force and it can be the difference for like why crypto works better than what was there before okay so let's before we before we sort of go further in the story of how Mev has developed I think this is a good time as any to actually try to take a crack at that question because I think it's been it's been it's been a big debate that it still rages in many corners of the crypto industry is um should we accept Mev as just like a you know it's just like an element of nature it's like the wind like you're never gonna get rid of it so you have to learn to live with it to harness it and to make it harmonious with the rest of what you know your what your goals are there's a very famous disagreement between yourself and Ari Jules who is your PhD advisor or very you know highly regarded cryptographer in his own right and he wrote a piece in coindesk uh called miners front running as a service is theft and he has a great line at the beginning of this piece where he says as an analogy to um to Mev he says I'd like to announce a great new idea I've devised to reform the police today cities direct their police forces to prevent and prosecute theft but crime is a tough problem and policing is costly what cities should do instead is auction off the right to mug people and burglarize their homes and using this money that they get from the auction they can use that to pay people's salaries offset tax revenue and fund new policing initiatives use this as another did you say hey isn't it kind of [ __ ] up this idea that instead of saying wow Mev is terrible it is hurting what people what what people's expectations are about how blockchain should work and how people were taught that blockchains actually function and um what what your guy's solution is or what your what Your conclusion is is that oh we should embrace Mev we should we should sort of take it all the way to the finish line and then sort of be redistributive or figure out how to minimize the externalities of Mev but Mev is just an effect of life so we should just embrace it talk us through like how you think about that objection today yeah I mean I think it's an intellectual disagreement I think there are different approaches to Mev the way I think about it is honestly that uh it's just an argument over like how to get to the same end goal which that we all want which has nothing to do with like MVB or the definition it's like Building A system that works as well for users as possible that has all these financial apps that is perceived as fair that people feel is fair that's not like creating all these exploitative situations or rents or anything like that like I think all the camps in the Mev diaspora and thought including the ones who think nav as a service is theft they share this objective they like really really care about fairness my true belief is like if you take fairness protocols as they call them or like Fair ordering protocols or whatever and you iterate them to like improve everything that's like wrong with them all the externalities that like people trying to extract energy anyway will create you make them uh compatible with crypto's incentive model insecure I think you actually end up with what flashboss is doing which is some form of Med as a service I think there's like in my mind maybe less of a distinction than in other people's um I don't know I think people get very emotional about this question and uh they attach a lot of emotion to like what I consider more technical Concepts like The Ordering of transactions or or you know the Mev definition or something like that sandwiching like one transaction then another then another like the semantic fact that one transaction comes before another to me like these are all like second order things like what matters is what outcome are the users actually getting is it good or not I think ultimately my strong belief is like to get a good outcome you need to as you said acknowledge physics nature or whatever and and use the leverage this this energy uh for the user but it's certainly a debate some people believe that if you make it hard enough to harness this and you just have a world where it's like never harnessed this is a better outcome for the user because no one else can like trade in a privileged way against them because no one has the information do you agree with that um maybe that's true I mean I think they get a worse price that way and the users would prefer for people to like give them a better price than to like have the intellectual purity of like no one seen my information but I think it's like basically a religious question and and both approaches will be tried and so we'll see what people prefer I'm curious to hear terrud's thoughts on this too I know you've thought I'm a much more militant uh anti-fair ordering person than Phil partially because I've like written a lot of papers on proving these bounds where you can't actually achieve the these under different Notions of fairness so one of the biggest sort of like academic areas of the last maybe five years that's not in crypto is is AI fairness which has gotten like a ton of people have worked on researching that forever it's like what does it mean for a model that's like making a decision in a court case or like identifying your face and telling the police to be fair like when is it actually a fair and and that field is filled with a ton of impossibility theorems of like there's many competing Notions of fairness and if you satisfy one you won't satisfy the other and there there's there's a ton of those types of results for some reason in crypto people seem to be unwilling to believe that such similar things will happen and and I I think like I find that offensive personally which is why I write a lot of research on this uh because it's sort of like ignoring some very basic mathematical facts about what ordering means the set of orderings a set of permutations has a very concrete definition that has a representation there has like all sorts of things that should be restricting how well you can actually give a notion of fairness and we know that in voting systems for some reason people don't want to accept that for for these systems and so yeah so I I basically think that the the fair ordering thing is in a lot of Economics um the types of results you show theoretically in mechanism designer how do you optimize social welfare well one way of optimizing social welfare is charging the winner of the game of the mechanism the amount of externality that they cause on all together users and in some sense an auction is designed exactly to do that it's designed to make people compete to charge the externality that they're causing to the users uh otherwise and in some ways Fair ordering is trying to say something akin to there are no externalities and we're not causing them to you because everything's hidden and and that's sort of like you know violating a lot of nature in the sense of like it's not really possible to actually do that you are causing externality wait what sorry can you can you can you elaborate like why is it against nature for um for there to be a concept of fair ordering what do you mean by that so the idea that you can submit your transaction in isolation and not impact the overall performance of the network the overall fees the network has to charge to guarantee you isolation and that those fees are less than the the place where it's a competitive market or that the latency is as you know low as possible is is sort of ignoring like physical limitations to doing such a thing like this notion of a fee is really this another way of measuring your externality of your particular transaction that you are causing on the set of validators and the set of relay nodes and the set of everyone running infrastructure and there is a cost to that and somehow saying like I get to be a special Snowflake and I but I also get to pay less than if it was competitive doesn't make any sense that that here let me let me offer a counter argument let me offer account argument okay so let me let me first motivate that kind of argument so when I first heard about flashbots and you know I I remember being back at um the the the pirate ship events in SF and you know this is like flashboss was just still sort of a loose affiliation of people that was sort of germinating at that time I remember getting into some debates at that time that I was I was very strongly against the concept of flashbots and in general there were a bunch of projects around that time that were were called accelerationists where they sort of said like look there's this thing that's like kind of messed up I remember there's another one at the time that was doing um sort of bribery as a service like a governance bribery attacks and it's like well this is going to happen anyway so yeah yeah yeah well there's egl there was also automata was another one uh and there were a few others you know you know you know what you know what the promoters of egl are doing right now being yeah I I'm well aware so they they they participated in the flashbacks auctions yeah let's let's let's also observe the empirical level 100 like once obviously like today it's a very different story and and I think once we cross that threshold like once we once we moved out of the equilibrium of nobody's extracting Mev and we moved into the equilibrium everyone's extracting Mev there's no question that now we need flashbots we need to minimize the externalities from you know Mev extraction but the original thesis of flashbots was accelerationist right which is that this is the end State and so let's move there as fast as possible in the most orderly and efficient way and there were a bunch of projects that that espouse the same general philosophy and um I we had a lot of debates about this internally I was probably the most staunchly anti-accelerationist and the reason why I say that is because I think that the general philosophy because you're an effective outer not not true not true a lot of effective Ultras are acceleration it's in very especially when it comes to AI like they're very much acceleration is different ways yeah um I'm the opposite I actually think that there are a lot of things in crypto and in blockchains that are basically uh not enforced by software but are enforced by essentially norms and I think it is very very um tempting to believe that all the Norms should be ripped out and replaced with sort of pure software-based equilibria and I think that's very dangerous I think there's like a sort of chesterton's fence thing that I I very intuitively that very intuitively appeals to me that's like this is such an AI safety argument this is this is an aicp argument but for blockchain users this is an effective altruist argument it's basically the idea of like look um the same thing is true for you know for for uh mining pools right for with respect to bitcoin to put ethereum aside for Bitcoin mining pools there is an economy of scale the more uh uh the more hash rate you have the more uh profitable your mining pool is going to be the more smooth your returns are going to be uh and so it really makes sense to give all of your hash rate to a single mining pool and for one mining pool to control all the Bitcoin right now that doesn't happen why doesn't it happen it doesn't happen because of Norm enforcement we've decided that hey the system itself has this weakness which is that I mean there's a ton of weaknesses in Bitcoin like people have talked about them forever like feather forking and all this other stuff like there's a fundamental instability to the protocol but we sort of use culture sure and our social norms to kind of paper over the weaknesses in the protocol itself and you can look at that and say oh well that's a mistake like really we should get rid of the norm enforcement and we should find a software-based way to solve that problem and you could but you might make the protocol on the whole fall into a worse equilibrium that was my belief about Mev is that like okay you could do it but you could certainly try to say look we're going to take a totally software-based solution but at the end of the day people have a certain assumption about how blockchains work like the way they were taught the way that I was taught how blockchains work back in 2016 2017 right this very simple notion of oh it's a computer in the sky and you can you know use your time in the computer in the sky to do whatever you want and then the next person gets to go right that is the way that people think about how blockchains work and when you tell them no no no that's totally wrong it's very cute that you think that but in reality this is like some giant auction and people are going to steal your transactions and reorder them and mess with you and you know do all this stuff that's how blockchains really work welcome to reality um like that like that does kind of suck and you do probably lose something that's hard to quantify it's hard to point at exactly what is the cost that you're paying because there's some externalities you're alleviating but there's some other costs you're paying that are very difficult to quantify and when you're paying just as a general thing right when you're paying a very um when you're receiving a quantifiable return but you're paying an on quantifiable or sort of you know deep uncertainty about what the cost is you're paying you should be very very careful to make that trade-off that was my argument for why I was not in favor of the flashbots approach to Mev now look we've crossed that Chasm years ago so at this point there's no question that flashbots is necessary but that that's that was my take about why I was anti-flashbots in the beginning in a world where you're competing with human ux requirements versus many automated systems also generating transactions and replying to transactions in the same system you want to make something as resistant as possible so that if the algorithmic agents are causing huge externalities on the humans they're paying them for it and that's like that in my mind is the goal long run of keeping in auction versus you know forcing the human to actually have to compete with the algorithmic entities on the same level because the auction is a fair way to charge the algorithms I think maybe actually this is a good segue because everybody's running a little bit low on time to you kind of this other topic that I wanted to get to recently sort of around Norm enforcement and um sort of social consensus around blockchains which is sort of this transition to E2 2.0 to proposer Builder separation and then of course to any of the Boost and sort of uh you know ofax sanction compliance and sort of relay uh uh censorship in general so I guess Phil kind of going back to the story a little bit will walk us through you know the transition to each 2.0 from the flashbot side um and then I kind of want to get into uh you know some of the politics of running these relays definitely let me just quickly address uh haseeb's haseeb's long question because I want to at least say something I agree with you actually in some cases I think it's complicated um I think there's like a very it's very hard to have any one size fits-all ethical rules for me uh I'm kind of very like subjective and I use use my gut um so I I wouldn't necessarily advocate for like you know kind of indiscriminate accelerationism like all the time because I think that just kind of redirects human energy into like a darker place than necessarily it needs to be um that being said I think it is sometimes useful and sometimes warranted I think the the the key with uh when flashbot started is like the norm was already breaking down in many ways and So like um there weren't that many steps left and there wasn't that big of a window of time to uh change the Norms um and we wanted to move it towards maybe a norm that was more reflective of reality I also think saying like Okay it's this magical computer thing which is what you said the seed which is also what I was ranting about earlier when like I started working on Meb which is what everyone taught yes how these things were taught to everyone I don't know I think that's also dangerous because it kind of sweeps the economic and the power realities under the rug a little bit so I think we need like a perspective that's like both technologically and socially aware a lot of these questions being like kind of above my pay grade sure well so actually before before we get to the history sorry before before we get to eth2 one question may be to kind of uh point at the the Crux of the disagreement if there were okay let's just say there were a simple algorithm that would allow the blockchain to work the way that we sort of were described at the blockchain worked right obviously all these Fair ordering algorithms they have very big downsides they're either slow latency there's all this you know kind of you can fudge things with the margins but let's say there were a magical algorithm that were just their security assumptions are weaker let's say that they were a magical algorithm that you could just send your transactions to God and God would guarantee that they get ordered in the way that you know a single core would order them would you consider that preferable to a world with Mev extraction and to ruin same question to you no single core you buy will guarantee you deterministic execution in 2023 like all of the Intel microcode instructions you have no clue that guy okay does it have to be deterministic it has to be fair doesn't have to be deterministic this has to be I don't think that necessarily makes it fair depending on how it's implemented because then your incentive is to like be close to God so this is how tradfly works with like a single credit order book that like locks memory and like modify State um is that my the way I would build a financial system probably not given like our knowledge today like I think actually harnessing nav is a better way um worth noting also a lot of Roll-Ups do work this way like there's God aka the arbitrum sequencer and you talk to God and like God has a single threaded process you're in God processes you on their non-deterministic Intel machine and uh tells you whether you got it or not there's also a lot of externalities there so I think it's complicated but like let's say you were to have a magic protocol that does meet all my needs it's economically efficient it gives the user the best price it maximizes the the kind of social welfare um of the system and there's no incentive to like play weird latency games or like Edge kind of rents uh there's no geographical centralization and you can't uh maybe extract and maybe in the same way as the flashbots option I would definitely prefer that magical system I just think there's like definitely impossibility results there sure um if you want to get into Super esoteric ones eventually you even get into like special relativity effects of like some people sending transactions at the same time from like other sides of the world uh you know so like there's not a clear there's no clear objective of God here unfortunately this is this is partially what I meant by physics physics nature does deem that we have these fundamental lower bounds but do you do you basically agree like look if it if it even if it reverts to being latency Wars you're like that is not preferable to a flashbots type MVP auction yeah I think auctions are are interestingly one of the most funny ways of parameterizing information aggregation because they have because how you should design the auction how you choose the auction actually can can give you very very different equilibria in the way that like latency you can't control as much you just get the equilibria that you get from alchemizing for latency with the auction part at least there's a notion of like some intelligent design now a really great example of of auction design in the news recently was the doj yesterday um sued Google for antitrust and they explicitly pointed out Google spamming the second price auction to increase the the floor price so like they basically like in a second price auction you have n people who bid the second place the first place highest bidder pays what the second place person gets now such auctions are are have like nice properties for bidders like bidders are truthful they don't need to come up with a strategy but they're actually horrible for the auctioneer because the auctioneer can take advantage of you because what they do is they insert fake bids and force the first place person to pay much higher than what the actual second press is and the doj has this in the the report it's actually amazing they actually went to the level of being like you designed an auction to front-run your customers and that's part of their Anti-Trust complaint so my point is auctions are actually a very nice mechanism for actually really being able to dictate the properties you want of your equilibria and then design the auction around that in a way that latency is not that's just like allowing full chaos I will also say like go like I agree with all of that and that's a great point and I think there's literally like a thousand different angles you can like kind of cut down uh latency Wars from another one is just very practical it's like in practice if you have a latency system all your nodes will be either in the US or Europe and like you're under like a single regulatory regime and like you iterate to tradify eventually like I think that's a very practical reason you just can't have like latency sensitivity in crypto and I do think like the auction does give you a lot of knobs so like figure out how you actually want this value to work for you um so agree with got it okay so let's let's uh get back from that detour and walk us through okay so in in ethereum 1.0 flashbots sort of was up and running it was this kind of you know sidecar auction where you were auctioning off block space and all these people are competing describe to us first how that worked like who were the different players that are involved in this process and how it actually plugged into ethereum and then we'll move on to what happens with ethereum 2.0 yeah so how it worked originally is we released basically an MVP of this uh ordering abstraction letting people bid for ordering and inclusion and all these other validator powers basically letting the validators run an uh auction to Outsource these and letting people bid on them how did this work so there were a few components number one we added this thing to the client that miners were using to make blocks on the blockchain called profit switching which was basically this end point coming in where you could provide alternative blocks to the ones they were going to kind of build anyway with their own sets of rules and and offer you know profit to the validator for this in a way that was like trustless they could verify on the client that they'd basically get this profit and the logic was like if you let people do this they'll kind of switch in between what is the most profitable block um to mine um so the other component was basically this middleman kind of service so the problem is if you open up this endpoint for the miners right everyone's going to be sending them stuff and to actually verify if they're getting paid they need to run this whole block and check it which is really an expensive thing to do so if they're getting like thousands of these per per minute or something like that it'll essentially be a Dos on their uh system so what another piece you need is basically a party in the middle which in this case was the flashbots what is now the flashbots relay but we didn't call it a relay back then which is kind of a centralized service that just filters out only the most profitable blocks coming into these minor endpoints basically and at the time we were kind of forwarding these whole blocks to the miners so the miners could actually verify okay I'm getting paid this much money and at the time there were mining pools so each mining pool would kind of sign up to this endpoint plug it into their clients and be able to start accepting these permissionless bids on our network but it was somewhat centralized in that you were relying on this flashbots uh middleman for spam control um and for validating that bids were profitable basically what ended up happening in the merge is we saw a change in the actual ethereum landscape itself so rather than having a few large pools that every Miner kind of connected to one of a small set of pools the ethereum foundation wanted to enable people to run their own separate infrastructure and do solo validation solo staking let's say at their house so there were going to be many many more people on the network many validators signing up that were smaller and these validators had kind of less of a reputation and less of an ability for the centralized flashbot service to kind of uh you know enforce that they were they were kind of following Norms on this network that we built and so that led to a system redesign which basically decentralized the role that flashbots was playing where now anyone can be a relay anyone can play this role of spam control and checking profitable transactions for the validators in proof of stake but the validators now have to trust any relay they select in this kind of decentralized network of relays because they no longer see that whole block why because if you send them the whole block they can use that in to misbehave in ways that would be very difficult for anyone to police or attach because there are many of these One-Shot validators that just like have one block and you never see them again so because of this architecture change we had to kind of both decentralize and centralize the market at the same time where validators have a little bit less control now because they don't see the block but there's many many different relays and choices of these parties where before it used to be kind of only flashbots playing this hello so so talk us through then okay so going going from the the kind of decentralization of relays one of the big flash points within the history of flashbots has been uh within the flashbots relay the enforcement of ofac restrictions so for those of you who are naturally aware so ofac is uh the office of foreign asset control basically it enforces sanctions so when we discover that you know the Lazarus group from North Korea has docks itself basically for some address on the blockchain that generally gets sanctioned and um if you are a you know kind of Legally compliant entity with some jurisdiction or if the U.S has some jurisdiction over you then you're legally required to enforce those sanctions meaning that you don't touch that that address or that or that particular contract how there was there was a big uh hullabaloo about flashbots relay enforcing ofac restrictions talk us through that and how how you saw that from your perspective Yeah so basically the the as you said the the ofac list is this kind of list that's published by the uh office of foreign asset control I believe it is that kind of games people that the U.S considers really like high level enough that like they cannot do business no one can do business with this person or they face kind of the highest level of uh National Security kind of sanctions possible so that's that's what it is flashbots currently does on its relay its Builder any centralized infrastructure it runs uh we do filter out uh transactions that are kind of on the list that's published by the by this uh entity I think this kind of caused people to be afraid that maybe all of ethereum or all of cryptocurrency would end up censored especially because around the merge uh flashbots kind of very quickly started growing in dominance uh immediately after the merge happened so I think what people saw was this exponential curve of like flashbots uh building more and more blocks through the centralized infrastructure it was running plus the centralized infrastructure enforcing these restrictions and we're kind of very afraid that this censorship resistant property people care a lot about in these systems the global property of the system that kind of goes beyond flashbots beyond any one actor would kind of be violated I think my view on it is that um it's very difficult to ever expect especially in a proof-of-stake system where a lot of the actors are like large regulated parties that you will ever be able to like really almost coerce uh actors into following Norms so we can have a debate about like you know what is kind of the legal trade-off calculation around like ofac versus no effect but I think what's like hard for me to imagine is like you know crypto people and crypto developers imposing their preferences on like what other people will do in the financial World outside of themselves I think what we can and should do is build systems that are like globally robust no matter how any one person has like their utility functions or their legal analyzes Etc like if the system depends on flashbot's legal analysis it's probably broken um so I think what we try to do is build competitive systems is optimized for things like Geographic decentralization and privacy which ultimately I think are the source of like the anti-fragility um and the the diversity in like crypto Norms so that's kind of how we see it and and I think people's concern is very valid I'm not trying to dismiss that I think their fear and concern is very valid um I think they also have a question about like ethical alignment whether flashbots is like you know here's a kind of imposed like norms and its own preferences on all of crypto I think we're all like crypto natives who the last thing we want to do is like ruin the censorship resistance of cryptocurrency I think that being said we're gonna have to prove that to people and like decentralizing infrastructure so that it's meaningfully outside of ourselves is like really the the way to go it's a tough spot that you guys are in because you're very unique in being a venture-backed startup that is also in the business of being core infrastructure to a public blockchain the second largest public blockchain in existence and I sort of um it didn't occur to me before but I I realize now that you guys are actually in many ways very similar to block stream in that there are a lot of really thorny like kind of philosophical and cultural issues that you guys are constantly brushing up against talk about a way to insult someone I think it's actually surprisingly apt analogy for how much you guys take [ __ ] for like you know sort of micro missteps in terms of norms but also like how carefully you have to navigate this this tightrope of we've raised a lot of venture money we have to somehow make money because we have investors and like you know you that like that's a just economic reality but you're also trying to do you both create public goods uh but also you know sort of do so in a in a fair transparent open legitimate way that obeys the Norms of the blockchain that you guys are working on that's really tricky and you guys are taking a lot of [ __ ] for it how how do you how do you pull that off like do you think that it is doable for a venture-backed company to play that role I think blockchain like shows it's really fraught I don't think it's easy that's for sure um and I think this is one of the like questions that comes up again and again like you said in many kind of different micro ways and I think it's a very valid question the way I think I see it and like the leadership at flashbots I won't speak for everyone but the way I think that we all see it is like there actually isn't a conflict there um I think we are all about like looking for nuance in places where people think there are obvious conflicts for example we think minimizing and maximizing mud is the same thing re Jules would disagree right but like there's a nuanced argument there and I think it's the same as true for a venture-backed startup in this particular piece of critical infrastructure um and public goods and I think that's true for a few reasons um number one I think the financial incentives uh in Mev are like huge and if you look at any kind of system that gets deployed it does end up being affected by these Financial incentives so I think in kind of playing in this Arena it's very hard to imagine that like like a small non-profit uh effort or you know something that sustains itself on grants will a be able to avoid these incentive complications that we deal with as flashbots and B be able to be effective when it's coming up against like billions or trillions of dollars so I think to be effective to build public goods to build a better system to build a better Network we need to be sustainable we need to be scalable and we need to be on the same playing field as like you know people who are or want to be like mean and don't care about public goods and are just playing zero-sum games I think there's a huge Temptation when there's a zero-sum game to be played which the Mev formula literally is to just play the game I think we believe that like the the bigger game is like designing the game and to design the game you need to be credible you need to be reputable you need to be legitimate you need to make choices that people respect that aren't just for your own interest or for the zero-sum game so I think if you take this time Horizon the two can actually be harmonized quite nicely where you can have a sustainable scalable thing and it is you know a profitable company because you've grown the rest of the world so much uh that like it's hard to imagine it not being like I think crypto should eat all of tradfi I think every Google ad option should run on a flashbots option etc etc et cetera right and like things will just work better so if you actually make things work better right like uh you will be sustainable and you can still make things better for everyone else and I don't think there's actually a conflict there it's just a different time Horizon but I do understand why people see the pressure and see the Norms um I think what we've tried to do to counter that is a few things number one we're like super rigorous and how we design our incentives and our structures are our cap table our Equity Etc to the point where like all our investors hate us and like uh you know not necessarily hate us but you know it's not like uh necessarily like okay let's just do the obvious thing we think really deeply about like the power dynamics of what we're creating does it work for what we're trying to solve Etc and the other thing is choosing partners that are super aligned and that understand that building an ethereum that works is more important than flashbots becoming you know a high valuation Enterprise or ipoing or anything like that like we really don't care about that and we don't want to succeed that way we want to succeed by making each succeed and like having had a role in that that you know deserves to kind of be be sustainable um and I think our partners get that they're like crypto native people who build crypto companies and we intentionally structure our conversations with everyone who may or may not ever you know have a business conversation with us to to scare away people who are here for the zero-sum game um so I I think me saying this also is not gonna give people like the ultimate faith I think people will still have the question and like I'm glad they do and uh I think ultimately actions over the next 10 years is like will matter don't build a satellite why not block streets I I will say look for for you guys it's it's a it's a great example as you mentioned that um you know very often like okay we could be like a small fledgling non-profit and try to do this in this like kind of uh more traditional way but the reality is that if you look at the changes that have actually been made to ethereum most of them have not been made by small non-profits or like sort of you know little kind of research collectives um it's been groups like flashbots it's been groups like optimism which used to be the Plasma Research group that have actually made the largest changes to how these protocols work and so I think the the incentives to actually change things and to actually have a real impact and actually ship things is so much stronger in the form of private companies than it has been just you know just just demonstrably from a pure research organizations uh and so I definitely feel that but you're totally right like there is a very important line that you have to tread carefully um but you guys have done a really incredible job at least from my perspective of doing that of all the things that are really close to the Beating Heart of ethereum you guys are just surprisingly beloved I mean obviously you guys got a lot of [ __ ] for the ofax stuff which we also gave you on the show but um I've been I've been impressed that that your guys commitment to transparency and openness about from the beginning about flashbots and Med extraction um has been very highly regarded by most of the ethereum community yeah I think um when I think about flashbots it's sort of this constant sort of yoyoing and tension between like decentralization and centralization right it's sort of like you start out with sort of this you know platonic ideal of what mining is supposed to be and then it sort of centralizes into like you know me the Geth and the initial auction and then it sort of decentralizes again with sort of the open sourcing of like the relay and boost but obviously it centralizes a little bit again in the fact that like yeah I mean the majority of validators now or almost every single validator I need to runs Med boost and the majority of those uh boost blocks are you know uh come from flashbot's own um instance of Mev relay and I think you know it's there's inherent centralization effects and or incentives in different markets and I think you can look at some other blockchains that also have their own own sort of nav markets as like almost an alternate reality of what could have been with ethereum where you have one single entity that is running the Clearinghouse and like extracting profit and so you can sort of see that okay flashbots didn't choose this route they chose a different route but like the Market is the market to a certain extent I guess Phil I mean how do you think about like decentralizing sort of flashbots in the long term or maybe there's this sort of process overall that's a great question that's like exactly what we're working on now so we have this thing called the Suave project which we're going to be releasing like more and more information on which basically aims to decentralize the existing flashbots infer we have and get you know everyone who's participating including even our competitors including L1 validators including Searchers and users to have a share in like running this so it's not uh only flashbots of course we took kind of a baby step in math boots but this will be kind of like a full technical architectural decentralization step I also think it's it is interesting so like the non I think the the non-profit for-profit also plays into like the centralization decentralization thing so I think one of the things that's interesting is like people give us a lot of [ __ ] for being a for-profit company and then they say like look at the EF it's like so non-profit so aligned partially true and Charter but like also like look at the EF in the broader blockchain world and in like the world of actually building the best financial system it's a non-profit but it's incentivized by like this massive token treasury of like which was launched actually by a different for-profit entity which represents like essentially shares in a network they're building right so like the incentives aren't as simple or clean as like for-profit non-profit because thinking like the token price doesn't affect the EF incentives to me would be like a silly silly argument right I don't know I think maybe we need a more nuanced framework for this whole question of centralization and decentralization how this maps on to entities how this maps onto systems uh certainly the way I think about it is like we want to be more decentralized if we can at every step unless we have like really convincing uh reasons not to that stand up to public scrutiny the way we did when we released Meb Geth and we said like look this is like headed this way and we need to do this now let's talk to everyone about it but in general what we want to do and what the Suave project is is doing is decentralize um at every step and what we want to do is kind of build the gold standard of decentralized Mev auctions build the best possible option from a theory standpoint from a design standpoint from a product standpoint user experience standpoint that's like our next goal and I do think it needs to be decentralized uh to achieve those things and I think this is part of like the wait and see is like like you said look at other chains that haven't invented flashbots like mechanisms many of which either now have flashboss clones or are like looking to do so and I think as we like iterate another four or five steps in this market uh you know it'll kind of hopefully if we're right about our research and the state of the world and Etc we'll kind of just keep building what we consider to be the best possible market and this will like kind of speak for itself so one one question that I've had for quite a while and I think this is one probably big misprediction that I had about how Mev markets were going to play out was that I sort of assumed that okay there's going to be the sort of flashbots or like the systems of relays and um you know maybe it's one or maybe it's a bunch of them uh but these are you know you you can't necessarily guarantee when you are entered into a flashbots auction that your transaction is going to remain private right you can sort of you can sort of force it through norms and say okay well if you leak the stuff or you try to grab a transaction and go do something with it we're going to slap you and you don't get to play in this game anymore but if you really want privacy let's say for example you're about to hack a protocol so you have a very nefarious reason why you want privacy you're about to hack a protocol there's no real way to protect it from somebody else seeing that hack and front running you or maybe it takes some time for you to perform whatever there's some there's some reason why you want to make sure nobody else sees this transaction before it gets included in a block my assumption was going to be that there's going to be sort of these two competing forces one is going to be the open auctions with something like flashbots and the second is going to be private sort of side Channels with validators or miners where you can directly send a transaction pay some you know fixed fee or some higher fee or maybe even a percentage of the of the profits in some way that they can measure but there will be these two competing markets right one is for private transactions that never see that you know nobody else gets to take a look at and the other will be for these open auction mechanisms and it seems like in the early days we had that with Tai Chi and there were you know kind of a few other things I mean spark pool was um I think one of the early actors there uh but it seems like overwhelmingly um that second thing hasn't happened there aren't a lot of these you know very active side channels there's really just the Mev auctions and the Mev auctions kind of enforce their own form of privacy uh but they still engage in this auction format why do you think that is and do you expect that to continue to be true going into the future how do you think about the equilibrium there yeah so I mean I think what we aim to do at flashbots um is build systems that are like Optimal to use that you would use even if you also used a private Channel um and I think in today's map boost as long as there's one relay on the flashbot system that you trust that also connects to that validator there's like very little difference uh economically between that than using a private channel in fact like if there's more than one validator that connects to any set of relays you trust or any subset then you should always just like use flashbots and there's no point of like resending the same message to the validator that already is on flashbots um so those are like the kind of guarantees and equilibria we aim to make that being said a lot of this is because flashbots is not currently redistributing any Mev and like or taking profit from uh the the relay or the builders that it's running so this is exactly the same for the validator maybe in a world where like the economics of the auction work differently there is more of an incentive to like sidestep it it's kind of important to us in general to design obviously auctions with as little incentive to sidestep it as possible because they're much harder to reason about much harder to secure once there's like an incentive to go outside uh I think you can look at ad auction literature and theory and practice uh you know I know tarun loves to tweet about this but if you want to see all the ways people game like weirdly designed auctions it's super fun I I mean we're about to see the largest antitrust case of the last 20 years which is the one against Google built upon this so it's gonna be very exciting I mean yeah that's also why Google's kind of like Google's in a very weird spot over this because it's a very technical case it's not like the Microsoft one of like oh you couldn't install Netscape it was like it is about actually like auction front running and like Financial manipulation which is like a very you know first time I think we've seen a a government and make a technical claim against a tech company rather than the more emotional or political claim against them yeah I think we may see a ton of like auction Theory experts inside the government very soon which would be super funny to see cool okay so I think you've bringing us you've brought us up to kind of modern day what flashbots is working on now you've kind of hinted at Suave and you know the sort of uh the the attempts to decentralize flashbots describe okay let's say two years from now year is 2025. what does Mev look like in 2025 oh man I'm so bad at making predictions well but this is a road map like this you guys should be the ones able to tell us this okay yeah sure what what do we want that I think what do we want it to look like and what it was okay uh so what I would love Med to look like in two years number one I would love there to be like a much more decentralized infrastructure Market than we have today so I think we touched on this people rely on the relays in math boost today for two functions number one is privacy um why do you need privacy because this is an auction if you can't have private data a private bid the you know you basically degrade back to a PGA and we already talked about the the problems with that so the relay by keeping these bundles private from the validator and securing this Market provides basically this negotiation this new Marketplace this new Option that's more efficient um so privacy is a key feature and right now it's provided because you trust whatever set of relays you select I would love to see that be more much more decentralized so many more options for how to achieve privacy and options that are uh competitive and that none of them kind of degrade the core properties of the system in the same way the centralized choices do today so I think that's a big part of the swap push another thing you're relying on the relays for is Spam control so basically creating this more incentive compatible Market where like you don't need a centralized party to control spam something I would love to see another thing is redistribution so uh I wouldn't necessarily even call it redistribution I just think user benefit from Mev like in two years I would like Mev discourse to be very different I'd like it to be like a much less dirty word uh my troll prediction is people will love being front run and sandwich because like they will see the benefits of this directly and uh if not then they're just leaving at the economic power of their own transaction on the table I don't think that's something you could ever imagine in it's like heresy in pratify or in social contract based Finance but I think in Mev it actually works fairly well I I don't know a Robin Hood users You could argue that they're happy they got front run because they're not paying any fees for a very different read for a very different reasons for very different reason for a different different no no I agree but I just mean like there's is there is some analogy yeah yeah so what I always say I think the idea of Robin Hood is great the execution is a little more questionable of just like the auction Theory I guess so that's kind of uh you know yeah I I agree like it does somewhat exist in traffic obviously the idea is there we can get into like a whole another episode about like you know do these kinds of incentives like degrade the general markets in ways that like affect everyone what is the rent who's getting it is it like a fair auction you know Etc I think these are all super interesting questions I will say citadel's profitability at least to believe like it's probably not very fair but that's just my gut feeling uh again I'm like an intuitionist on all this stuff um but fair enough fair enough I think it is a great idea but the difference no but to be clear the difference between what Robin Hood does which is called payment for order flow where basically you know retail Traders were just doing random nonsense on Robinhood uh they auction off their flow to a bunch of market makers and those market makers give them better prices than they would get you know just fulfilling an order on an exchange is generally speaking the opposite of what happens through Mev Mev sometimes results in price Improvement through like just-in-time liquidity but most of the time Mev usually means that you have price degradation right you're getting a worse price than what it looks like on screen I actually think that's not an empirical fact an empirically true fact like the routing quality is actually a lot better for multi-hop transactions too then when you have single transactions due to Mev because your Searcher is actually like push you along certain routes I I I actually think like your your claim is like maybe if I only like look at particular types of dexarb plus sandwiching is true but if I actually look at some of the aggregation and larger scale inductions like some of the ones from matcha it's not the mvv is actually can be quite positive for the end user and then in in weird ways that that's the beauty it's quite complex it's definitely not a like there's no binary question like there's there's you know there's billions of roughly a billion right in total Mev that you guys are monitoring on your dashboards I don't think that billion dollars and Mev in aggregate is coming from Price Improvement for Macho trades I think it is it's coming a lot of it is from sex decks Arbitrage or Dex Arbitrage and that is exactly provision um and it sex Arbitrage is like always purely price improved oh it's true okay fine so I I I I assuming again well maybe again there's another argument which is similar to the pfop argument that you're disincentivizing passive LPS more and therefore get worse prices hard to model et cetera um which I think raises a good research question which maybe is is a good thing to highlight here is like we need ways to measure this and actually study this because I agree with tarun my intuition is today Mev actually has crossed the Horizon of like now it's benefiting more people than it's harming not to say that some people don't get worse prices because of Mev but I think that's mostly because they're like actually you know just not efficiently expressing their transaction and like I would hope in two years like the unsophisticated user can have enough sophistication in how they express their Mev transaction that like they have faith that is price Improvement even if it is a front loan and I think today people have just kind of been you know this is like maybe a more controversial take but people have just kind of been like gas lit by technological determinists into thinking like if someone went in front of me I've been cheated and wronged uh when really that's like not necessarily the case yeah I agree with I think this is kind of my main my main grabbing with like Ari's kind of quote or article from way back in the day which is like the space is not static it's Dynamic and uh protocols and users and the tools that we use are evolving over time to you know mitigate nav or redirect it in a beneficial way it's not like we have uni swap V2 forever dexes are improving the way people use Texas are improving and the way their trades and their orders uh get routed is also improving and so it's like you know it's not like we have this one system kind of forever yes I agree with that and obviously there's a lot of Mev that is um just totally innocuous to the end user like with liquidations and with backgrounds front runs as a category I think are the ones that are certainly most contentious and it's the one that people intuitively like okay so I I don't know any of the data about how much price Improvement there is on front runs and certainly just-in-time liquidity is is the sort of the the prime example of how fun runs can actually be better for users than than uh the what most people are imagining but they're still like the perception and perception and intuition is is actually really important and it's very very difficult to overcome the sense that Mev just kind of sounds evil especially when it comes to Farmer like the word front running just obviously has this stank on it that's very difficult to shake off no matter how academically we sort of coat our observations about it um what are your thoughts there and do you think like is there like is there a Rebrand in store where we're going to start calling this different names in order to make it more palatable we're like how do we how do we make people feel better about this if the if the economics actually starts to turn in their favor yeah I think that's a great question um I think it covers actually a lot of like what flashbots tried to do in the beginning which was like start these conversations so I think two really amazing things like uh to reflect on here one of them is to Tom's point about like the equilibrium not being static right now you look at any single protocol in eth or all of crypto and they're basically all doing me be aware protocol design they're all thinking about like okay what are bots on our protocol going to do how can we model these things uh how can we how can we try to predict how these things will play out how can we design smart equilibriums how do we monitor these things in ways that work for our users Etc a year and a half ago two years ago that was not the case at all it was just like magic computer we want to build a lending Market you know hire someone to write the solidity for what we've explained to them that a lending Market is get a rubber stamp on it put it on the blockchain one billion tvl launch a token that was the roadmap very simple right so that's not the case anymore and I think that's awesome like the amount of protocols that actually we are really thinking hard and like having conversations with us and we encourage more and more of them of course to come to our Forum post there and like the more we can help with this the better so I think that is um kind of amazing and I think the second thing is like choosing the word front running and the gut reactions people have to it I think we also thought there was like a dirtiness there and like you know this this seems wrong you know what I mean and so like I called it front running in Flash Boys 2.0 very intentionally because I wanted to trigger lawmakers and I wanted to trigger all these stratified people to see it through a certain box and then put the onus on us as a community to like really convince them that like no this is the way it should be because I wasn't sure you know what I mean like I don't know and I think the question is still actually open although now I'm convinced that like we will succeed in in the Rebrand uh so I think actually we shouldn't Rebrand it we should still call it that and we should like basically force people into a more nuanced conversation about why the power Norms uh in Trad Phi are different why that requires a different type of Regulation and and why that doesn't exist in crypto so yeah I think that's what we that's what we need to do is really think hard about power dynamics economics social norms um and and the fact that like people are having this gut reaction is cool I think um of course it is actually somewhat like you said hasid it's complicated because you don't want to go too aggro on this and then like you just get some like super ill-informed legislation that like causes like ridiculous externalities because people's like feelings are hurt or something like this and that is the risk you run by like taking this strategy it's one that I at least kind of like chose intentionally and I still think you know there's there's a lot of conversation to have here there's been a few people actually in the regulatory side who are like oh I'm writing a regulatory paper let me here's my knowledge of like oh this is frontrunning this is horrible and then we have the more nuanced conversation with them and they actually come around to the the Viewpoint so I think it's it's an opportunity actually yeah there was this law every post-doctor Professor who wrote like a pretty long form legal that I guess posted this week and it was actually quite quite good because I I think like very nuanced take read a lot of research from different people kind of like synthesize some sort of like notion of hey like there probably is a sense in which like the current law legal structure doesn't understand how to handle was always bad but yeah I I think the problem is like people like written 20 20 and 2021 maybe made it sound like this like evil ogre I'm like beat your metamask on its head and like I I just like I've always like found that to be kind of a little bit sad because it makes people like not see that there's actually a lot of Beauty in the structure of this stuff and it's actually quite nuanced and detailed and it's not a black and white like type of thing in the same way that like AI safety is not like some type like Boolean function that I'm gonna like be able to tell you yes or no to and then you know I think Mev as a subject deserves that respect and Nuance as opposed to like beating something on the head with a blunt force instrument this is also why I call the blunt force thing like a technological determinist kind of thing as a joke because you're making like a social value judgment on like this technical expression and what that really means is you want like technology to judge your social outcomes like I'm sure the AI safety people would love to have like a function is safe parentheses AI model or like same with the Mev like is ethical you know like transaction list but like you're trying to project like these social norms which are super important and like we need to have nuanced conversations about like do our systems achieve them on to like this very specific like semantic execution and ordering that's like more general purpose than what you're trying to reason about in a way where you just like lose a lot of like Fidelity in your like ability to actually build things so I think that's like a natural impulse for for people I do understand it it's also worth noting one of our first challenges at flashbots on the research side was can we come up with an actual taxonomy for like the ethics of Mev and I can't tell you the number of people all the other research problems we've had like amazed amazing constructive progress down I can't tell you the number of people that are like yeah we want to work on this give us money and then like like two months later oh wait this is like really hard you know to actually come up with this Boolean function uh so yeah well it's a it's a super important conversation I think we've gone we've gone uh a little bit over time so we have to we have to wrap it up but Phil look Mev is something that's going to continue to be an important conversation within ethereum and within all blockchains we really appreciate you coming on and explaining kind of the history as well as what you guys are doing with flashbots when are you going to finish your PhD because I know Ari is hurting your your PhD advisor aren't you like seven years into your PhD now uh something like that I actually stopped signing uh my website hasn't been updated since I was a second year student so I still have people Twitter message me and they're like wow you've done so much for your like second year and I'm like uh but soon soon TM is the only answer I'll give I mean why not just never graduate that seems to be the approach that he's doing that seems to be the approach uh well Phil thanks so much for coming on and appreciate you talking us through everything for now signing off see everybody thank you all yeah [Music] 