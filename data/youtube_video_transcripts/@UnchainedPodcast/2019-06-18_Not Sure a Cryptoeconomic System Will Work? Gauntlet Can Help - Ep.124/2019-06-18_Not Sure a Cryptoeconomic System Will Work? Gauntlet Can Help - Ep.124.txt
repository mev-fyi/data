hi everyone and welcome to Unchained your no-hype resource for all things crypto I'm your host Lauren you may have heard Unchained is doing a survey we want to know how do you think we can make the show better how would you like to see Unchained expand if you could just take a moment and go to surveymonkey.com slash are slash unchanged survey 2019 again that surveymonkey.com slash are slash Unchained survey 2019 your answers will be a huge help to me and my team here at Unchained also those who answer the survey can enter to win one of five free cost of Bitcoin lightning notes plus a free year of Kostas gold membership including a multi six security app for an iPhone and Android a treasure Hardware wallet a Casa Faraday bag and 24/7 support those of you interested in learning more about Casa or about protecting your Bitcoin investment generally to check out my interview with CEO Jeremy Welch thank you to casa for donating again the URL is surveymonkey.com slash are slash unchained survey 2019 go there now to give us your thoughts in the future direction of Unchained and enter the giveaway cipher trace makes it easy for exchanges and crypto businesses to comply with cryptocurrency anti-money laundering laws avoid illegal sources of funds and maintain healthy banking relationships cipher trace is helping you grow the crypto economy by keeping it safe and secure Kraken is the best exchange in the world for buying and selling digital assets it has the tightest security deep liquidity and a great fee structure with no minimum or hidden fees whether you're looking for a simple fiat on ramp or leveraged options trading is the place for you my guest today is Tarun Chitra co-founder and CEO of gauntlet welcome to rune hi so tell us what gauntlet does yes so gauntlet is a BA chain simulation platform so we basically try to model all the different types of users who interact with both layer one chains and consensus protocols as well as smart contracts and one of the reasons for really doing this is to have a strong statistical understanding in addition to you know security understanding of how these systems perform when different types of users are interacting with these systems a simple kind of example is you know in a lot of crypto protocols people tend to view compare Byzantine and really kind of irrational actors versus honest actors who perfectly follow a protocol but in reality most users of these protocols are traitors or interacting with other systems and modeling how their incentives work and how their rationality works gives you a better idea of how the system will behave under sort of more realistic conditions yeah I remember when you first told me about this there reminded me of Monte Carlo simulations that sometimes retirement professionals will do for you or their software that does this to kind of model out with different inputs whether or not you'll have enough money to last in retirement and it you know etc so it will kind of show the different scenarios under different marking conditions but you have a really interesting backstory to how you came into the space let's just start with the first time you ever heard about the coin how did that happen yeah definitely so I was working at this kind of odd Research Institute called DE Shaw research so it's a private research institute and this billionaire who was formerly a CS professor was actually spending his fortune on building Asics which are located specific integrated circuits which are the same chips you know you use in in minors or in GPUs they we were building a thix for doing physics research and and at that time in 2011 there weren't really many people building Asics there were telecom companies who built them for routers there were research groups who built them for new chip architectures but most of those didn't make into production and then there was you know Apple Samsung and so the interesting thing about these types of orders is that if you don't have an order that's of a large enough size fabs which are kind of these fabrication facilities mainly in Asia right now they won't really talk to you so you have less than a hundred million dollars of chips that you want to get produced that they want really to speak to you and you have to go to these aggregators who take many small orders and they do a lot of the technical work to make sure that your chips don't interact with someone else's chips and the formal verification and very you make the behavior of these chips is as it would be if you have the whole order yourself and so we went to an aggregator you know we had this roughly twenty five million dollar chip order and they said okay great we'll be back in a few months with kind of the first samples and then they more or less ghosted us for a while and we were like hey what's up you know you you took twenty five million dollars from us and they were like uh well you know actually how about a ten percent discount and we're like you can't just give us a ten percent discount without telling us why you just didn't talk to us for three months after taking our money and that was in 2011 and so that was really one of the first Bitcoin ASIC miners was coming online and that was when I was like wow I really should be trying to understand more about this I thought it was you know little not quite a joke but I thought the paper was a little bit grandiose you know for a distributed system style paper so I didn't really truly believe it until I started seeing people building hardware for it and that way to be clear so the the fab basically got a big order from somebody who wanted to create a Bitcoin ASIC and so that's why they postponed your order and like pretended like they hadn't taken your money is that what you're saying yes I'm sure the Bitcoin ASIC order paid them some you know increased cost over what we paid for the same amount of space but yeah we sort of got front run by a Bitcoin ASIC manufacturer and so then how did you go from you know at that point just learning about Bitcoin to eventually here I mean it was it no it was 2011 why don't you fill us in on the last eight years you came to launch a company in this space yeah definitely so basically I I'd mind quite a sizable amount of Bitcoin because at that time even then you were still reasonably profitable with GPU mining and I just my parents lived in a place that had relatively cheap electricity and I just kind of had a computer running in their basement and I had a lot of Bitcoin I saw the crash of 2013 and I really was scared and I just sold all the Bitcoin I had and I was like I'm never getting back into this it's stressful I have to worry about you know security and all this stuff but I kept paying attention to the academic literature and I'd really been taken by a couple key papers that had come out in 2013 and 2014 and 15 and they were the ghost paper so ghost stands for greatest greedy heaviest observed subtree this algorithm is actually one of the key components of the first version of aetherium it's what kind of what aetherium have a faster block production rate but it was the first academic paper that really studied the probabilistic aspects of how blocks travel through the network as well as how different types of adversaries would potentially try to interfere with the growth of the chain in a very formal way a much more formal way than the original Satoshi paper which you know overtime has you know has been found to have a lot of kind of at least on the mathematical side has had a bunch of mistakes and the second paper was a selfish mining paper by Emin concer and I al and that was also another paper where people really used more rigorous probabilistic tools to try to find a bug in that in selfish mining what happens is a miner kind of holds out a bunch of blocks that they produce and then as long as they have an advantage or the rest of the chain they keep growing on their private chain and if the rest of the network comes close to them they publish all of their blocks and the idea with this attack is it kind of reduces the efficiency of the network and gives all the rewards to kind of selfish a larger percentage of the rewards and they are due to the selfish minor I I tried getting people I worked with excited about this but I think you know there were more traditional distributed systems and hardware people and they just really were like well this was just a novelty and this was crazy people making a six in Taiwan you know can this thing be real and then you know I after after I worked there for five years I ended up working in high-frequency trading and that was you know I I that was kind of when I saw the the invention of a lot more sophistication a lot of financial sophistication in this space I think the the Algar and paper really made me for the first time realized that there is sort of a melding of tech and finance in the way that had hadn't existed because people were finding novel ways to make structured products that you know securitized the security of a network in in terms of proof of stake and I'd kind of you know at in trading when you make a trading strategy you basically design your strategy you take kind of the statistical features of it that you think are important that represent what other people are doing in the market or what you want your ideal strategy to be doing and then you kind of run these back tests where you which are like the Monte Carlo tests you discussed with with regards to your retirement account where you basically can run the strategy on historical data and say ok I expect to make X amount of dollars the standard deviation of the return is this this is the worst-case loss this is the best-case return and you can analyze how this kind of algorithmic strategy that might just say 0.2% of the point two percent of the time send an order here fifty percent of us I am send an order here something that's very not super human intuitive and you run these simulations and you can get the economic intuition for what that's doing this is how it makes money this is how it loses money this is how statistically broad the distribution of outcomes is under different stress test scenarios and that was when I started kind of seeing a lot of similarities to what people were doing in crypto in that cryptographers have a method of proof where they basically make an idealized simulation so they say hey let's pretend there is an Oracle so someone who has full control of the whole network and the Oracle picks an adversary every once in a while and lets the adversary read someone else's state so it means they hack their computer and read their private keys and they can sign signatures with them or they hack their computer and don't forward blocks and basically the cryptography version of simulation most of the proofs say okay let's pretend we have this Oracle the Oracle can call the adversary it can also call honest users and then it kind of interlaces actions between them and cryptographic proofs like the ones in Algar and prove that with a certain probability the adversary succeeds and that probabilities really low under certain choices of parameters like how big your block is your block production rate assumption of how delayed the network is and that was when I started seeing that this this kind of kind of gap between modern finance where people really assume a lot more about the user you assume that they're rational and they have very different ways measuring what rational means to them versus kind of the cryptographic proof version where it's everyone is trying to destroy everything or everyone is perfectly good all the time and in reality everything is somewhere in the middle and picking these kind of parameters in your protocol becomes increasingly important in proof of stake because now instead of collateralizing kind of these assets with proof that you spent energy or proof that you expended a certain resource like space you you you do it with this proof of I locked up this digital asset in this system and there are a lot more edge cases there and it feels a lot more like trading in a lot of ways and that was kind of how I how I got into this and I did some consulting for some layer one protocols and that was when I was like okay there's kind of a genetic genetic problem here where the tools of finance especially in quantitative trading are really useful for gaining intuition about the economics of these protocols and understanding kind of how different types of people would interact with them so you launched gauntlet last year yes so like last summer like so August late August basically and you have funding from so our lead investor is a traditional investor first round who basically is like ubers first investor and looker but then we have a few crypto funds poly chain dragonfly distributed global and then a bunch of angel investors who are really great like Arthur from tezo's and Louie from Oran and so you you talked I mean I've just about so many things that we're gonna unpack throughout this episode but let's just start with the most basic question how do you come up with the models for the different types of users like what if you miss a type or and it's not even actually just the types but like how do you figure out which parameters to input for their behaviors yeah definitely so you have the same type of issue with trading strategies where you know you might make a trading strategy and it's a it works really well in simulation and then you go to live trading and it doesn't work and it's because you missed some feature of live trading that you didn't replicate simulation correctly and then you add that feature to simulation and you kind of have this iterative process of you know you simulate something you go test it out in lies you simulate something you go test it out in life and you make this feedback loop that makes it very data-driven so what you try to do is you try to distill things to simple models that are relatively easy to interpret so the simplest models are like linear regressions like I am a miner I have three currencies I can mine on these are the current market prices this is how much hash power I have this is my switching cost this is my energy cost here is kind of a function that says this is how many dollars I can expect to make under this allocation and you basically have the miner try to optimize that that is kind of like the simplest simplest explanation of kind of trying to map these economic primitives to something that is something that is a simple model now with cryptocurrencies there's actually this kind of hidden beauty to having a lot of public data you know I think there you can train a lot of these models based on how well they reflect observed output data how well does your simulations total hash power reflect realistic hash power how well do you predict transaction fees and do these users these agents your modeling do they actually replicate the observed live data while it's not as fast of a feedback loop as trading there's still a lot of ways of basically taking simple model for how users behave so describing how they value things so describing a utility like an in classical of microeconomics and then describing how based on their utility they take an action of hash power goes here stake goes here I will go and take a derivative I will go trade derivatives on bit necks instead of trying to earn income in the chain and you know you won't get everything on the first try but that's true for a lot of statistical fields in both AI and Endon trading a lot of times you start with a simple model you see how how probably you do and you you iteratively try to add features to the system such that the features are interpretable so you you understand why the machine is doing a certain thing and also features such that you know they're just there's some risk assessment associated to them they're not features that are they tell you they they win 99% of the time but you win a dollar and 99% of the time but 1% of the time you lose a billion dollars so you try to bound how what the variation in these features is a lot of this is just basically trying to take techniques from from AI and trading and trying to make them map them to this space and and unless a I'm including you know deep minded fare but also you know self-driving car simulation interesting so how long does it take to do a full analysis then it sounds like it's since you talked about it being iterative is it like a process over a month or like several months or can you do it kind of in an hour or yeah so our goal is to make tools kind of just like you have in in artificial intelligence things like tensor flow or PI torch where you enable users so blockchain developers or people who are interested in understanding the assets they own to basically run different analyses themselves and then produce statistics so the runtime of our simulation right now is basically we can we can simulate hundreds of thousands of blocks in a couple minutes with thousands of agents obviously these agents are relatively simple we're you know we're not running alphago every time for every agent they're not doing some very complicated thing but but you you know you can run the simulation and get statistics within a few minutes you can run many different simulations with different parameters and kind of choose the best one you can run them in parallel another another way of thinking about how this is useful is you basically can pick the set of parameters you want run these simulations get some statistics and then kind of look at analyze the statistics things like how does the reward distribution change after a hundred thousand blocks given this initial token distribution and that's a problem that a lot of proof of stake protocols and new contracts face because they want to figure out how to initially distribute their assets but they don't know whether by distributing in a certain way they will concentrate all the assets and a small number of holders very quickly or very slowly and so right now our analysis is more custom to some extent although we do host different virtual machines such as aetherium so you you can give us a contract and you can basically input the contract into the code and we have a little kind of programming language that lets you define the different users and then you can run simulation then in a couple minutes you'll have some some results the analog I think that I like to use is game engines so game engines so a lot of video games basically the basic core architecture of these pieces of code is there's a core engine which is the event loop it manages the events that care jurors in the game produce and events mean I shot a gun or I jumped or I did something then there's kind of the map an ambient background which is the set of physics as common to all characters in the game and then lastly there's the characters and objects themselves which are described in kind of this domain-specific language so in unity C sharp and unreal you see those plus and indifferent in sort of mobile gaming languages you use swift or sometimes Python and there you define a user based on its action so like you know your character if it gets shot it will run away or your character pulls out its sword when it sees the sunlight those are the types of kind of little actions you in code and then when you play the game you basically are running this thing where the characters move and when they interact the physics is constrained by the map and the engine and our simulation is sort of the same thing except you replace physics with economics so the map of the game is the set of economic primitives in a cryptocurrency or some art contract that is common to all users and then the characters are kind of like the individual actors you describe how they behave under different circumstances and then just to also draw it in a different comparison when I first learned about what you do I kind of thought to myself oh mmm this is similar to formal verification in the sense that you're ensuring that the intentions in the design kind of play out in real life but the difference is that is formal verification simply focused on a kind of like how would I describe it's sort of like discrete actions with the smart contract whereas like what you're looking at is how this will play out economically yeah exactly basically there are really two types of security there's well I guess you could say three types of security there's cryptographic security like is your are your signatures correct is there zero knowledge proof correct or is your hash function behaving as expected like is the randomness as random as it should be then there's code correctness is your is your code allowing people to re-enter certain functions like in the dao hack or is your code allowing people to send all the value in the contract somewhere else and those are kind of like the very extreme edge cases and formal verification is really good for that and then the last thing is is economic security is there enough reward or are there enough reward is the reward distribution sufficient to ensure that all participants get sufficient return on investment or sufficient reward in however they measure it and that's that's really kind of where we we come in and trying to to say okay well your contract can be perfectly correct it can be running on any blockchain you want it can be running on polka dot B rally on telegram viewing on Facebook but you've chose parameters your interest rates or how you distribute rewards in such a way that users are not really incentivized to participate in your network they don't feel like they're getting getting what they want and that's kind of where we're running simulation can give you a lot of the economic understanding that you can't really see even just from looking at the source code and you kind of mentioned your business model a little bit it sounds like you've started doing kind of custom work and then maybe are transitioning to eventually having software that maybe teams could license or something is that did I understand that correctly yeah so so we we plan on selling a hosted hosted service where it's like a hosted developer environment and you can you can access the libraries there so you can input your contract or give a URL to your contract and potentially directly to your client for some for some protocols we were and basically right agent so some script the agents the way you would script a character in a game engine like this user behaves this way when the Bitcoin price is greater than X and/or use agents from a library that will have so you can say ok I want agents who are risk averse and kind of rational and we'll have some examples of different types of users and you can use them and then you can run these simulations so the business model is sort of a little more it's not very it's not a it's more of a traditional SAS type of business you know I think there are a lot of benefits to kind of doing it this way from from the perspective of having statistical transparency about what the models are but also handling the infrastructure and handling the background execution and making sure that it things work because they're there a lot of moving parts when you try to build these kind of big sis systems and simulations and there are companies that have been quite successful at doing this in gaming in particular others company called improbable which is where which basically sells a simulation service where game designers can run millions of simulations and stress test the AI and automated characters in the system you were involved in the launch of facebook's libre how so yeah so I am before I actually had started gauntlet I talked to the Libre team because it turns out and someone who's my intern a long time ago was working on the team when they were like less than ten people and he told me to talk to Evan who's their head of engineering and you know I was kind of curious to learn about what they're doing but then I stayed in touch with them and then as they sort of finalized their consensus algorithm and sort of some of the economics aspects they asked if I could review their paper and kind of give some feedback and comments as well as kind of helping them figure out like so of the economic decisions that they would probably have to make especially since this is sort of a Facebook's first foray into tradable products and did they end up like kind of using the gauntlet software like doing the simulations not yet they're not quite there yet in terms of at the point where they they're ready to do that they you know the launch date is still there's still quite a bit of lead time before they finalize the economics details I think they're really more even more focused on you know getting nodes to run and getting kind of the consensus mechanism working and I think that you know they've really really pushed pretty far in that and also the programming language and but what do you think about those aspects that you know that they have so far you know these different design choices such as the decision not to peg the value of the coins to any particular currency the new programming language move and there are consensus algorithm or or any other features you want to highlight yeah so I think the consensus algorithm is a you know it's it's a good choice and that they're not trying to reinvent the wheel so kind of something that maybe is not known to a lot of people that VMware research has had a really really solid infrastructure team working on distributed systems in particular and they were involved in libre they weren't but Facebook took an algorithm that came out of VMware research called hot stuff and then they modified it slightly but they didn't they didn't really didn't change it a crazy amount and I think hot stuff has been getting a lot of really good acclaim they just made a new version of it that got accepted to this really good conference and I think a lot of people including a lot of the tenorman folks have been looking at it with a lot of eager interest because it does promise some pretty improved software performance over kind of the wrought Endermen algorithm because you can do this pipelining thing where you basically can be a little more eager and how you accept transactions but get similar levels of security so it's kind of a battle-tested algorithm and it's the one that's has VMware has actually really done a lot of work on improving it's not so it's not introducing any new cryptography it's just focusing on the distributed systems Byzantine fault tolerant side of things but it's it's a really it I think it's even though it's a somewhat conservative choice it's not like something like Definity or you know where or coda where you're you're kind of there's a lot of new cryptography and a lot of new distributed systems engineering work that has to be done a lot of that stuff has never been implemented at scale a lot of this stuff within hot stuff is actually really well tested and and I think the Facebook team you know spent a lot of time with a variety of algorithms and kind of came to the conclusion that this one had kind of the most similar technical properties to what they want to support especially given the programming language and I think their programming language is really personally I think that's really the strongest thing in their offering I'm especially compared to the rest of the landscape and its really really developer friendly in a way that I think say solidity is not because of all kinds of security issues on the things you kind of force developers to think about but I think the move language has certain requirements for their virtual machine and they basically designed the consensus protocol around the language with the idea that the language is really the crown jewel in their in their eyes I guess it's to some extent which you you can come to your an opinion on that from reading their documents so that they're releasing but and what about that choice also not to peg the value to any particular currency such as the dollar yeah so you know we we've seen we've seen a bunch of attempts of doing similar thing the basis of course which is kind of just was a stable client project they were actually their long-term goal was to peg to a CPI not necessary to a dollar where it which is a Consumer Price Index so basically saying like one basis would always be equal to a certain quantity of a basket of goods but those Goods prices could fluctuate in dollars so it was not a dollar peg sello kind of has this hybrid model where they have a cryptocurrency reserve based model similar to maker Dow hybrid with assignor shares model like basis and then of course with multi collateral die while you do have a dollar peg it is kind of it is interesting because you may expect to see higher variation depending on like the choices of assets that get added to the system and I think in reality a lot of these pegs end up not being like pure dollar pegs they always end up having a little bit of correlation to other assets and it's really hard to not do that and there are some benefits to doing that especially if you want to be kind of this worldwide currency where stability in different regions in the world will have like actually slightly different local variations like the local Consumer Price Index might be heavily weighted toward a commodity that is very expensive in dollars and you may actually want that to be more stable because it's locally produced so so there have been a lot of examples of why one would want to do this and I think it is is there is some quite a bit of prudence to not going strictly to a dollar peg all right great so we're gonna discuss proof of work versus proof of stake and some of the other factors that gauntlet well look at after the break but first a quick word from first of all me but then also our fabulous sponsors hey everyone don't forget unchained is doing a survey and if you give us your feedback you can be entered to win some pretty awesome prizes we want to know how do you think we can make the show better how would you like to see unchained expand please take a moment and go to Survey Monkey calm slash are slash unchained survey 2019 that's surveymonkey.com slash are slash unchanged survey 2019 it won't take long I swear it and when we get all your feedback and chain will be even better than before what more could you want than that okay okay there is something more you could want you could maybe want to win some of the prizes we're giving out to survey respondents you could be one of the five lucky people to win a free Casa Bitcoin lightning node plus a free year of Casas gold membership including a multi six security app for iPhone and Android a treasure Hardware wallet a Casa Faraday bag and 24/7 support those of you interested in learning more about Casa or about protecting your Bitcoin investment generally should check out my interview with CEO Jeremy Welch thank you to Casa for donating again the URL is surveymonkey.com slash are slash unchained survey 2019 go there now to give us your thoughts on the future direction of Unchained and enter the giveaway today's episode is brought to you by Kraken Kraken is the best exchange in the world for buying and selling digital assets with all the recent exchange hacks and other troubles you want to trade on an exchange you can trust Krakens focus on security is utterly amazing their liquidity is deep and their fee structure is great with no minimum or hidden fees they even reward you for trading so you can make more trades for less if you're a beginner you will find an easy on-ramp from five fiat currencies and if you're an advanced trader you'll love their 5x margin and Futures Trading to learn more please go to crackin com that's KRA ke n comm did you know that if money laundering were an economy its gdp would be the size of canada's large volumes of tainted crypto assets move through financial networks often below the radar of banks cyber criminals use unregulated crypto exchanges to avoid detection no wonder governments around the world are rolling out tough new anti money laundering laws for crypto currencies with those laws isn't easy banks and exchanges need the best cryptocurrency intelligence available to avoid penalties now you can use the same powerful AML and compliance monitoring tools used by regulators cipher trace is securing the crypto economy to learn more visit cipher trace comm slash Unchained back to my conversation with Tarun Chitra of Gauntlet so one of the things just earlier when you were describing how these systems work or how you analyze them I just got curious is there any particular parameter that has the biggest effect in determining how the system functions like are you because you mentioned you know a bunch of different random things like block time and you know work in a second we're going to talk about proof over versus proof of stakes so like consensus algorithm but are you finding that that there's like a single decision that tends to have some huge effect I think the thing that protocol developers right now are a little bit maybe are starting to see is isn't a very important economic decision is how transaction fees are computed so in Bitcoin of course with the kind of the fully deflationary model transaction fees are getting are attending to have an increase in surge pricing so as the blocker road decreases you start to see huge increases in transaction fees when the mempool gets clawed so the mental is kind of the set of transactions that a miner sees that they can include into blocks and also you've seen this with aetherium where in December 2017 during kind of the Krays crypto Kitty's kind of spam the network and and no transactions were going through and in fact I mean you've seen a bunch of other times since then but I guess I was kind of the most famous one where transaction fees went really highs the gas cost which is a cost for running an operation spiked a lot and users kind of got very poor quality of service so designing really good transaction fee models and modeling for like how pricing should adjust what demand is is really is really gonna become way more important as these systems increase in use and I think that was a factor in the DDoS attacks in etherium in 2016 right yeah I mean it's the easiest way to kind of you know cause malfeasance with low capital cost it's much cheaper than a 51% attack and you can just ruin the quality of service for a large portion of the network first appears to be a lot more effective than a 51% attack but you know well at least you know with etherion classic last fall we saw that it didn't really have the same effects in real life that the game theory had posited and I was actually talking about this with Olaf I can't remember if this was in yeah I think this was in the recording that we released from our conversation at consensus so for those who be interested you can listen to that episode but I mentioned to him oh you know that's an example of how the game theory didn't play out and he mentioned that well you know that just so it shows the difference between game theory and behavioral economics so for you when you're making your models how much are you using game theory and how much are using behavioral economics to make the models and what do you think is more important yeah that's a really good question we basically tried to take an approach that's in the middle of the two and I think that's that's usually how algorithmic traders also deal with trading strategies basically you try to map to historical data as well as possible and historical data almost always in in trading scenarios doesn't reflect the optimal game theory choice people don't choose the best transaction fee or people don't choose the best execution see when they're when they're trading on an exchange oftentimes they choose what's easiest or what is kind of what everyone else is doing and you kind of have this pseudo you know short tragedy of the Commons type of behavior which is way more akin to you know the allegories and of behavioral economics like things and Thinking Fast and Slow that book by Daniel Kahneman the Nobel Prize winner so we try to make models that incorporate a bit you know certainly a lot of rationality where it's people who are measuring statistics and they're optimizing for those statistics they have a function that tells them what their value is and they optimize for that but then we also add in a lot of kind of these known mistakes that humans tend to have where they miss order or miss rank their relative rankings of goods that they want to purchase and we try to basically add in some noise that looks akin to how behavioral economist analyze real economic data for that do you also like throw in ideology because as we've seen that has led some people in the crypto space to do things that are probably against their financial interest self-interest yeah absolutely I think one of the most successful agent models from kind of the 80s and 90s is a model called Byzantine altruistic rationale and you know you could argue that everything kind of falls on this framework where Byzantine is just someone trying to destroy the system altruistic is you know the religious believer the true the true Hogue ler and then rationals a person who is looking at the derivatives market continuously and trying to like collateralize their perpetual swap on bit Mex and and you have to kind of model all three of those you have to have people who are willing to lose a lot of money especially in the bootstrapping phases of networks when it's it's it's just very unclear what how the demand distribution will tend to evolve over time so it's not perfect but it's not you're not true you're trying to kind of build this incremental set of updates where you know you first start with an okay model and then you see how it perform then you add some features that correct for the observed behavioral differences and then you kind of incrementally improve alright so we've talked about how gauntlet measures for security you kind of vaguely mentioned like inequality in a system so what are the main factors that these teams are usually attempting to optimize yes so in proof of six systems there are just way more knobs there there's a sense in which proof of sake systems really are kind of structured financial products they you know when you're getting a fixed income in theory or an expected fixed income but you can get slashed or you can lose your deposit or you can miss you can basically not participate in the system because you messed up some type of forwarding or signature or aggregation event and in these systems you kind of have something that looks like a Frankenstein structured product from you know in some ways ironically a 2008 you know a proof of sake system is a is a bond where but it's also a swap sometimes because you know you're you're swapping interest rates with people with other validators if they happen to like you know be a fisherman and they provide a fraud proof for you you've lost down some reward you were supposed to get and you basically swapped with them and I'm not trying to color how regulators will eventually think about these but they are very similar and those products one of the reasons you needed such AI fidelity to some extent financial engineering which went wrong of course was because there were so many knobs you had to turn so what is my emission schedule what should my interest rates be how should I discourage validators from going offline how should I encourage validators stay online these types of problems are a little easier to reason about and proof of work because the ROI is much more clear it's much more tied to how much how much hash power I think there is how much is my energy and how long can I go losing money versus improves take a lot of it is like do I even understand what the economics of this system are it is it possible that that I can get inflated away to zero even though I've contributed a lot in the beginning and I think that's really where that's really where people are are quite worried and do you really want to kind of tune these parameters to encourage healthy demand and also reward early participants for for joining early without overly incentivizing them in a way that basically means that no one will use their network well I mean that's kind of concerning given I I mean so I wouldn't necessarily say that there's already a shift towards proof of stick systems but there's at least a proliferation of new projects that are attempting proof of stake systems so do you kind of foresee that we'll see a lot of these projects losing money for people over the next few years until there's kind of like more learning around how best to design such a system or do you think that it's really just better for projects to stick with proof of work or like a high you know like decried has a hybrid system yeah so I I think it's these experiments are really invaluable because they're teaching us a lot about structured products and I want to make kind of a historical analogy to explain why it's really useful that we're trying them in the 1970s really late the late sixties options were invented for US equities so options are basically the right to exchange traded options options were kind of traded over-the-counter before and options were known as kind of the wild land kind of the way people treat cryptocurrencies and derivatives at that time but in the in the 80s basically these economists figured out a statistical model that explained how one can tie the value of the option to the value of the underlying equity so in an option right it says okay I want to buy Apple Jacque in 1 months and I want to pay this price will you sell me the right to do that so I pay a fee up front but I kind of lock in my price for that stock in a month and the market is kind of figuring out how to set the upfront fee so that's what the options sort of prices but because there was not a common ground for traders to compare options for say Apple versus Google versus HP yeah well none of the other than HP know those companies existed then but you know that I mean some companies that were on equities exchanges then it was very hard for traders to actually reason about the risk they they were holding and then once this formula which is called the black Scholes formula came up you started to see a huge increase in demand for options products because people could figure out how to quantitatively reason about the economics of them and I foresee kind of the same thing happening for proof of stake where over time the the models for understanding the reward distributions will just strictly get better and there will be something akin to the black Scholes formula that makes it easy to understand what the volatility the expected income is how these different products interact with each other how surge pricing works like does polka-dot provide a better return to fishermen under surge pricing than cosmos and but like do you get better average income on cosmos versus polkadot like those types of little nuances will be able to be compared and understood by participants as long as we keep moving kind of the economics modeling forward and that's that's really where I see I see that the proof of State you know experiments providing us kind of the black Scholes of the space like how much is civil resistance worse and how should we price it and what derivative products do you need to hedge risk okay so it sounds like you wouldn't necessarily say that the complexity of a proof of stake system means that proof of work is simply superior for a token is that right like it sounds like both sort of like have their place III don't think I don't think there is sort of a obvious way to compare whether one is superior to another I tend to think that the special-purpose botching model it does kind of make sense where you have a bunch of different chains that are specialized for certain applications and there's some way of them interacting makes the most sense but how to value all these different assets under one umbrella in the say like a polka dot manner where you're sharing security can be quite difficult and I think we just don't we're not at the point where there is a notion of volatility that is well understood for these assets I want to also just say so for peripheral work I've heard you talk about how difficulty adjustments can affect the simulation can you talk about that so selfish mining the kind of attack where you hold out a bunch of your hash power and you get to kind of make this separate chain that gives you all of the coin base transactions all of the main block rewards with higher probability than you should is actually very closely tied to how the difficulty adjustment works difficulty adjustment is basically kind of this way of the system trying to on average estimate what the correct total hash power is at the end of the day the difficulty is totally tied to to the total hash parent system and the system rebalances how it redistributes rewards more or less based on this adjustment now if you are a selfish miner you're holding out a significant portion of hash power you should like let selfish finding is say effective at 20 to 30 percent of hash power you're holding out 20 to 30 percent of hash power so the system is measuring difficulty incorrectly because because it it can't actually see how many bonk should have been produced this is okay I'll make the difficulty of lower because it looks like there's 24 let's hash power and so using that making sure that you get difficulty the difficulty has been correct in simulation and that the selfish mining behavior which you do know can occur is correctly represented is very important to getting an accurate simulation of proof of work especially given that you want to make sure you get the forking probabilities right you want to make sure you get kind of the the you want to allow user you know miners to withhold blocks because that is that is one of the best best known attacks that does affect all blockchain systems yeah and even though we were talking about how proof of what proof of stake has a lot more different factors that can affect security for proof of work you know difficulty adjustments are pretty regular like with Bitcoin it's every two weeks I don't know how often it is for other systems but you know this isn't like something that just happens like once a year or something like that so there's kind of a lot of opportunity for attack so something else that you mentioned earlier was about the initial token distribution and how that can affect inequality what are you finding in terms of like what are some of the good ways to distribute tokens so that way you don't have a lot of inequality in a system yeah so I think especially in in sort of the more financial product assets in the systems like maker you have a lot of different stakeholders who have tokens you know you have the CDP holders you have to die holders you have MKR holders and you sort of have people who are keepers and in all of these systems we have a bunch of different types of users and figuring out what ratio of the rewards those different types of users should get is really important I think token distribution for layer one block chains is is is kind of a little more straightforward but token distribution for say maker is actually kind of interesting because the question is will will one set of users be able to hold the other set of users hostage if they don't get enough rewards and where is kind of that transition point where say the keepers or the system who are checking for defaulted CDP's if they if they don't get enough ROI is there some point at which they'll just stop doing that and then there'll be a ton of defaults so that's that's kind of the stuff you measure you can you can use simulation test to me to see if if you're assuming that say keepers are rational where they will kind of only stay in the system if they get enough rewards measured in dollars then you know maybe they need X percent of the total token district initial token distribution those are the types of those are types of things I think are really important for these systems because at the end of the day people are participating in this for some type of ROI whether the ROI is in the chain asset or whether it's in dollars or whether it's external that's you know that does can vary but people are doing this because they are trying to work and participate in these systems to gain some rewards and making sure that those reward distributions are equitable enough that the system functions gets increasingly difficult as these systems get more complicated and what about projects that have on chain governance is that something that I kind of is the situation where using something like gauntlet what would be maybe not exactly necessary but you know where it would be pretty imperative yeah I think you know everyone desires having educated voters in political systems and in proof of stake and governance systems you have a new type of voter where a voter is this kind of financial voter but they they don't really have a great way of being educated about the decisions of they're voting on right now if you think about it most governance though it's a few open-source developers at the end of the day still are the only ones who understand the true changes to the code and most of the rest of the governance process is filtering through Twitter and filtering through Reddit and all of these different forums where people can read commentary on on what these changes mean we would like to be a neutral third party an independent source who owns no tokens who you can use to basically put in different parameters that represent yourself like this is how I believe I would participate in the system and how does that change under all these different governance options so there's tezo's at X percent interest rate versus 2x percent interest rate affect my personal utility in a negative way and if so then I will vote that I can use that to be an informed voter so we envision a world where where we can help provide users kind of this neutral independent way of measuring the economics of these systems and a feeling in which they can really be confident in the decisions of the things that voting for which will be especially important over time in the US equities market you've actually it actually has taken a very long time for voting participation to to break 50% it's it's something around 72% of equities are voted for right now but most of that is because there are proxy voting services so there are services that your broker may use and you may not even know that basically vote based on some independent research I suspect there's going to be some hybrid system for governance and in the crypto space where there there's kind of this proxy voting aspect but there's also a lot of independent voting and we just kind of want to be a place where you can you can you can get a lot more information be an informed voter and earlier you talked about kind of there's the factors that you have to consider at the protocol level but then also you have to factor in how the exchange is how they're affecting behavior so when you model that are you literally kind of doing things like okay here's a trader on Kraken which allows you know this type of leverage or here's a trader on bit Mex which allows this type of lot like are you doing stuff that's that kind of detailed or is it how do you model that part yeah absolutely we don't necessarily do like full order books just for speed reasons but we will model kind of the inside levels of of exchanges so take historical data for say bit Mex or coin base and our simulation will basically provide that almost like an Oracle to all the different agents all the different users in the system and they can use that they can decide whether they want that as an input into their value function so their value functions say for a Bitcoin miner might be if bitcoins price is greater than 10,000 sell all my Bitcoin but if Nick coins price is lower than 3,000 divert all my resources into mining which mate which kind of represents their risk profile they don't want to really be they want to be in dollars when Bitcoin is really expensive like they're they get out but when Bitcoin is cheap they want to be accumulating in some some fashion and so in order to correctly do that you need to model you need to take historical data like market prices and then you need to also model how these agents will respond to those market prices so we take historical data and this is the part where I think my co-founder and I we both were in high-frequency trading for a long time and then he also worked in self-driving cars and we basically took a lot of the tools that you use for back testing your strategies and mix them in with kind of how you would stress test a protocol and as this piece gets developed more and there's more derivatives that are built on crypto assets how will that affect your analyses yeah I think derivatives are actually in a lot of ways the thing I'm most excited for to some extent in the space I think there are a lot of really novel products that are coming out right now like hash power derivatives where miners can basically sell a future for future hash power and then as they turn the hash power on then they basically give in a continuous fashion the at all the Bitcoin they earn over that time period back to the person they sold the future to and people are doing the same thing for staking right now those assets are really hard to price and they're really hard to especially with with staking and so we kind of view simulation is the only way you can really figure out how you should price those things how much risk you want to hold and whether you know you you think there's actual long-term value in being a participant who hedges your risk I think derivatives are gonna be really important for validators who basically are exposing themselves to risk in multiple chains and they want to just kind of make their income look constant or look roughly constant and you can you can back test against derivatives and I think one of the most innovative things that's happened in this space has actually been things like perpetual swaps which you don't have in the normal futures market where where you kind of have these like consistently rolling futures contracts so you can kind of get in and out of these derivatives at all times a day and without any kind of huge adverse selection and we kind of talked a little bit about defy and the ways in which some of the things you can do and defy remind people of the different behaviors that led to the financial crisis so when you look at that are there any particular design choices that some of the teams are making that you think they could make in a certain way to prevent that from happening again it's it's hard to say you know in every crisis historically you always find some very complex loophole that people take advantage of and I think the nice part about crypto right now is that we're able to you're in this exciting time where people are really doing these experiments and they're not really that big people talk about like X million dollars locked up into a contract relative to the size of the experiments that are happening in conventional finance these are these are kind of very small but yet we're already getting quite rich data about their failure modes I don't think there's any particular individual thing that I would say is easy to fix because the defy products that I've kind of seen they all are really focused on trying to help long holders of aetherium get exposure to other things without losing without being able to lose their etherium exposure and at the end of the day is that's that's not going to ever really be that different than a lot of stuff from 2008 and I think the best you the best thing you can say as well it's a more transparent version and I guess it's way more over collateralized so but III guess it's like I said I think these are small size experiments where we're getting a lot of really good data on how to improve the next generation and that's that's kind of stuff I'm really excited about is that people in finance don't don't are too conservative to do these types of things and I was wondering do you think that the Dow would have occurred if sorry the Dow hack would have occurred if that project had been able to use gauntlet first or is that more of like a formal verification issue I wasn't quite sure yeah yeah that's definitely more of a formal verification issue so so the Dow hack was with kind of beautiful but it also had to do with the sort of reentrant see which means that you could kind of get back into a certain function call repeatedly but I I think formal verification has a lot of like performance issues when we were building Asics even even a hardware formal verification is definitely different than software formal verification the graph algorithms that are at the core are the same and those are where the real you know exponential slowdowns come up and I a lot of things in practice end up doing for whatever a combination of formal verification for like very core parts and then statistical verification for everything else and that's kind of where I've you how how gauntlets complimentary to the formal verification we really kind of tell you hey if you're in the Dow this management fee that you're paying to the contract is too high because no one else you know it almost of its accruing to the first five users and then the rest get none of it alright are there any particular projects out there right now that you think of particularly well designed to capture economics I think maker with the dye savings rate is a really really great project I think that you know it's gonna be much more complicated with multi collateral die especially because each each asset is gonna have its own set of parameters Asians and the users are kind of gonna have to be involved in picking those parameterizations and it will be messy but I think the maker team is really quite thoughtful about these design decisions I I think some of the live networks who have had spam problems so like stellar and aetherium they've they've really learned a lot of lessons from these attacks and these attack like the collective learnings from all of these attacks is going into the next generation systems but I on the layer one side I wouldn't say that I'm I have any particular and any any particular protocol where I think the economics were really well designed it's really hard to know given that the demand distributions are really hard to predict it would be like going to Eber in 2010 like when they first started and saying hey I think you guys are gonna need a really good surge pricing algorithm just just a tip and here it is and they would probably look at you and Vic we just need to figure out how to get drivers onto our platform you know do you know what I mean so it's it's a little I think it's a little early for for us to say because it everything will boil down at the end of the day to the demand the true demand distributions we just you know gauntlets mission is just to be you know a little early but to like really start the modeling aspects of that so that when there is kind of this demand and you know I think we're all hopeful about Facebook bringing some of that demand to ecosystem in general there is a way for people to understand what numbers they're choosing and how they're voting and how they're what what they're buying all right so last question what do you think are the biggest questions or design issues that crypto teams are not thinking about that they should yeah the number one thing I think that people kind of ignore is is the existence of derivatives and I think the CFTC had this request for information about aetherium and that closed in February I believe where they gave 25 questions about different aspects of the theorem so they wanted to understand what was the theory and what smart contract platform why would users use it and I think the crypto Twitter world kind of derided the CFTC they're kind of like oh they're dumb they couldn't read anything they didn't know anything but I think they were they're just very complete because the last set of questions they asked in particular questions 17 through 25 really focused on the effects of external derivatives markets on the security of proof of stake systems and I think proof of stake systems are just very easily liable to attacks from well-functioning derivatives markets right now the proof of stake derivative market is much smaller than the underlying market so you can do a synthetic 51% attack because there's just not enough liquidity but I think in a world where you have something like the S&P 500 where there's a lot more liquidity in the futures market on es which is that the e-mini S&P 500 future then there is on the underlying you can actually have people selling the rights to more than 50% of the staking asset chain and then someone could could be aggregating that indirectly and I think thinking through these types of attacks has been kind of less really non-existent I think in the cryptic community possibly because they just you know it involves thinking about the financial aspects and there's definitely a little bit of ickiness I think for crypto protocol developers and cypherpunks to kind of think about these things for some reason today to them philosophically they have like they feel like it's a key yeah I agree with you on that it's kind of interesting to watch all right well where can people learn more about you and gauntlet yeah so we have website gauntlet Network we also have this series of blog posts where we kind of go through the different aspects of what make blockchain secure and how we think about security and modeling users and a little bit about how algorithmic game theory and trading kind of influence how you should model users and you know we published an academic paper with one of our customers and we're gonna have a couple more coming out soon so we're trying to really put out a lot of content of to make it to make it kind of salient so over the next few months I think you'll be seeing a lot of lot of stuff have from us great well thanks so much for coming on Unchained yeah thank you thanks so much for joining us today to learn more about Tarun and Gauntlet check out the show notes inside your podcast player if you have not yet taken the Unchained podcast survey please now go to surveymonkey.com slash are slash unchained survey 2019 your answers will be a huge help to me and my team here at Unchained Unchained is produced by me Laura Shan with help from fractured recording Anthony you and Daniel Nessa and rich truffle Eno thanks for listening [Music] 