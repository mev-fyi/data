[Music] foreign resource for all things crypto I'm your host Laura Shin author of The cryptopians I started covering crypto seven years ago and as a senior editor at Forbes was the first mainstream mood reporter to cover cryptocurrency full-time this is the April 18th 2023 episode of Unchained Unchained comes out twice a week but crypto news breaks constantly for up to the minute news stories please check out our new website unchainedcrypto.com or subscribe to our mailing list buy earn and spend crypto on the crypto.com app new users can enjoy zero credit card fees on crypto purchases in the first seven days download the crypto.com app and get 25 with the code Laura Link in the description web 3 projects lost nearly 4 billion dollars of crypto Assets in 2022 but nothing is more expensive than losing trust secure your company with hallborn's best-in-class security advisory Solutions visit hallborn.com for more today's topic is Mev or maximal extractionable value and the distribution of it here to discuss our URI clarman CEO of blocks route and Justin Drake researcher at the ethereum foundation welcome Urie and Justin hey good to be here thanks for having us so before we dive into all the details on MEP distribution let's first get some background out of the yhs so all the listeners understand the full context of this situation so Ori we'll start with you can you just explain what Mev is sure me the maximal extractable value is basically all the value of validators can extract by ordering transactions seeing trades trading ahead of them Etc in reality what it really really means is if somebody is trying is buying on uni swap a large amount of if let's say that is going to change the price so there is value in trading just ahead of it right if you see a giant trade about to happen you're better off buying Eve just before it happens and then maybe selling that immediately after it happens and you capture value so this is sandwiching It's front running and back running that's part of it also if that's trades happens on uni Swap and now the price of is increased on uni swap but it's different let's say on balancer or a different decentralized exchange then there is arbitrage to be made right buy cheap sell High until prices kind of like balance back as you let's say two years ago or something this was something done mostly by the Traders themselves so people participating in defy starting with the D5 summer kind of starting these games started to run try to execute their trades before other trades pay higher fees and Etc and identify where where value could be captured then with the evolution of the Mev ecosystem validators you could imagine that people could go and strike a deal with a single validator back then mining pools you know I will pay you money you put my transaction the way I want them Etc so it is really whoever produced The Block whether that's mining pools whether that's validators who has the power and therefore they extract the value um with evolution of the MAV ecosystem the current setup is that validators kind of like allow everybody to bid because if you produce this block you will get one each if you'll produce that block which has other transaction or engagement order you'll get 1.1 or two or three and whoever pays them the most the validator would produce that block so it maximizes with the value they extract that mostly go to their stakers the e-folders and that I think the tldr on Med Justin you want to add to that well Justin yeah so you can go ahead and add but also I'd ask like so Ori started to go into you know the different entities like the Searchers Builders relays validators but if you could just like walk us a little bit through that process just so people know those terms right sure so I have a slightly more uh you know abstract um definition of Mev and I kind of think of it as the value that is generated by the economic activity on top of some economic system that can be extracted by some set of participants and you know often in the context of blockchains it could be the validators but really we want to look beyond the validators you know we want to look for example at the protocol itself and the one very good example here is eip1559 eip1559 is a way for this extractable value that derives from the clinical activity to actually go to some place other than the validators to the protocol and then I think for the purpose of this discussion we also want to be looking at the users the users themselves create you know extractable value from the activity and this Mev can go to the user as well um and actually you know I kind of have this um this notion of a Mev precedence list from from a design perspective what is the ideal outcome in terms of where the Mev goes and my opinion any Mev that's kind of generated by the user should go back to the user and then all the rest should go to the protocol and basically nothing or almost nothing should go to the validators because that's kind of this toxic waste almost that distorts the incentives that we have on on the chain now in terms of you know recapping the Mev pipeline what we have basically is users who have some sort of intent in terms of generating economic activity and then they will interface with some sort of wallet that will generate a transaction this transaction usually is broadcast to a mempool it could be the public mempool but we're seeing the emergence of all sorts of other mempools you know private mempools or encrypted mempools and these transactions are observed in the mempools by searchers such as take these transactions and they package them with other transactions it could be their own transactions into bundles bundles are basically like mini blocks and then these mini blocks get given to builders who make normal kind of ethereum blocks these efferent blocks then get passed to relays relays out kind of these temporary intermediaries for technical reasons but you know eventually they will go away and then the relays kind of relay the block ultimately to the proposer who signs it off includes it on chain and then there's a Next Level to the Mev pipeline which is the attesters so the attest is kind of really finalize the inclusion of the block uh in in in the in the chain I love how succinctly you describe that because it is otherwise like sometimes seemingly a complicated process and yes this is uh definitely kind of a longer Pro or not longer but um there's more entities involved than there used to be I'm sure listeners are aware the mvv has been controversial um hasib has talked about it frequently in The Chopping blog how there was a time when it was sort of really taboo for minors to extract this value and then now it's become just part of how things are done uh mainly because the way that what was happening was that people were doing it secretly and it was causing all kinds of Havoc for uh processing transactions so still people I think don't like the idea that oftentimes their transactions get front run and so they get worse execution and recently we saw that there was a group of various mov entities that formed a group called Mev blocker and uh it's exactly what it sounds like they're trying to block Mev from being exploited um they are saying that Mev exploiters have profited by 1.38 billion dollars from everyday users so far and I was wondering what your opinion was of Mev blocker whether you thought this effort would succeed or um you know if you thought it was the wave of the future first of all the Mev is still there right because there is value to be extracted the question is does it go back to whoever generated the user or is it being extracted to the validator and from that to the state so it's kind of like where does the value go it doesn't disappear it just might stay with the original holder of it you know maybe the user who generated the transaction and so from the way I'm saying it's not well you know sometimes people are upset with their transaction they're being contacted yes if I send a transaction somebody sees that and does something so I get a worse price and he extracts value that's a bad unfair thing if you don't see that like people people aren't there's a great discussion called like well what's fair ordering and what's fair and what's not there and for me it's very simple if somebody else made another transaction was faster than me and he got there and knocked me sure like he was faster that's totally fine if somebody else saw me what I'm doing my transaction my trade and then did something in order to take advantage of what I'm about to do that's unfair it's very simple to me there isn't like some great question there and so what met blocker does you actually I we might have been the first one to come up with this like back then with like um background me basically the idea is that there are two forces here users trying to keep the value that they generate right and validators trying to extract it I think shout outs to thog Art From Fastlane I think six months ago he wrote like a good thread like these are the two forces these are the two models both users and validator have power it's not like neither of them is powerless validators cannot extract the value if the user won't give him the transaction a user can't get their transaction confirmed if they value they don't get it so there is a struggle of forces between the two and the outcome isn't necessarily clear I'm not sure where the value is going and maybe maybe we'll have to live through it and to see where it goes I would add like I think that's a great step forward so like I think we definitely should be Building Systems where less value is extracted um I'm from users and go whether that's for the protocol and whether that's to validators no matter what the end result is from my perspective I always think of like well it's getting clubbed in the head you're centering it front right maybe oh you know what Mev blocker actually doesn't do Frontline it only captures value behind um so I'm going to chain like I'm going to ignore that piece um so that's my general take like it's a good thing it's a step forward but it isn't clear what's going to happen between these two forces so I have a very strong opinion uh which is that users have sovereignty over their data and I don't just say this from an idealistic standpoint in terms of what I want to see the world I actually believe that from a fundamental standpoint they have the power if they are sophisticated enough to get as a rebate the Mev that they create the problem right now is that we just don't have the the tools and you know Mev blocker is one of these tools that makes it you know extremely easy for a user to be able to enjoy the sovereignty that they natively have over the Meg and so going back to this idea of Mev precedence the way that I see the space evolving is that any Mev which is generated by a very well-defined user so for example user making a transaction on uniswap almost all the Mev let's say 99 will go back to the user and the the second tier player which could be the validator oil in the case of Mev burning could be the protocol itself they collect the so-called access Mev or the so-called latent Mev which is just there you know from markets inefficiencies like Arbitrage and it's not clearly assignable to a very specific user that from which the Mev originates now in terms of Mev blocker I'm I'm still warming up to the name but for me blocker you know is about blocking something and I think the big thing that is blocking is is front running and and and you know a year ago if you had asked me what is you know one of the big problems to solve for Mev is you know preventing the the front running but actually I realized maybe six months ago but that there's a an equally important problem which is to actually enable back running um which is basically to facilitate the extraction I'm having of Mev from that transaction so that it can be specifically rebated uh back to the user and so really there's this two sides to the coin you want to prevent the front running but enable the backgrounding and the reason why I say backgrounding and you know is the reason also why uh background made by Blocksworld was called that way is because if you are a naive user and you make for example you make a transaction of new Swap and you only hit uni swap then now what's going to happen is that the price on unit swap is going to be slightly different than the price on all the other dexes and so really if you were fully sophisticated user you would use you know some sort of aggregator maybe like like like matcha or one niche and the backgrounding it basically fills the gap between the unsophistication of the user and like the optimal execution that you could have had if you were fully sophisticated and it does that in a fully automated way uh which which abstracts away all the details and just to as a fourth experiment just to give you some intuition as to how this works imagine that you had a mempool for transactions where the transactions didn't have signatures you could only see the the content of the transaction but not the signature itself and so what that that mempool would allow it is would allow the Searchers to create these kind of bundle templates that could potentially be included on chain if they had access to the signature but they don't have access to your signature and so they can't actually go ahead and extract the the Mev and now the user who does know the signature they can kind of selectively opt in to being part of this one bundle which is favorable to them and disclose the signature for their transaction Deb I'm making it you know executable on chain and I see this this whole idea of rebating muv as one of the big kind of quote Mega Trends in Meg and we've seen uh you know Mev shared by flashbots we've seen you know ideas like wallet boosts by block native open Mev by manifold and all of this is part of the same Mev rebating theme can I push back against like at least three different things you said Justin sure for sure so first of all so I feel strongly regarding anything I'm actually like oh I don't think we should have an MVD auction like rebate is not enough and like but for a second I'll take the hand of the other side and want to counter argue yes users have all the power they want something to happen and Captain or not validators also have power that you cannot ignore there is at least under the current consensus mechanism there is one proposer he is the one to include the transaction and or not included in the next block a proposal could say any transaction that doesn't pay me at least one dollar I'm not including in the next block it isn't worth it for me and so validators do have the power to delay transactions and if you're if we are building you know the open Global Financial system of the world then delaying transaction actually matters a lot if you trade now at the current price or trade later at a different price it changes a lot so I'm not sure I completely agree with you well you know users can extract 99 or keep to themselves 99 of the value and validate will only get one percent validators might have a problem coordinate a lot of it is about coordination but you could imagine especially and I don't think this would happen but in theory a large validator pool or staking pool who controls 10 of the stage so you know like okay in these Lots your trade won't go through unless you pay x amount and it is completely you're the user might be better off paying a dollar per transaction because you're paying let's say 50 but it's a big trade you're paying 50 to unisoft LPS one more dollar is very much worth it for you so I'm not sure I agree with that piece about 99 one percent a different thing I disagree with you about and I'm not sure I'll remember all three things I thought while you were talking the other thing is that I'm not sure I agree regarding the rebate being a big thing okay rebates are nice it's kind of like you made the transaction there is some inefficiencies like you know you may you traded on uni swap so there's somewhere else to be traded but the actual price of every asset actually changes in real time outside of uni swap outside of the blockchain the price of each quantity fluctuates in real time a transaction in second one is different from that same transaction in what 10 seconds later we just had like a major bull run right we were 10 over like like 12 hours or 24 hours I'm not even keeping track of what's what what prices look like it very much matters for the user a user making a trade should again if we're building a good world global or a useful Global Financial system it should get the correct price okay I'm sending a trade now maybe that trade is trading again the correct price right now but that price on Ubisoft is no longer true five seconds later Etc so getting a rebate is you know it's a step forward instead of user getting completely right they're taking some of the money back it's by definition inefficient but you're making another action on chain to pay it back ideally we want to build a system that the user send a transaction trade at the current correct price and that's it so by definition rebating is inefficient right like maybe it's better than again just directed users but I it's not the future of friends from where I'm selling this is not okay we'll get that maybe the third thing because I really don't remember what was the third thing that I wanted to object to is yes front running is the bad thing that affect the users and actually again get them worse execution price Etc back running happens later and you said like listen Maybe back running is as important again going back to this idea of real price actually fluctuate and changes in real time it should be the validator from my perspective if somebody made a trade they said like okay here's the price I should get you should get the correct price but any price changes that happen afterwards it's okay for that's to go to the validator It's that or wherever not to go to the user the user didn't get the worst execution you saw the correct price the current price he got it and if afterwards price actually changed or increased or decreased it's okay for the validator or a different entity to capture any value left behind it it didn't hurt the user it does hurt the user if you front run the transaction it gets a worse price and so I don't necessarily agree that well we have these two equal problems one of them heard the user the other don't hurt the user no I think I agree with this I mean this is like second order kind of details and I I agree with With Yuri on on pretty much all of it um yes so there is some potential like delaying or price gouging but that is possible by the validators and maybe that is a an optimal strategy um but you basically what we have today is like these minimal tips right so if you have a one-way tip then you know most of the time you'll go in but maybe as some validators will enforce you know a 100 gray tip and you know an expectation this will might be a profitable move uh because you know you you even if you have you know 10 times less people willing to pay that tip you're still 10 times better uh on on an expectation I mean there are you know possible solutions here you know including uh inclusion list and maybe brand but that becomes quite quite technical I guess on on the rebate you know I think one of the points you're making is that you know it's it's not about the rebate per se it's about you know optimal execution at the time of execution and I totally agree with you and then do you have a kind of point that you made is that the technical mechanics of rebating with another transaction is sub-optimal and the reason is that you have these gas inefficiencies when you're dealing at the transaction level and trying to to fix the transaction that was sub-optimal really what we need to do as you said is we need to go back to the intent layer because ultimately users generate intent they don't generate transactions and then from that intent you submit one single transaction which is optimal and actually I'd go even further than that what you want to do is you want to take the intent of all the users that are willing to transact and then create one you know Master transaction that kind of optimally executes the intent of all the users simultaneously and this is a little bit what Cal swap is doing for a very specific application where do they basically aggregating the intent of change so that you have better execution on chain all right so um one question you guys when I asked you about Mev blocker first I initially thought it only you know blocked the front running but it does does it do rebates I didn't read anything that talked about the rebates or so so basically what it does is it takes transaction or any intent and prevent front running it but also goes who's willing to pay how much to be just behind this transaction and so if there is money to be made there there's a hundred dollar to be made there then somebody would offer I'll pay 90 I'll pay 91 I'll pay 92. most of that value would go in rebate to the validator they're taking there's a bid to pay and that amount goes 90 to the user 10 to the validator and that is where going slightly to the previous point I don't think validators will come and say oh I'm starting to extract value from where I'm standing and require 100 g-wave transactions but if all the value is extracted back to the user if it's fully protected they're not extracting any of the MEP then they might if that would say why should I include all these transactions which are fully protected and Etc if I could potentially make more money somebody price of uni swap if ethi is a thousand dollars price of is on binance just increased by three percent whoever gets to fix this and capture this Arbitrage will make a lot of money instead of serving everybody who are keeping all their money to themselves I want I would require high so it's kind of like it's it's the Collision of of these two forces at that point something like this may happen if they get no value but they have some power then they would use that power from my perspective like there should be some display there's some splits or or or or will have a conflict okay desires I guess okay all right so I like I asked you a question specifically about that and I had a separate question about all the other distribution things because I thought that they were different in nature so we I mean we've mentioned some of these during the show but um you know back in February flashbots which does MEP boost they propose something called Mev share blocks route as you guys mentioned has background me block native has wallet boosts manifold has open Mev so literally all of those including Mev blocker they're all doing the same thing but in different ways is that there are currently I think 12 teams building these kind of projects okay so what are kind of like the main differences between them and like I mean maybe you guys previewed some of that with you know your little debate there but um what would you say are kind of the main things that they're all trying to hash out like in terms of Standards or like what's you know the most common way to do things I mean I can answer the question about similarities so they're all basically order flow auctions so basically the user is auctioning it's all the flow to the Searchers and all the Searchers are competing against each other to rebate the most to the user and the user will ultimately sign off on the Searcher that rebates the most uh to them and from a user experience perspective you know you could imagine on metamask two separate buttons there's like the traditional sign and there's like as option one and then option two is sign and get a hundred dollars extra and I think what will happen is that most people will click on the second button um and so I think um people don't necessarily realize that they're getting front run all the time and so it's kind of this pernicious problem because it's happening behind the scenes but people will notice the plus 100 button and I think that is what will cause a sea change from a user experience perspective because it's very very obvious to the user that there is a benefit for them adopting wallets that give them rebates maybe covering a bit of the differences I think the main differences are whether these transactions when they're auctioned do they get sandwich front run and background or just being back run um I would argue and I'm not sure Justin would agreement we're here I think the flashbots teams the Mev as okay and fair and therefore take a transaction sandwich extract is much value of it but try to distribute it Med blocker takes a slightly different approach to prevent front running and just do the back running these are the two main I think approaches done there I do Wonder so for the I don't like the flashbot because I started saying it earlier I don't like the flashbots from sandwiching idea because it's okay let's Club the user in the head but okay I will Club you and give you fifty dollars he would Club you and give you like 60 like by definition like doing that isn't a good execution but it's it's better than just clubbing in the head but clubbing in the head and payment might not be really the outcome we should be aiming for for the front running just do back running I actually don't know how anything blocker when he takes let's say they offer it and they include some transactions just back running transaction I assume they take it create a bundle from it which is what the Mev ecosystem used together and give it to a block Builder to try to produce a block front running that bundle sounds reasonable so I'm not sure how they actually take it from there they probably have I'm not sure about the details or maybe just you know what how do they prevent taking that bundle and making a transaction happen before that so a slash somebody who do agree with a flat but idea would say it would still happen it just that Searcher won't run from the transaction somebody else would front run the transaction not sure how that's being technically handled one very important design you know flavor of these uh mempools that give you rebates is whether or not it's a public mempool and one which is permissionless anyone can join in or if it's a centralized uh you know gated a mempool now um the easy way to build it is the centralized way um and I think long term we really want to have these open permissionless mempools just like the current mempool is open and permissionless and transparent but unfortunately you know we need to do a bit more Engineering in order to get simultaneously the the private aspect and the rebating combined with the the open permissionless and there's there's kind of these two flavors these two routes that you can take you can either take the sgx route basically where you're trusting secure enclaves for example sgx from from Intel or you can go the the fancy cryptography route and you can use what's called homomorphic encryption and and and you can use delay encryption and threshold encryption um and the way that I see the progression basically is that we're going to start with these uh centralized proof of Concepts that get us out of the door in terms of changing the user experience and then hopefully we will upgrade to something which is sgx based which is more permissionless open and then eventually we'll Reach the the end game of having a fully trustless system um using cryptography all right so in a moment we're going to talk about um how all of this is going to affect the general ecosystem around staking or I guess validation but first a quick word for the sponsors who make that show possible 3.8 billion dollars of value was stolen from crypto projects last year due to compromised private Keys exit scams flash loan exploits and other preventable causes halborn offers preventative Security Solutions for every stage of your software development life cycle from Smart contracts layer 1 and devops audits to Advanced penetration tests risk assessments and incident response with over 150 industry Partners including Anna mocha Brands Solana foundation and Ava Labs Auburn's best-in-class security advisory Solutions ensure the safety of company assets and user trust visit hallborn.com for more join over 50 million people using crypto.com one of the easiest places to buy earn and spend over 250 cryptocurrencies new users enjoy zero credit card fees on crypto purchases in their first seven days with crypto.com earn get industry-leading interest rates of up to 14.5 percent on over 30 coins including Bitcoin earn up to 8.5 on stable coins with the crypto.com Visa card you can spend your crypto anywhere enjoy up to five percent cash back instantly plus 100 rebates for your Netflix and Spotify subscriptions and zero Annual fees download the crypto.com app and get 25 with the code Laura Link in the description back to my conversation with URI and Justin so from what I'm hearing you guys describing it kind of feels like the end game of this will just be that a bunch of services will compete on how much they can return back to the user um well that plus I guess better execution so in the end like right now you know most of the um Mev is going to the validators but do you think that the end game is that most of it will end up going back to the users or where do you see this going so the way that I see it is roughly speaking and this is just Rough Waters of magnitude half of the Mev is generated by the user and I think half of it will basically go back to the user instead of going to the validator and then the other half which is kind of this excess latent Mev I think we'll actually go to the protocol and this brings us to a whole new topic which is Mev burn which is the exact same thing that eip1559 did to congestion fees but this time for what I call contention contention is this externality that comes from the fact that blockchains fundamentally have to order transactions and when there is competition for this ordering you have contention because various transactions are contending to become to be for example the first one that executes and collects the Arbitrage and congestion is the fundamental externality that comes from inclusion as a service so block space can be used in two different ways you can either use it to include and confirm transactions or you can use them to specifically order the transactions and 99 of users only care about the inclusion but that there's this very like sophisticated class of players like arbitragers that you know don't care about inclusion the only thing that they care about is is ordering and just like eip1559 kind of was this you know really beautiful design which allowed for congestion fees to go to the protocol as opposed to going to the validators Mev burn does it for contention fees and the reason why this is important is because it provides us various security upgrades and we could spend a whole podcast talking about those but you know one of the things for example it improves chain stability if you have a very big spike of muv right now the validator is actually incentivized to compete with each other and re-org the chain and double spend and like double sign and do all sorts of nasty stuff like doing all of service attacks at the networking level in order to grab this this this this this bounty but if you were to burn it you remove this incentive there's also this very interesting Edge case with decentralized pools whereby you have operators in a decentralized staking pool that are actually incentivized to rug the pool so I call it rug pooling so just to give you a concrete example um uh rocket pool will soon have four mini pools meaning that as an operator of this mini pool you have this four if as collateral plus a little bit of RPL uh collateral now if you have a spike of Mev which is greater than the collateral for example if you have a tennis Spike or 100 Eve Spike now the operator is actually incentivized to forward the Mev to themselves instead of going it giving it to the smoothing pool and forego the collateral uh to to to the staking pool and so Mev burn for example fixes this this Edge case and it does like a whole slew of other edge cases that it fixes and the other really exciting thing about Mev burn is that in addition to these you know micro microeconomic Game Theory security improvements it also has huge macro implications just like eip1559 did with the burn it you know improves scarcity for example but it has a all the all the other advantages that erp1559 provides from a macro standpoint for example not overpaying for security it's also a tax optimization because when the rewards are paid you know almost like like a dividend you need to pay income tax but when you burn the rewards um you actually effectively have to pay capital gains tax and so you kind of have this this roughly 2.5 x um tax optimization but this yeah I'm I'm going to be spending more time on podcasts specifically trying to educate about the benefits of Mev brand one other thing that I wanted to ask you because you're also supportive of Mev smoothing so are they essentially is that just part of Mev burn or is that like a totally separate thing or can you explain that yeah that is that is exactly it so that the smoothing is one aspect of Mev burn there's two aspects of amiibo number one is the smoothing and this is where all the security benefits come from because you're smoothing out the spikes the second big benefit of me burn is the redistribution instead of giving dmev to the validators you're giving it to the if holders and that changes the macroeconomics of ethereum as an economic system I like some parts of adjusting Vision but I disagree with them on on your first question so where are things going from where we're standing right now yes currently validators or this is we're starting to see that end like the Bonanza of the validators is about to end so Mev used to be captured by the Traders competing on that and then they got a lot of competition started to pay higher and higher gas so it was mining pools back then who used to who started to capture that value now it is strongly The validators Who capture that value and as we said earlier the user is starting to pull from there and then there is this contention between whether the value go to the validator or to the users however the point I disagree with Justin is that Mev has indeed two halves he said like okay one of them is like externalities and one for the users Mev is a fancy word okay one half of all that value roughly is front running transaction people make a transaction other people getting ahead of them we've seen some people argue that well that's that whoever gets front running back running time which just didn't do a good enough job to create the transaction right instead the slipper just right you'll be just fine like this shouldn't happen if you know what you're doing and that is not actually correct okay if you're making a large trade or trading a less liquid asset or more than anything else you make a trade that trade is perfect okay exactly the slippage as it should be but because the price actually moves in real time price just increased on a percent somewhere else and all of a sudden your transaction is actually willing to pay way too much for it okay your transaction which was created just perfectly is now somebody should come oh this guy is willing to buy at this price sure let's let him buy this price and then push the price so sandwiching that transaction pushing then back running and pushing the price back because let's say price dropped by a percent so even if you created that transaction at that time in a perfectly the perfect setup you still have to allow slippage because price would change not even talking about well what if sometimes I can just get ahead of you your transaction would fail because price moved by 0.001 basis point so you allow for some slippage the current ecosystem ensures you'll get the worst execution no matter what so if price moved elsewhere you know you're about to buy an asset and it went up you're not going to benefit from it okay no matter what you'll get to the worst execution so half off Mev is that the other half of Mev is c5d5 arbitrage there isn't as much insight into it um Stefan who used to be a flash watts and out Frontier wrote a good blog post around it um a month ago or so really there are as few large actors with a lot of capital both on D5 and on C5 and whenever the price moves between them they capture that Arbitrage and that is really that's around half of M the other half of Mev yes there's liquidation yes there's long tail Mev yes there are other things but these are the core two things that Mev is constructed off back to your original question where do I see it going from here I see Define the way it's working right now is not good enough okay if we want to build the future of friends the next Global Financial ecosystem open to everybody always on online 365 24 7 365. but really all of it is arbitrage all the training happened on C5 and you know the arbitration being captured and sniped on the D5 side so if we actually want to take D5 and make it valuable and actually be an alternative and competing with C5 not just arbitrary Battleground I think the direction is completely different from the stuff that we're working on right now although I'm not against like gaming Etc I see how can we have users get the correct price in real time when I send the transaction I should buy whatever is the price out there and validators should right should provide this service whoever is the current value should be able to capture value from providing it so I think of validators as service providers they have the power to include transaction and ordering them and if they would make more money providing the service and enabling real-time defy as an example they could be making more money in you this way than front running and taking advantage of users and so the future is I see it is moving from the predatory setup that we're trying to kind of like Get out of right now and build something that is you more useful better for the users who will get more like the core expenses and better for the validator so to kind of like this win-win-win situation that's how I see the Mev landscape moving forward with a lot of big changes yeah I mean I I would um you know try and highlight some of the things that that Yuri said like one is that the Mev is not restricted to ethereum um it's really if it bathes in this broader context of the real world and really what we have is you know this multiple multi-domain um setup whereby if you want optimal execution on your transaction more likely than not you won't find it on chain more likely than not you might you know get a better price if you trade on Kraken or on binance or whatever it is and so what I think will happen is that we are going to have entities that are going to you know very sophisticated ones that have very low trading fees because they have extremely large volumes they're going to be on all the main exchanges and they are going to be giving users this optimal execution now the thing is that we don't want validators to provide that service and the reason is that the barrier to entry to providing this this optimal execution for users is extremely high and so this is why in ethereum we have this notion called PBS proposer Builder separation so we actually are in this amazing situation where the the builders that need to be sophisticated are segregated away from the validators the validators have to do almost no work they basically have to pick the highest bid or do you know something like that the heavy lifting is actually done by separate entities the builders that are themselves relying on other sophisticated entities like the Searchers now another point that Yuri brought up is this idea of real-time execution um and here we have this this notion called pre-conformations so if you look in in role apps like like optimism or arbitrim they have this service whereby the the sequencer right now which is just the centralized sequencer gives the user some sort of soft commitment that they will be included in the next block and this self-commitment comes within a you know on the order of 100 milliseconds so from a ux perspective it's it's really really good Yuri is right that you know validators could be or you know the whole Mev pipeline could be extracting more more value by providing the service as opposed to not providing it now one of the questions that we can ask ourselves is how do we provide the service and it the answer is a little unclear you know we could for example have the builders provide the service pre-confirmation whereby the builders promise to include these pre-confirmed transactions in that next block but we could also do it at the proposal level now one kind of question that that we have from a research standpoint is how do we how do how do we do this and this is where maybe eigenlayer comes in so eigen layer is this kind of restaking platform where the proposals can opt in to providing pre-confirmation services and if they don't provide you know adequate pre-confirmation Services they stand to lose some some of their some of their state Thief now thinking in terms of the future and what's next for Mev um I actually think there's going to be a whole new class of Mev so right now so far we've explored execution Mev right what is the value that can be extracted from execution and the two services that execution provides just to recap again is inclusion and ordering and this is where congestion and contention fees come in but then there's this other kind of type of Mev and that might be you know a bit of an abuse of the way the term is used today is what I call consensus Mev right so the validators have stake and they can restake to provide services like pre-confirmation and this pre-confirmation service value is extractable value right that's the definition it's value that can be extracted but it's provided through restaking the stake within consensus and it doesn't really involve so much the the the inclusion or The Ordering of of transactions well maybe pre-confirmations is a bad example because it does it does involve the uh the the the inclusion and all the transactions but I think there will be all sorts of other services uh you know within the the restaking framework which don't touch which you know purity of alcohol with inclusion and ordering um so I mean this is super interesting but I do want to touch on a few things that we haven't yet discussed which are um you know as far as I understand I think wallets especially um Dex is a little bit uh they are you know are places where a lot of these transactions originate but they haven't been huge Revenue generators and I wondered if anything about how MEP is changing would affect them or allow them to generate more Revenue I think recently people are talking a lot about like the med pipeline or supply chain which I think is a bad model because when you think about the supply chain you know you have like you start with you know producer of a very small piece and he give it to the next person who can like build a bigger one and build a big one from the smaller one and eventually you have an iPhone right that's coming however the way Mev actually is like a mesh Network it's like user can interact send the transaction directly to the Builder or to the mempool to reach Searcher or there's the decks there is the wallet right user use the wallet maybe the wallet speaks directly with the proposer or with the builder or with the serger or with both of them so they're like all these connections between them it's not like a single line that kind of really is straightforward where user validator and everything in the middle is kind of like super thin straight line and so I definitely think that anybody that creates value will have a way to capture some of that value definitely you could imagine and there's going to be the competition but large wallets if the future ends up being like let's say rebate to users which isn't my favorite feature but let's say this is the case you could imagine that one wallet will pass 90 and the other one will provide like 91 or 92 or some percentage of that and AG as an aggregator of users and it's not like competition there's a problem we want competition but we actually also want good products and we want them to make money to invest and build it I think wallets that will do a really good job of building the wallet the users really won't care if the rebate is 85 or 90 so that's like one future from the perspective of the wallet um dick says who do something similar but also whichever infrastructure or team or group of Searchers that has access let's say who can run these transactions maybe it's a DEX routed there so they maybe they charge them or the users or both so you have this value flowing around touching users touching wallets touching indexes touching group proposers Searchers Builders validators takers everybody and we should assume that everybody are going to try to take a cut and that's not necessarily a bad thing so if a wallet is a really good and provide the user experience and they're taking somehow some portion of the rebate maybe it's a good thing maybe it's a bad thing I'm not sure like maybe people have strong opinions on it but I definitely see I'm already seeing all these actors try to figure out how they could take a portion off of these numbers because as an aggregator you're big so it's okay to take a small portion from each one and that's a decent size Revenue so yeah in terms of you know wallets getting involved I think there will be this the shift in the market where people will be incentivized to connect to things other than the the default mempool one of the things that I want to highlight as a risk moving into this this new Direction is that there's this notion of exclusive order flow so right now on if you use metamask there's this inherent fairness in a way whereby your transaction goes through metamask and it gets broadcast to the whole world on an equal and fair footing but what if metamask instead of doing so kind of send the order flow to Preferred Partners preferred Searchers or preferred Builders then you potentially in the scenario where you are effectively enshrining or King making some specific Searcher or Builder and that has that is dangerous because there are some Network effects to searching and building like the more order flow you have the better packing for example you can do the better aggregation and if we have these descent decentralization at the search and the Builder level then now you make it easier to do censorship for example um so it's possible that metamask you know will not give you all these nice uh you know Services if you're interacting with tornado cash or something like that now the good news here is that we have technology that can give us all the advantages of rebates and front running protection with you know sdx and fancy cryptography and I think the other kind of tool that we have at our disposal is this notion of social norms whereby it's kind of frowned upon for you know wallets to be creating um this exclusive order flow just like it's frowned upon for a mining pool to have more than 51 of the hash rate uh or it's frowned upon for you know as a very large staking operator to only use one consensus client and one execution client right we want diversity we want uh decentralization so I'm very optimistic that in the medium and long term we will have the technology that gives wallet operators the option to use you know credibly neutral credibly fair and transparent mempools that don't kind of King make is very specific Etc or Builder and that the adoption of this technology will happen through social norms um at the social so I enjoy strongly disagreeing with Justin today although I like it a lot and so I disagree with four things with this argument um if social norms were enough then we wouldn't have to be having this discussion it was clear to everybody that mining pools are not allowed to order transaction or whatever they can know they can't do over the counter or under the table deals with anybody and everybody knew like mine like you speak with my nipples operators like they knew way ahead but they could be making money like Mev and they weren't doing it because everybody knew you're not supposed to do it until flash what came out and said well this that's gonna happen let's remove all the red tape around it this isn't good enough of course it's fine so like within six months the entire social concepts of change and nowadays really this was like 2020. nowadays of course it's fine that all the value they're trying to extract the most value so social isn't like a good tool for this second one is we have some Network effect in the searching ecosystem is is an Uber understatement okay if somebody is a big block Builder all the Searchers have to start to send him their bundles okay so Searchers find Opportunities they create a bundle give it to the block Builder who try to create the block out of it if somebody is creating 10 20 off the blocks zero x 69 is doing like 30 right now or something everybody have to give them their bundles if you're a Searcher you don't send it to him you're losing out 30 of the opportunities you really have to send it to them now notice that block Builders can take advantage of searches in theory it's a trust relationship right I give you the bundle but I trust you not to unbundle it and take advantage of my transactions it's not trust I don't trust them I just have to give him my bundle so there is strong Network effect that whoever has momentum anybody else have to work with them if some really get a lot of the percentage of the proposers and have some proposal to connect only to that the block Builders need to work with that relay again relay could do whatever it wants it could unbundle everything it could cheat everybody Etc so there are very strong Network effect there to the tech side okay like we could have solve it with spec either sgx or fancy threshold encryption and other things sgx thing is being hacked roughly once a year and there's a question I just asked it literally yesterday or the day I think yesterday how much would it cost to hack a single sgx chip like really like if it cost a million dollars then you can't have it secure more than like does it cost a million 10 million 100 I I really don't know how much it costs but it's kind of like it's the hackers setup I get to choose a setup I just need one to crack one sgx and then I could do something like sandwich the reaper who kind of like okay take all the bundles unbundle it take advantage of the sergers or threshold encryption which solves it but makes it even slower right we talked about real-time defy and whether it's valuable or not you do threshold encryption yes there is a you could spam it statistical or nav whatever Etc maybe there's a solution to that but whatever you do it becomes even slower making D5 even less suited to compete with C5 so I think that's a big problem and we don't have like oh here are like with here are three solutions there are a fourth thing which I don't remember even at this point no this is a problem and we don't have a good like solution for them right now we are searching tar possibilities but this is a major issue that we don't really have a solution for so yuria I mean I agree with with all your points um just to to emphasize you know my agreement uh on on the the strong Builder Network effects um I agree that not only do we want the mempool to be decentralized but we also want potentially the Builder itself to be decentralized because if there's going to be strong Network effects and logical centralization then the best thing that we can do is have decentralization in its in the operation of of the Builder so there is a possible future where there's there's one Builder just like there's one blockchain but that the operations of the Builder is itself decentralized and that would be a issue isn't that full circle for PBS it's not like we separated the validator from the from the like the proposal from the Builder and then we sent there and then we end up having to validate like and decentralized setup with staked entities we just went from Full Circle to having the validators together build blocks like isn't this well like that the operators don't have to be the validators The Operators could be something else um it could be you know a set a separate chain it could be based on on fancy cryptography that doesn't necessarily um require an honest majority because the thing is that consensus requires honest majority but maybe things like like men pools don't don't don't and block building don't don't require all this marriage majority I guess you know you're right like if ultimately we end up with both systems being operated by the exact same set of validators that we might as well uh remove uh PBS but I don't think that's going to be the the end game yeah I guess another very interesting point that you brought up is on the cryptography being being high latency um and I I agree with you that there's all these latency games um and really what we need is low latency cryptography so not not only does it have to be fancy but it has to be low latency and I'm optimistic that we can get that you know through things like Hardware acceleration and whatnot one of the good news here is that the latency is has diminishing returns in terms of impact for the user right if we go from 100 milliseconds to 10 milliseconds of latency while that might only be you know fractions of ascent in terms of improvements for for the user and so we just need to get the cryptography low enough latency um to be practical but we don't necessarily need it to compete with the the centralized block Builders we did touch on proposer Builder separation but I really want to ask about this directly um you know Justin you brought this up a couple times so ethereum does plan to incorporate proposer Builder separation into the protocol itself once that happens how do you expect that that would change Mev and you know this trend we're seeing around distribution I don't think it would change uh much um it would basically just remove this semi-trusted entity which is the the Relay operator um from from the equation and we'd have a more trustless and more robust ecosystem but from the user standpoint they're kind of higher up the supply chain they interact with the the interfaces and and the searches whereas the relays which is the focus of and trying PPS they interact with between the proposer and the and the builders so these are fairly separate ecosystems and I I don't think it will dramatically change the the functionality of the supply chain it will merely be a security Improvement and I also saw that vitalik tweeted a road map that indicates that he's in favor of application Level and Mev minimization and also eventually instituting this Mev burn so because he said it do you think that that's where things will eventually head or how does this all get decided so one of italics kind of a big strengths is that he's able to you know have a thing on the post of the community and try and distill you know what makes sense and the you can distill the rough consensus so you know he's not trying to put forward an opinionated take on what he thinks the roadmap should be he's really trying to reflect to the maximum possible extent what he thinks the community thinks the roadmap should be and he's trying to to um you know minimize for for possible disagreements with with what he's putting suggesting in in the roadmap now I I agree with him that there's these two things that need to be done on the one hand we need to either minimize or kind of return the Mev back to to the user and that could be done with you know better Mev design at the application Level it could be done with you know better infrastructure of chain with the with the wallets and and the searches and I also agree with him that in terms of the so-called access Mev which doesn't get minimized or rebated that it should ideally be burnt um and uh that's the topic for for for for another episode I would argue that everybody believes that Mev should be minimized at the application like it's better right like even thinking uni swap V2 versus units from V3 units of V2 was what it was creating a lot of Arbitrage opportunity you need units of V3 creates lesser because like the way the liquidity Works Etc you won't find a single person I think out there that say oh no no applications shouldn't try to minimize it our sun Mev can't be minimized by the application there okay just as the example from earlier okay somebody made a trade that's perfectly fine Etc but then some three seconds later that trade is already out today and there's Mev because the price elsewhere changed okay asset price change in real time any change so you can't remove all of it by the application but everybody wants it I think metallic is awesome and a good person I'm like like which in crypto isn't necessarily that is smart and good Etc I think and Justin would probably disagree with me here I think PBS is wrong I think this is not the direction I lately started to have strong lightning Network Vibes with will we separate the validator to proposer and Builder and now we have a decentralized Builders and we have Searchers and block Builders and we have another Mev focused layer one which they participate in yes or you know validators used to build blocks can that answer so I and Justin strongly disagree on that that will be fine I am in the opinion of the PBS isn't necessarily it should already be on the roadmap and of course we're doing it the merge was just like what September nine months ago 10 months or something less so right um this is just like shaping out I think we'll see a lot of more shaping out like coming out of there okay to be wrong here but I actually don't think PBS is the direction and the thing we should solve for I think validators should require little um resources and run open source and provide services which create more value than taking advantage of users taking advantage of users actually require a lot of resources that like validators can just do the front running themselves and everything right you need all the fixed routines a lot of Resources Simulation Etc I think there are ways not to need PBS to create a better defy and encrypt the world but that's just my opinion excellent Yuri I'm really looking forward to this amazing local block building that validates on the Raspberry Pi could do um if you can build this that would be absolutely amazing and I'm not sure about Raspberry Pi but but sure also I'll I'll keep you in the loop I think I detect some sarcasm from Justin but anyway so but Justin did you want to respond more like fully than that no I I agree with you there is a possible future where proposal Builder separation is not required but like intuitively in order to be you know a good Builder you need to be extremely sophisticated um you need to have a lot of computational resources because you have this complex you know packing problem that you need to solve you need to be extremely well connected to exchanges you basically need to be a legal entity that it crosses multiple jurisdictions you need to have professional trading accounts on all the big exchanges you need to have um extremely low fees with these exchanges so you need to trade extremely high volumes um you know your average validator is not going to be trading trillions of dollars and so they they basically need help from other entities which could be you know Searchers or or Builders and I I don't see uh validators you know being able to you know single-handedly build these optimal blocks um but you know maybe there is some system out there which is with which which can do that so for example um orbitrum is a proponent of this first come first serve which is this very simple model where a transaction comes first then you know you just include it as as as as as it comes and you know it is possible that you know you only need a Raspberry Pi to to build blocks with the very very simple strategy now it is a possible future that these kind of systems you know can be built and there are incentive compatible but the problem with first come first serve is that it you know at least our current understanding is that it creates externalities which which are are not great it creates latency games for example and it it potentially even creates incentives to completely bypass this this this whole system and recreate PBS so really what I think will happen over time is that the incentives will shape the ecosystem and then we should just see what this final shape is and then depending on what it is either have uh and trying TBS if it makes sense or if it doesn't make sense because block building can be done fully locally very very easily then we might as well just remove and shine PBS all right well this has been a very very fascinating discussion we I think went pretty in depth on all of this stuff and it's it's clearly not something where yeah just everybody is converging on one opinion and I'm so glad that we were able to get a range of them for Justin and URI where can people learn more about each of you and your work people can find me on on Twitter I mean I don't tweet much nowadays but at the very least I have open DMS there I'm also easy to reach on Telegram and and on Discord similarly Twitter is a place to find me most of the time I think I I think I stopped using my email because I have no idea what's going on there what is the coolest thing about the crypto ecosystem basic if you want to speak with somebody you can find them on Twitter and they'll respond to you and it doesn't matter who they are and who you are so I think that's that's a very cool thing about our community so find us on Twitter super easy yeah let's hope that doesn't change in the future given some of the things that are going on in that platform but anyway all right well it's been a pleasure having you both on Unchained thank you so much thank you thank you thanks so much for joining us today to learn more about URI Justin and Mev distribution check out the show notes for this episode if you enjoyed this episode of unchanged please share it with a friend Unchained is produced by me Laura Shin with help from Anthony Yoon Mark Murdoch Kevin Fuchs Matt pilchard Zach Seward juanaranovic Sam streamrom Jenny Hogan and Munster Jeff Benson Atlanta Camino pamachamdar Shashank and CLK transcription thanks for listening thank you 