[Music] hi everyone welcome to unchained you're a no-hype resource for all things crypto i'm your host laura shin a journalist with over two decades of experience i started covering crypto six years ago and as a senior editor at forbes was the first mainstream media reporter to cover cryptocurrency full-time this is the june 29th episode of unchained subscribe to my newsletter unchained daily for a daily 5-minute dose of headlines memes trends and recommended reads in order to stay up to date in the crypto industry head on over to unchainedpodcast.com and the sign up link will be right there you can also find the link in my twitter bio the crypto.com app lets you buy earn and spend crypto all in one place earn up to 8.5 interest on your bitcoin and 14 interest on your stable coins paid weekly download the crypto.com app and get 25 with the code laura the link is in the description tasos is smart money that's redefining what it means to hold and exchange value in a digitally connected world discover how people are re-imagining the world around you on tazos conjure brings any asset you want onto ethereum by allowing for users to create synthetic assets which track other markets with zero interest loans and unlimited assets it's helping defy to consume tradfy that's c-o-n-j-u-r-e-dot finance check it out today's topic is eip-1559 here to discuss are taylor monahan founder and ceo of mycrypto and tim baiko ethereum foundation core dev facilitator welcome taylor and tim thanks for having us so we're here to discuss this upcoming upgrade to the ethereum network called ethereum improvement proposal 1559. it will be a pretty substantive overhaul that will affect a number of things on ethereum including its monetary policy security and user experience can you give an overview of what eip1559 does sure um i can take that uh so 1559 is like you said a pretty big change to ethereum um and at a high level what it does is it changes the way transactions uh are included in block from going to a spot where all of the blocks have a fixed size and then the transaction fees need to vary a lot in order to get in the block to allowing blocks on ethereum to have more of a variable size so that we can get better or tighter bounds on the fees that people pay on ethereum and that's really kind of the gist of it and in order to get that right uh there's a ton of adjacent changes that need to happen um and maybe it's sort of taking a minute to explain kind of why we're going about it this way so if you if you look at transaction fees on ethereum and bitcoin and most most blockchains that don't have something like eip1559 they typically use what's called the first price auction so that means people will just put in a bid which is your gas price on ethereum and whoever has the highest bid gets included um and the problem with that is it leads to people over bidding uh it's kind of like buying a house in like a hot market where like you know the house might be listed for a million dollars but you know you really want it so you put 1.1 somebody else will put 1.2 and then somebody else come in they'll put 1.5 million dollars um and they'll pay 1.5 million dollars even though you know they could have paid 1.2 and one cent uh they would have still been the highest bid so that difference is kind of uh a loss to them um and outside of blockchains this problem is actually solved for the most part uh typically what what people do is they'll use a second price auction um so uh the most i think popular implementation of that is stuff like facebook and google ads when people bid to have an ad show up in your google search or your ad feed they'll do the same thing right everybody will say how much they're willing to pay but then they'll only pay the second highest price so if i would have paid one dollar taylor would have paid two dollars you would have paid three dollars um your ad gets put in but you'll pay tater's two dollar bid um and this is kind of like the optimal economic way to to do this uh but the biggest problem is the record it requires a centralized party to look at all the bids and trustlessly you know say this is actually the highest and the second highest and because we don't have this kind of central trusted third party on blockchains um we can't simply switch that model and that's why we need to do something like eip1559 where instead we just have this value in the protocol which we call the base fee which tells you what's the minimum amount you need to pay to be included and if more people want to to do transactions on ethereum we simply raise that minimum and if less people want to do transactions we'll lower it so this is a bit of background on how it works and kind of why we have to use this uh pretty special and sometimes convoluted mechanism yeah on a theorem taylor do you want to add anything yeah i know i think that that was a that was a really good explanation and um i think the i guess from my perspective i think the biggest points of conversation right now are about more about like the monetary policy aspect of it than the all the other things because as i was doing my research from like a variety of perspectives right like a like okay i'm a wallet i need to implement this perspective but also like i'm an ethereum holder and i care about this stuff perspective i was actually like really surprised to see how much the sort of um is the narrative behind the eip has changed and i don't necessarily think that that's the i guess the contributors to the eip the writers of the eip whatever you want to call them i don't think it was them so much doing it but yeah for the last like oh gosh i guess for most of 2021 it's been more about the monetary policy and specifically about this like idea that the you know the inflation decreases and therefore the price of youth goes up like that very fomoy hyped up narrative was kind of overwhelming and that that's where like yeah i guess some of my commentaries been coming from all right so yeah we'll dive into all that in a moment and um you know first we'll just cover the basics on eip-1559 but did either of you want to elaborate a little bit more on the other problems that eip 1559 aims to solve so there's you know overpayment or you know inefficiency of payments um but was was there anything else that you feel you know this is trying to tackle well so one of the things that we see um i think any user of ethereum has experienced this right is the fact that like you don't actually know what to pay period like you're trying to set a transaction and you don't know what to pay and part of the reason is because the wallet doesn't actually have all the information it needs because you as the user are the only one that knows what priority your transaction is right sometimes i'm sending a transaction and it's like it's payroll or it's something like that and i just wanted to go through at some point today and i want to be confident that it's going to get through obviously there are all the d5 farmers and the arbitragers and the traders who um need that transaction like now like the next block um and so like they're so hardcore about it that like if it's three in three blocks they don't want it or if it's in two blocks they don't want if it's not in the next block they don't want it to go through and so there's a lot of different issues where like the user the person behind the screen has information that the wallet doesn't have that the network doesn't have um and it's just uh it's just a mess to be honest like there's so many different factors and uh that's all of those things coming together in the most elegant way is what this eip is trying to solve and i think it does a good job at a lot of them actually yeah and maybe two things i'll add to that like on the user part specifically um one thing that's kind of neat about 1559 is it lets you say what's the maximum you're willing to pay for your transaction but then it gives you a refund for the difference between that and basically the market price right whereas today if you know i'm willing to pay 10 way or 20 way or 50 gwei i'll have to put that as my guess price and that's like the amount i'll end up paying but you know maybe i could have been included for 12 goes instead of 20. so it 1559 by default kind of gives you that refund um i think the other part that's kind of somewhat related to the monetary policy that i do find quite important is 1559 makes sure that transaction fees on ethereum at the protocol need to be paid in ether and this is like a really you know it if you if you start from the other way and i tell you you know there's this blockchain called ethereum ethereum's like the currency that you use to transact on it but you don't actually need ethereum you don't actually need ether to use it that kind of sounds like a bug um so to me it kind of fixes this bug in the economics where now after 1559 every transaction needs to pay at least a minimum part of the fee using ether um wallets and you know miners and whatnot are still free to like abstract that to their users like there will be services that you know allow you to pay for your transaction and die or you know where you've been seeing some coming up with like fiat and whatnot but behind the scenes you know whoever is like including your transaction in the block actually needs their own ether to pay for that transaction and and that's like a pretty fundamental part that i think was missing in ethereum that 1559 brings yeah you know when i first read about that i thought who's going to use ethereum and then try to pay the fee and something other than eth just because it just seems like that would be the easiest way but then when i was doing research i actually came across across this report that was like oh here's an example of such a transaction and i thought oh okay so people are actually doing this um and yeah so we'll get more into this later but essentially what will happen after this is adopted is that this fee is burned and in order to have that fee be burned you know it can only be burned in eath and so even if someone were to try to circumvent eventually the miner would have to obtain enough east to you know pay that fee and have it burned so let's actually just dive into the fee issue because that's been probably one of the biggest pain points for ethereum users for quite a while now um but before we get into the particulars on that i just want to make sure the whole audience you know kind of has the baseline so why don't we just kind of break down at a simple level um how fees for transactions work on ethereum right now so right now um if you want to send a transaction most of the wallets will abstract this away in some capacity but you have the gas price which is the color like the multiplier the priority the speed it's it's um how fast the transaction right the higher the gas price the higher the the more the miner will be paid and therefore uh the more likely the miner is going to include in the block sooner like the miners prioritize uh the the transactions that pay them the most over ones that pay them last um and then you have the gas limit which is it's it's basically like how much computational power a transaction takes and this is why uh a basic like transfer of ether is uh costs less than doing some fancy crazy flash loan with like four different d5 protocols right and so um to gather combined they create the transaction fee and that entire fee it's like attached to your transaction whatever you're doing in your transaction whether you're sending ether doing a contract or whatever you're doing that transaction fee is attached and then that ether is moved from you to the miner who successfully mines the block so from the miners perspective they have all these transactions flying at them and they all are promising different amounts of money and they choose the the ones that have the most money obviously um and they include those in the block next and so if the block is full so if which it it is a lot these days um if the blocks are full that's where you get into these crazy situations where um like uniswap does an airdrop and then everyone's trying to claim their uni and running around and racing and the gas price goes from say five way all the way to 500 way in a matter of hours um and then me i'm like what's going on i just want to run my payroll i just want to buy my coffee um and that's where the frustration is coming from and and it makes sense right it makes sense from the miner's perspective it makes sense from the protocols perspective but as a user i'm just sitting there going like screw this and tim did you want to add anything yeah i think one you know i think that's like a very good overview of the status quo um and and one thing that's that's worth highlighting too is yes you know for example when uni makes an airdrop more people want to use the chain so it makes sense for the price to go up right like because the the kind of demand for the chain is increasing and obviously the supply of block spaces is fixed um but what you start to see in those periods is people who get included in the same block will pay wildly different prices and this is kind of the craziest part because you know like except for the very first few transactions in the block um which often are transactions with mev or arbitrage opportunities or things like that um after that basically there's no difference whether your transaction is like the 50th or the 60th in a block right and ideally you'd want to pay the same price because you're getting executed at the same time um and if you look at the data right now we'll sometimes see like a 5 to 10x difference uh between like the the kind of 10th percentile transaction price and the sort of mean or mediant um and this is what 1559 will help reduce is it won't make you know the price cheaper when everybody wants to use ethereum at the same time but it'll make the range of prices that people pay kind of much tighter and it'll tell you well if you want to use ethereum right now this is how much you should pay and if you know if the price is too high you're welcome to wait and you know wait until the air drop is over but at least you know you're not trying to kind of outbid everybody and then end up overpaid yeah i think of it a little bit like the uber or lyft price surging element exactly you know yeah so one thing that i see confusion about sometimes online is people you know feel that maybe the price of eve can be um correlated with the fees but as far as i understand the price of eth going up does not directly cause high fees right it's that at that time that's correlated at times of high network activities which is what causes the gas prices to go up is that a good explanation it always depends on what time scale you're looking at right like but if you look on a very short time scale um i would say the gas fees are correlated not with the price but with the volatility mostly because of defy so if you see say east goes up 20 in a day everybody will want to you know open take loans to go margin long on on ether and that obviously creates demand for the platform similarly if you see dropped 20 in a day um then people want to like fund their their loans and not get liquidated and whatnot and that creates activity right so it's not the fact that it's the price is high or low but there is some correlation between um the volatility and the price and and the gas fees but it is worth noting though that the the gas price you pay is like independent of the east usd price right so if assume you have like you know just the price going up kind of steadily without much volatility and the same amount of demand for the network then the actual price and ease would go down right like the two markets to start are decorated but because you have d5 which uses kind of the ethios the price as an input obviously it it blurs the the yeah it blurs the two together oh yeah there's a word there's a word for the relationship but i can't remember it it might be like oh god it's like reflectively or or one of those words right where because this is happening over here uh it's like causing this and so there's like this relationship between them but they're not actually directly correlated um and the relationships are actually really interesting because you have uh like the eth usd price with the amount of like wrapped bitcoin on ethereum now you also have like the eth bitcoin relationship and what tim said is 100 correct in terms of the volatility because you know all the people who are trying to make moves that that becomes like more and more urgent when there's you know a high spike up or a spike down and then you also have to keep mine with d5 you have things like uh liquidating loans or arbitrage opportunities or these bots that actually are reacting to certain market conditions and again uh like if the price of eth is generally stable your loan isn't going to be liquidated which means that the arbitragers aren't going to be doing these two things at one time to try to make money you don't have like you know the bots running around chasing the loans you know all of those things are just not happening and so it'll be you know it'll be interesting but another thing to keep in mind is like the the the demand for ethereum technically usually right when we think about markets it usually means higher demand uh for ethereum means that the east price does go up as well so that's like another relationship and so you just you just have all of these relationships intertwined they're not i don't think any of them are directly correlated but they they do have this like whatever reactionary relationship to one another okay so now that we've kind of just set the picture of how things work right now and kind of what some of the issues are let's dive into more details on how eip 1559 changes how fees are calculated on ethereum and we can get more granular now okay i can i can give like the protocol view and then i think taylor can maybe talk through how wallets will actually show us the users um so at a very basic level uh 1559 does like three main protocol changes the first is that it uh it removes the it introduces a new transaction type on ethereum so this is something that's sometimes misunderstood legacy transactions like transactions with gas prices will still be possible um they'll still burn ether behind the scene but if you're using your wallet or if you are a wallet and you don't want to update you don't want to support 1559 it's it's optional right like you don't need to actually change the types of transactions you send but with the eip we introduced a new type of transaction which has a few benefits and basically that that new type of transaction will not have a gas price like the legacy transactions on ethereum and instead we'll have two components to the price paid uh one is called the max fee or maximum fee and the other one is called the priority fee in the past this was called the tip so if you hear about the tip uh they're they're basically synonymous and the max fee like i mentioned earlier is basically the maximum amount you're willing to pay for your transaction and the the priority fee is the maximum amount you're willing to give a miner for your transaction um and then so this is all that changes on the transaction side on the ethereum blocks every block will now have what's called a base fee and this base fee specifies what's the minimum gas price basically that a transaction needs to pay to be valid in this block and so what this means is if you send a transaction with a maximum fee that's lower than the base fee that transaction is no longer valid and this is really interesting because today you know for example the gas prices today are roughly 20 gwai um if i send a transaction with one gwei it's not actually invalid even though it might you know never be included and this causes like a lot of drag on the system because you can't put like a clear line of like oh this transaction and then this transaction that is out so after 1559 we'll have like a really clear view into the transaction pool of you know these transactions could actually be in the block and and these could not and finally sorry the last protocol change that we make is blocks go from being having a fixed size to having a variable size um so right now on ethereum we have a gas limit uh which is the equivalent of the the block limit in in bitcoin um which says you know this is the maximum amount of transactions that can go in um and because of demand for the network blocks are basically always full so if you're like a wallet or an app developer or you know anyone who's kind of interacting with the network your default assumption is like there's no room in the block right like everything is always full what 1559 does is it doubles the block size on ethereum and it aims to keep it 50 full and when blocks are more than fifty percent fall we simply raise the minimum price until it's back to fifty percent full again and if it's less uh we'll simply lower the minimum price to kind of induce demand um so that means that when you're sending a transaction on average there's always going to be kind of extra room in the next block to include you as long as you pay this minimum price and this is like a really nice property because today if i send a transaction you know say gas prices are 20 i send my transaction and you know it just kind of shifts a little bit on me and it moves to 25 i might end up waiting you know five ten minutes and not knowing exactly when my transaction and then i'll speed it up on metamask because i actually don't want to wait 5-10 minutes whereas after 15.59 i could just say look the maximum i'm willing to pay is like 50 so even if the next block you know was 20 but it was full i kind of missed that one then maybe the minimum price in the next block is like 23 24. um and then i get included in that one and i'll get the refund from you know like the 50 minus 24. um so yeah at a protocol level this is basically what it changes um and last thing is we mentioned earlier is obviously this transaction fee so this this base fee needs to be paid with ether directly from uh from the account but sending a transaction yes that was good that was a lot but that was good thanks and now do you want to talk about it from the wallet perspective yeah well i mean i love that tim said that from one's perspective all the blocks are fall all the time and yeah that's our perspective because when the blocks aren't full we don't have to deal with it like we don't get support tickets um i can pay my payroll users can just go about their lives and if the sma student isn't perfect it's fine it's still included everyone's happy um and also people aren't paying as much right and that's also like happy users whereas when the blocks are full not only are they paying more but like if they if there's like a weird token and you're trying to send in that and the gas limit estimation is off for whatever reason there's a variety of reasons this happens but then the transaction fails but you still pay a certain amount for a failed transaction and that's like a really bad experience back in the ico days people would be like i didn't get into this ico and i still paid you you are the devil uh and i was like no no that's it goes to the miners i'm answering this for free sorry you know so all of those reasons is why we're so focused on these like high congestion periods because when they're not um when everything's swimming along smoothly like we're happy users are happy everyone's happy and so i think that when i look at the eip1559 i'm looking at i think in time like normal-ish times um you know meaning that when either the demand is stable uh or sorry the base b is is stable it's not increasing everything's happy then yeah we're all going to be happy yay uh and so then the question is okay so what happens when things are congested and for while it's another question that we ask ourselves are like what are the edge cases right because in a world where we're responsible for uh like even a non-custodial wallet like we still have a major impact on uh what people pay and whether or not their transactions are or are not successful and it's like always this balance between educating and showing and giving users a choice versus abstracting everything away because if we abstract everything away and then the user doesn't send um the transaction fails they pay too much they pay more than they expected that's actually that comes back to us the user never even really had a choice and so that's like sort of this big mashup of of hard questions that we have to answer in the design process and that's why um uh i think some of my criticisms of the eip have been you know the writers and stuff have been like yeah yeah but like 99 of the time taylor is gonna be fine and i'm like but we already are fine during those times too like i'm worried about these other times um and i think outside the outside perspective like people on twitter watching us are going like i don't you know i don't understand why you're arguing you know like what's going on so that's a little background like how well it's look at stuff i think that how we're gonna handle it in general um like from a very high level right is currently most wallets give you uh look at the usd estimate of the transaction fee and they abstract away both the gas limit and the gas price and then there's various levels of like advanced mode if the user does want to give input on their um on how much they're willing to pay so if they want it to be faster or slower and that's going to change because the biggest thing is uh i think for me personally the biggest mind shift is moving from speed to priority which we already have sort of done like we've already like it's like a brain split right now like sometimes we're thinking about how fast the transaction is going to be mined versus you know what priority it is in the block but specifically with this eip we're thinking a lot more about priority of the transaction and that's just it's interesting that that has also come along with the cip with everything else actually like giving the user that i guess that information or framing it in that way for the user so that they can also have that mindset so that um again they're going to have that that education or that information to make the the informed decision uh with the information that only they have and i think that the ui specifically is probably going to remain it's going to be like slightly different obviously but i think that in general the user is going to be presented with some sort of selector or slider or choice and the sort of the the the transaction fee is going to be displayed in usd and it's going to be a slight estimate i think that now we're probably going to have a range rather than rate now like most like metamask an hour you i both show a single value you're going to pay about 5.83 cents for this transaction it's probably going to change so that we show you're going to pay between 5.83 and 10.79 and that's that's a whole another question for me especially because like what it just changes right like as a user i can definitely make a choice like i am willing to pay 5.83 saying i'm willing to pay between 5.83 and 10 and 32 cents is like a different choice right um so we've been going back and forth on like do we want to give them um just the highest one uh but doesn't does that actually set them up for failure if they always get like half of that back right so if i send a transaction every single day for a year uh and i say i'm willing to pay ten dollars and then i get five dollars back i only end up paying five dollars right and then one day i'm like yeah i'm only paid 20 dollars because i'm actually willing to pay 10 but the network is congested so i actually paid 20 but i wasn't actually willing to pay twenty dollars right that those are the ux issues it's like it's just it's a lot um and yes it's it's going to be for the times of high congestion where things are like rapidly scaling up but they are hard problems to solve yeah and we're gonna get it into this more in a moment because there's something that i was wondering about when i was researching this which is about you know there's this flexible block size but you know we we have these periods where there can be congestion kind of for a while and so it's like well if you're trying to target this 15 million gas you know like what's to stop it from like always maxing out at the 30 and then how do you get back down to the 15 because maybe what you're just gonna have miners that are mining empty blocks for a while or anyway but let's talk about that um right after this word from our sponsors who make the show possible do you want to trade gold currencies or even bananas on ethereum contra opens access to the global financial market for ethereum by allowing for permissionless user created synthetic assets contour allows you to create borrow and trade synthetic assets which track the value for any conceivable asset real or abstract using any price feed you want asset creators are able to earn fees on every mint and scale revenue with direct use for their assets synths are minted by providing ether to collateralize the asset as zero percent interest loans hunter's helping to bring tradfy to d5 and turn ethereum into the real global financial settlement layer trade synths for usd gold btc or make your own so why not check out c-o-n-j-u-r-e dot finance and see what's possible tesos lets you easily exchange smart money throughout our digital world a self-upgradable blockchain with a proven track record tazos seamlessly adopts tomorrow's innovations without network disruptions today because of this adaptability engineers conservationists entrepreneurs collectors game developers and artists from around the world are building creating and using tazos every day discover how people are re-imaging the world around you on tasos with over 10 million users crypto.com is the easiest place to buy and sell over 90 cryptocurrencies download the crypto.com app now and get 25 with the code laura if you're a hodler crypto.com earn pays industry leading interest rates on over 30 coins including bitcoin at up to 8.5 interest and up to 14 interest on your stable coins when it's time to spend your crypto nothing beats the crypto.com visa card which pays you up to eight percent back instantly and gives you 100 rebate for your netflix spotify and amazon prime subscriptions there is no annual or monthly fees to worry about download the crypto.com app and get 25 when using the code laura laura the link is in the description back to my conversation with taylor and tim so i kind of asked the question right before the handbreak but yeah can you just talk about this flexible block size and you know because like i just had um the founder of polygon on my show and he was saying oh even when eth2 is adopted we imagine it'll get full very quickly and so there will still be a need for polygon and so i was just like yeah that's probably true so how are you gonna yeah keep this average so i think here it's it's helpful to like differentiate between like the long-term average and like the short-term spikes um and to answer your question you know it's like why won't blocks just be full forever the the short answer there is it's the speed at which this base fee increases right so right now the base fee increases if you have a full block it goes up by 12 and a half percent in the next block um and that takes roughly five minutes to 10x um and it's exponential after that so it means in 10 minutes the gas prices are up 100x and in 15 minutes of full blocks gas prices are up a thousand decks and just to put this in context and like the entire history of ethereum we've seen roughly a thousand x variants and gas prices like from the very start up to now and that's kind of a upper range um so that means that in practice it would be like extremely rare to see like something like 15 minutes at full blocks because at some price people are just not willing to pay right so what happens is you know prices is 20 gray and then it goes up to like 50 100 250 whatever 500 grey at 500 guy nobody's willing to pay the base fee or you know less people than fit half the block are so then the gas prices start coming back slow again um and and you know it reaches kind of this equilibrium again where like what's the price at which you know there's about 15 million gas worth of demand um and one thing that's that's nice about that is it means this kind of spike in usage is processed twice as quick as it would be today um because for like this short period of time where there's a bunch of people willing to pay super high fees we have blocks that are twice the size as they are um but if you look over kind of a long term average you're not gonna have you know you might have a lot of these small spikes but you won't just see like some major spike forever because you know i think i calculated but after like something like to fill something like a 100 or 200 blocks you're burning like a hundred thousand eth right in terms of transaction fees so it's just the speed at which this basically increases limits um how long these spikes can last yeah okay yeah so basically at a certain point it'll only be whales who will be transacting at some point well at some point you know the whales have done their transaction and then you know it's back to everybody else um yeah yeah and that's by the way we see this currently right like when the i mean the uni airdrop is one example but the also on uh whatever black thursday black tuesday whatever it was march 12th when the whole world collapsed or whatever and maker collapsed and and the you know there was this chain reaction of all these things that happened from the real world to the crypto world to the bitcoin world to the east world to the oracle world like everyone was impacted um and we saw such high gas prices because there was i mean an insane amount of volatility but also you know an insane amount of money to be made if you were both if you were like gonna liquidate something like you could make money but also like if you want to prevent yourself from being liquidated so everyone was in this boat of like i need this transaction on network now however you know in everyone else was like i'm just gonna sit here and not do that like and this is exactly like uber search pricing right like you were mentioning earlier it's like getting a uber on new year's eve basically yeah yeah and you're like i'll wait um and then and then yeah and i mean even that um period of time we're not talking about months we're not even talking about weeks we're talking about days uh you know in terms of that that high pricing so it'll be interesting to see how i guess the base fee reacts both upwards and then downwards right because we do talk a lot about how the base b moves up but we don't talk about what the conditions are to make the base b the base b go back down right because currently like you get up to 500 g way and then black black whatever happens and you're at a thousand gui and you're dying and then it comes back down naturally um now that's actually at a protocol level as well so uh i don't know you guys i mean the debt the devs and the researchers they're very confident in this so i have faith in them but i don't personally understand it yeah so i guess just to touch on that um the basic basically uh the way it goes up or down is if a block is empty it's down twelve and a half percent if a block is full it's up twelve and a half percent and it's a linear curve um if you are very mad savvy you will realize that that means it comes down a bit slower than it goes up because just how fractions work um and that's like a small edge case where uh we'll probably change that in a future iteration of 1559 um but it doesn't change like the fundamental design where imagine you get to a spot where like you know you've processed these thousand way transactions then the next block might be 25 full right rather than 50 would like 800 great transactions and so these transactions will you know get into that next block and then the fee will lower again and then maybe you're doing like the 600 great transactions and kind of clearing your backlog that way until you're back to like this you know the kind of normal equilibrium of whatever the gas price was before that that surge and i think i've been like roughly tracking them this is not like super data driven but it feels to me like about once a quarter we have like these kind of you can't really call them black swan because they're so frequent but like these these events were like everybody needs the transaction chain right now that seems to be roughly the frequency so um in the absolute worst case it's also worth noting that like when everybody's trying to out compete each other to get their transaction in these crazy periods that's basically the system we have today right where today all the time in every block people are trying to out compete each other to get included in this limited block size so the part that like i sympathize a lot with wallets is they need to keep supporting both forever because like you said taylor like this one percent is really important um but from the end user's perspective it's like the average case today becomes kind of their worst case one percent of the time and then whenever that's not the case um the system is is much simpler and has better guarantees around inclusion yeah exactly and i think that one um one thing to point out from me a wallet's perspective is that um initially i was sort of looking at it like okay we need to um i guess like uh build a system that addresses that like gives the user this this transaction fee range that's going to be like um obviously accurate in all conditions all the time and you have you know periods where it's stable your periods going up your periods going down um and how do we create the system and stuff like that um but one thing that i guess i've sort of changed is um we need to like really i guess drill into the user's needs right letting the user say what priority that they want their transaction to be included at and giving them some you know semblance of a approximate price in probably denominated in usd so that they understand how much they're going to be paying for this so they can make that informed decision and then we or the network have the information of how congested the network is um what the current base fee is what we can look at the the priority the tips um we can look at those as well and see what they've been either over a period of blocks like the last 50 blocks or last 5 000 blocks um or the last one block however however we want to calculate it right now it's all the same right so right now we look and however people are estimating the gas price they're they're looking at this the past and they're they're guesstimating what the you know the inclusion will be for the next block all the time and so there's basically just this one scenario what we're looking at now is okay there's not one scenario anymore there's not a one size fits all we only should give them this very high price range right the the five to ten dollars or the fifty to a hundred dollars in in those periods of uncertainty we don't have to give it to them all the time and that's one of the things that i think a lot of people um if if they have experience like on the wallet side or even if they're like an exchange right if they're sending transactions on other people's behalf um that's a huge mind shift like it really is a huge mind shift i guess like the range of the information that you're giving the user is tighter uh it's actually directly correlated or should be directly correlated with the uh like the volatility of the base fear the priority fees or the network however you want to look at it and so again if everything's generally okay with the network everything's generally stable we can potentially give them that still like a about five dollar fee and and that will be like the 99 of the time and then catching those edge cases and the one percent probably like i mean if it was me right i would be like hey think twice before you do this because like stuff's blowing up and you might pay 50 or you might pay a hundred dollars we don't really know good luck you know and especially for that first black swan event right just be like that would be hilarious um but actually one thing i wanted to ask about was you know earlier i mentioned the transition ethereum 2.0 which obviously is an actual scaling solution and so you know is meant to address the congestion issue so between the two you know when we ha because we'll have 1559 first and then we'll move to ethereum 2.0 between the two you know this kind of like greater efficiency and fees and then improve scalability like do you think that maybe that will reduce a number of these kind of times when there's just like high congestion these quasi-black swans yeah what's your prediction for you know what it will look like when the two are both adopted so i think the black swans are actually um going to continue on or the frequency of the black swans is going to change not because of like eth2 or because of this eip or anything it's gonna change um just in general over time as ethereum as a network matures so e2 is obviously part of that but it's more about the maturity of the network and um you know we've seen this a bit with bitcoin and you you've seen i'm sure like the when people talk about like the need for stable coins and and the fact that bitcoin is worthless because it's volatile and you can never buy coffee with it and those types of arguments um i think that that over time the it starts off very volatile and then over time we're going to see that curve sort of flatten um that's probably going to be in my opinion the biggest change and with both the frequency and the whether we're talking about a thousand x volatility or 100x volatility yeah just probably time and maturity wait i'm sorry so you're saying that because you think the price of eth will go up then we'll face other kinds of criticism is that what you're saying or no no i'm just saying that the the vault like e2 isn't gonna probably directly impact the the frequency of black swans it's just the fact that ethereum as it becomes more mature it becomes less volatile so then there will be less uh frequent black swans and and when a black swan does happen um it's less it's like just less right we're not gonna we're probably in my opinion we're probably never gonna see another march 12th again right because it's just right now they say it's gonna happen tomorrow so um famous last words um but yeah and and i'm very i'm very interested to see how e2 like does um does impact over the long term right over like the year uh time period rather than the minute time period because i think that with this both this eip and with e2 uh in the short term we will see um everything will be happy for a short period of time right there will be enough room in the blocks that's how these things typically work we saw it a little bit with um when we increased the max block size everything was happy for like a week it was really cool for like a week tim i cut you off early what were you gonna say yeah i suspect we'll probably have more and more like localized black swans if that makes sense so the you know the the main way that we're actually scaling computation in like the next one to three years is like through rollups right um and we're already seeing some go live you've seen like also the sidechain some solutions like polygon um so what i suspect is gonna happen is that more and more uh activity moves to stuff like roland stuff like polygon um you might see these black swans like on this specific roll-up right like where you know i don't know maybe on polygon something happens and there might be some cases where like it happens across the entire ecosystem like you know you saw like the the march 20 where like there's just a crash across everything so you know that'll be like a mega one but i wouldn't be surprised if you just see like these kind of micro black swans or something happen on different you know roll-ups uh at different times just because the arbitrage opportunities are different stuff like that and and that kind of leaves the main chain to operate a bit more smoothly um yeah so that would be my prediction um i i still suspect though like you know we're nowhere near the like smooth sailing uh at least for the next couple years like there will be you know some other stuff like there will be things that that happen that just create huge volatility in crypto and you know that's kind of part of the space we work in so as we mentioned before um eip1559 will also change its monetary policy because since those base fees will be burned um that leads the potential for youth to become deflationary which um you know i mean if people are familiar with bitcoin should lead to the price going up as adoption increases so um one thing that i've you know kind of heard about a little bit is that their rumplings that you know miners aren't super excited about this because that will at least reduce kind of in absolute terms the amount that they'll take home in eth um but i just wonder you know i don't know if there have been any studies done on this but given that the dollar value may rise in conjunction how do you expect that this will actually impact minor revenue and and we'll say in dollars yeah i could i can take that one i've spent a lot of time talking with miners um miners have a lot of variability in their business model you know outside of 1559 right like the the first one you just mentioned is like the east usd price right like if they mine two eight worth four thousand versus worth two thousand versus worth of thousand dollars uh their expenses are like electricity and machines that they pay with fiat so that has a big impact uh the second big uh the second big factor is hash rate so how many other miners are there so you know they can they can you know maintain all of their cost fixed the price of each can stay fixed but if more people mine then it becomes more competitive and their odds of getting a block dropped so their their revenue is also effectively lowered and then the third part of that kind of variable in in their income is uh transaction fees and you can think about like two classes of transaction fees there's just like the general fees that everybody pays and there's fees for arbitrage opportunities uh people call it mev minor extractable value um so this is the fee that like people are willing to pay for the top arbitrage opportunities on ethereum after 1559 obviously you know we're not going to change anything with regards to the hash rate so that variable is kind of out of our control the east usd price i think is very hard to speculate on um so even though you know a lot of people make the argument that like 1559 reduces the supply with every transaction and so if you have the same supply or if you have a smaller supply the same market cap the price should go up like yes that's true but that's true if you consider like no other factors affect the price of ether um and you know that's that's just like not true in practice right there's so many things that have a much greater impact um i'm not saying you know like 1559 will be like negative for the price or you know positive but it's like 1559 over the long run burns part of the supply but you know in two months there's like on any short time frame there's a thousand things that can happen that impact the eath price you know to a much greater extent and lastly one thing that's worth mentioning is miners are paid to secure the network right like that's kind of the whole point they should not necessarily get more or less money based on how many people want to transact because the the security needs of the network do not change based on that right in practice they change a bit and they will even after 1559 get slightly more money when more people want to transact but there's no like reason for them to get all of that surplus right um so when all that being said it's kind of hard to estimate exactly how much 1559 will impact minor revenue because first of all like transaction fees on the network are very volatile right like if we would have had this podcast three months ago gas prices were like 500 and then you know you and at that point transaction fees were actually higher on average than block rewards for the miners so miners were were upset because they were like well you're taking away half a revenue right today gas prices are like 20 gwai and so transaction fees are back to like a small subset of the block value um and it's worth noting again it's not all of the transaction fees that'll be burnt um because people who still want to have arbitrage opportunities so who are competing for like a specific slot in the block they'll still want to pay the miner a lot of money to get that slot and the burn in 1559 doesn't change that um so there's been different estimates done they vary from 25 of transaction fees burned to 75 so it's extremely hard to you know uh tell you like this this is how much exactly we'll see burned it is like a pretty volatile industry to be mining and sorry one final comment is it's worth noting also for miners if there's some listening um mining will also be ending on ethereum pretty soon right like we are moving to proof of stake you know the most optimistic people are targeting the end of the year maybe more realistic is like early next year worst case is probably you know i don't know mid next year kind of everything goes wrong and we need to fix a bunch of things there's not there's not really a world where there's like proof of work for you know call it more than a year in the most optimistic case on ethereum um and that also factors a lot in like miners decisions to buy equipment and and to get started yeah i mean i've heard like some rumblings that miners might try to keep eip1559 from being adopted but does that look like a likely scenario to you at all so i haven't seen um any kind of proposal to like you know fork ethereum when the london upgrade happens um you know if if miners or part of the community wants to do that like it's their right like you know that's kind of what's nice about blockchains um i think one part here that's really important though is the the power that like all of the ethereum community has to coordinate around what they want to call ethereum um because a lot of basically any project that relies on anything off chain needs to target a specific fork when that happens right like the most obvious example is stuff like uh fiat collateralized stable coins right if there's a fork out ethereum your usdc in a bank like dollars that back the usdc do not double so they need to say this is where it's valid any project that uses just an eth usd price from an oracle also needs to say what's the price that we're looking at um and even things like you know the beacon chain deposit contract right like the beacon chain follows one chain to credit that ether back on onto the begin chain and so they also need to decide which fork they follow and so i think this is something where look you know core developers are obviously putting this upgrade out as i see it there's like tremendous support in the community and it seems like all those projects will will rally around that fork um and if miners or another group wants to uh start their own competing fork like they're free to um and then at that point it becomes you know all these actors that need to coordinate about what they want to support um yeah yeah yeah to be care i'm not aware of such a fork being planned no yeah yeah and it's not as easy as it used to be i need to say it like that but it is because i guess one of the things that that looking back at like the the the dow hard fork that i realized now that i didn't at the time was um it was relatively easy to not you know the coordination is one aspect of it but like you know tell everyone uh that they're gonna double their money right you're gonna have two chains or even 1.5 their money or even maybe 1.2x their money like that's a pretty promising promise for a lot of people um uh especially you know exchanges and stuff um but with this uh the risk is much higher because if you happen to be on the other side of the fork i mean just the the the d5 stuff the stable coins um the interactions between one thing and another um and even if we remove all of that you still have um like the everyone right now is still battling for liquidity on one chain right like you you have all these incentives you have subsidized rewarding you have um you just have all of these different things and if there was a hard fork you would now have all of that plus like times two you know what i mean so it's just the amount of complexity and then the amount of risks actually lose money because you're you're not gonna do extra money you're not gonna 1.2 extra money you might lose your money because this might happen or that might happen or uh this thing that's interacting with usdc here but usdc is on the other chain like it's just there's so many unknowns i honestly at this point think that ethereum is it's not unforkable but like it's i don't think there's a there's a scenario where you can have like a true like chain split like we did in 2016. i really don't think so yeah especially because of composability and defy like so many things would break on that side so yeah i have a i guess i don't know maybe a controversial theater i think that's like that's a good thing like if you are going to support the fork of ethereum i don't think it should be easy to just fork the network because you see that it has like a high potential for scams right and we see this with bitcoin now more than ethereum funnily enough like in 2017 it was you know kind of the opposite criticism but like it's very easy to fork bitcoin because it's just a set of utxos so you have bitcoin gold bitcoin silver and whatnot and people can just fork that to infinity and and and they can like profit off newcomers to the space saying like oh this is the real bitcoin or the better bitcoin like the green bitcoin and and you know like then retail gets dumped on by those projects um i think you know if if you want to fork ethereum because you have like a legit disagreement you know with it i think that's fine but being able to support sort of a defy collapse or like you know having a migration path for it to me seems like one of the many problems you will need to deal with in like you know the next five to ten years of supporting your fork um and and like if you can't even handle that i i don't see how like your fork is gonna be like long-term legitimate obviously there is like a much higher bar for forking but i think it's because the stakes are much higher and and that sort of protects newcomers in the space to some extent where like there's not like a different fork of ethereum every day um yeah so that's yeah yeah yeah really good comments so another issue that muddies this aspect of what it is that miners will earn is what's called minor extractable value or mev and this is value that miners can earn but they do it by reordering or censoring transactions on the blockchain so how do you expect mev to affect minor behavior once eip159 is adopted yeah so um just like as a little bit of background um the reason that we have uh i guess mev is a thing and specifically a thing on ethereum and not so much on other networks is because um the miners can actually get well the people that are using ethereum and using these c5 protocols and using these tokens there's this like additional layer of value and the the risk and the value are very both of them are very very high when you have these layers of interoperability and and defy and um just all the different pieces working together and so what mev is is basically um someone kind of side channeling or back channeling a payment to the minor that isn't necessarily attached their transaction in the traditional way um and the reason that everyone sort of gains from this uh this relationship is because a lot of the the positions that people are entering into or getting out of or arbitraging or whatever they're doing um they they have scenarios where they uh like only want this thing to be mined under this condition they only want it mined in this next block but if it's not in the next block they don't want it to be mined um things like that and so because there's this whole new world with defy they can actually give a higher payment to the miner in returns for sort of these additional assurances which both uh increases their revenue because they can actually you know make these things happen but also it decreases their risk and so if you are like if you look at arbitrage as a business you do want to reduce your risk and you know having a transaction fail when gas prices or transaction fees in general are super high that's a risk and that reduces your revenue which reduces your profits and so on so eip1559 does affect this uh tim do you have insight on how it might affect it yeah so i think you know mvv could be a whole topic for a whole show uh so we'll dive into that too much but the the main uh intersection with 1559 is how much should you pay miners to include non-mev transactions um so at the very beginning you know we talked about how you have your your maximum fee and your priority fee or your tip that goes to the miner um the the obvious ration the obvious reason for that for the the the priority fee is that if the if you burnt a hundred percent of the transaction fees miners would just mine empty blocks forever right uh why would they even bother to try and process your transaction to run a node you know they could just mine empty blocks they're not making more money and reduce their cost um so in times when there's not huge congestions you want the the priority fee that goes to the miner to be just high enough to pay for one like their operational cost of actually maintaining the transaction pool but two the risk of their block being unclear um so on ethereum uh because block times are shorter than bitcoin it happens fairly frequently that two blocks are mined pretty close in time and then uh you know the the chain forks for a short amount of time and then when the next block uh hits it it will decide kind of which of those two blocks was was the right one and the one that isn't in the canonical chain is is what we call uncled um and i mean that's those transactions those transactions don't get executed and the miners get like a much a much smaller reward um and because of that miners want to push their blocks as quickly as possible on the network right because once you have a new block you want to give it to everybody so that they mine on top of you and you don't get on cold um and the size of the block matters here because pushing a bigger block is harder than pushing a smaller block on the network um the more transactions you're gonna fit into a block the more you're gonna want uh you know the more for the miner they need to be paid a lot for that because if they risk losing the law if the block is too big um and where this intersects with mev is because like taylor was saying a lot of these mev transactions are time sensitive and very high value people will be willing to pay the miner a lot of money but only if this transaction happens now and it's included in the canonical chain um so that means that mev kind of changes the the um basically the uncle risk for miners like how bad is it for your block to not be on chain because without mev it was just a function of the block reward right like you get a smaller block reward if if um if you're not included in the main chain and it's very easy to calculate you know how many how frequent are uncles uh based on the size um you know what's the block reward for uncles and so what should the minimum tip be to kind of offset that risk um because mev is variable right like sometimes there's just more opportunities for arbitrage and sometimes not it gets a bit trickier to figure out like what's the minimum tip that you should give um we've come up uh i say we credit goes to barnabay from the ethereum foundation i did not do anything in this um so vardamay has come up with basically a a fancy algorithm that looks at like okay what's the average mev in a block you know what's like uh kind of the 90th percentile mev in the block and based on that and based on how big blocks are what's like the the right default priority fee that you should put in your transaction and it's kind of a long way of saying that over time we're probably going to have to adjust what's the minimum or the default priority fee based on the amount of mev that miners are able to extract um so that's you know it's not once you have the formula for how to do it it's it's not hard you just plug kind of the numbers um but it was a bit of work uh to to actually kind of derive what's the right amount that we should compensate miners so that when they have transact mev transactions in the block they don't just ignore everything else um yeah yeah and this goes to what we were saying earlier about how we don't really know um how much this will affect uh what miners can earn because of um yeah we're not sure exactly how much will be burned of the base fee um all right so last topic and by the way this also could um be its own show and for those of you who listen to a lot of crypto podcasts i'm sure you all know that it is often its own show but we will just touch on it very briefly a lot of people are talking about how um eip1559 and ethereum 2.0 could turn eth into what they're calling sound money and you know what's interesting is as i'm sure you're all well aware for pretty much all of its history ethereum's issuance has always been higher than bitcoins and it looks like that might change after eip1559 so um can both of you talk a little bit about how you think this will change the perception of eth as money i think the most interesting thing about this this is money or ethos sound money or ultrasound money or whatever that narrative i think the most interesting thing about it is that historically yeah bitcoin um bitcoin has sort of looked down on if as as not sound money whatsoever because not only has the issuance been hired but the uh it's been kind of unknown right we can just hard work and change it whenever we want and um etc etc that's been the perception the fact that this narrative is taken off makes total sense in that regard because when you're constantly being attacked uh for a personality trait let's call it if you then like can change it that's like it's you know it's a really valid argument's really valid like slapback uh and then to couple that with the fact that we might actually do better than bitcoin yeah it's it makes sense why the narrative especially on places like twitter is taking off uh that all that said i think that what what people lose sight of a bit is the fact that like these twitter awards or twitter drama or like first bitcoin or whatever like that's still gonna exist you know that that's how arguments on the internet work um it doesn't matter if we have a valid response to the bitcoin maxis they're still gonna find something wrong with ethereum that's how it works so um it'll i guess what i'm watching carefully is how like i'm more interested in how the the bitcoin maximalist argument involves in response to this because for me personally i'm more interested in the narratives and and the people and the interactions than uh whether or not any of this is actually money because uh i think i think everyone has a chance to like i think both bitcoin and have a chance to be money in the future both are well on their way we are not there yet um as much as we want to be we are not there yet that's interesting i actually think they both are money in the sense that people accept them and they have value but anyway all right tim what about you yeah um maybe i can take a minute to talk about like the the numbers behind why people say you know or why it is like ultrasound money uh meme exists um so the idea is like right now the block uh reward on east is uh is two ether block um i think if you look at the number of blocks per day that gives something around like uh i think it was 13 14 000 east per day it changes a bit based on the outcome rewards but you know call it like say 15 000 if you wanted a high round number um it's obviously a very you know high issuance rate higher than bitcoin um and as of today you know it's basically only inflation right like we have no deflationary mechanism in in ethereum um so 1559 like we've talked about at length we'll burn the base fee part of the transaction fee um and that's worth clarifying he doesn't burn the whole fee you know the part that goes to the miners is not burned so if you know depending on on the the breakdown there that that obviously changes the models a lot um but as you know part of the transaction fees get burned it does add like a deflationary pressure that offsets this this issuance that we have um so on proof of work i calculated these numbers a couple weeks ago it might not be 100 right but roughly right i think a base fee of roughly 150 gwei for a 15 million gas block would offset basically the two-week issuance in that block so that means that if we saw you know consistently that the base fee was you know 150 gray and we kept the same issuance on proof of work then you know on average eth would be deflationary and in practice that might vary right like maybe there's a block where like it goes up higher and like that block is inflationary and you can choose whatever time period you want to do that analysis um but that's based on the fact that issuance is quite high because of proof of work when we moved to proof of stake and you know on the beacon chain today issuance is drastically reduced um i forget the numbers exactly again but they're roughly somewhere between 1 8 1 8 and 1 10 even if you assume that there's way more people that stake after the merge um so that means that instead of needing a base fee of 150 to be deflationary you're probably looking at like needing a base you have closer to like 15 way to be deflationary um and so when people kind of say like this ultrasound money narrative that's kind of what they mean it's like on one hand we're going to reduce the issuance a lot by shutting down proof of work um and then on the other hand we're going to have this deflationary pressure that comes from eip 1559. that's kind of a narrative and you know like people like to use it in kind of the the conversations against bitcoiners as taylor mentioned um but yeah i think it's just worth looking at the numbers it's worth mentioning you know 1559 does not make ether deflationary like kind of just by snapping his fingers like you know you need some certain level of demand um and personally i think you know what is really valuable is that over the long term if more people want to use ethereum then yes it does create kind of this pressure on the supply um and again if you think about like how ethereum should work like if you knew nothing about ethereum like it it would make sense to think like as more people want to use ethereum there should be some way for like the network to capture that value right um and that's kind of what 1559 gives it doesn't capture 100 of it a lot of it will still go to miners the validators and whatnot um but it captures kind of you know some portion that means that over the long term like it it's kind of healthy that you know the network can yeah can capture that um and sorry one final comment here it's worth noting like people talking all about the eath price and whatnot and one way to think about the east price is also like the the network value of ethereum is kind of the economic bandwidth we have on the network and because ether is used as collateral and to fund stuff you know the higher the network value it means you know more of the more east more usd value each can be used you know the open loans on d5 to fund projects and stuff like that um so i think beyond like you know just the fact that obviously the price appreciation is nice for holders it's worth noting that like as the total value of ethereum goes up we can just support more things on the network um and that's a really valuable property yeah yeah yeah i i agree with all of that and i find it um the fact that you kind of reverted to more like facts i find that somehow very ethereal foundation-ish because i'm sure you're well aware that you know for a long time they and i'm not sure how it is now but for a long time there were edicts against talking about price too much so um all right so when will eip1559 be adopted we are june 23rd as we're recording this 1559 will go live on robston today so by the time people hear this podcast it will already be live on robston then it's going to go live yeah robson is the proof-of-work test net for ethereum um then it will go live on gordy which is the proof of authority multi-client test net uh for ethereum on june 30th and then it will go live on rinkiby which is our third test net um on july 7th um because this is such a big change we want to wait and see how it goes uh for test nets before we schedule a date for maintenance if i had to guess right now i suspect late july to mid august is kind of the range we're looking at for deployment on mainnet i don't think it would be i don't see a case where like it's earlier than late july if you know we found an issue and whatnot it might be delayed a few weeks the time that we fix it but you know yeah late july august this is when we're looking looking at it all right well thank you both so much for discussing this issue um i know it's been hot topic uh around crypto twitter and elsewhere where can people learn more about each of you and eip 1559 yeah you find me on twitter i'm oh god i'm tavanno t-a-y-v-a-n-o and then an underscore at the end because i need to change that um that's the the best place to find me or at my crypto uh my product is minecrypto.com uh and i love twitter so definitely find me on twitter um and tim's gonna give you a bunch of resources but i will say the best 1559 resource of all the resources is actually this one called the eip 1559 resources list which then has all of the other resources linked to it um maybe we can link it in the show notes or something that's a great idea yeah i'm on twitter as well uh tim baker so at t-i-m-b-e-i-k-o uh so if you have any questions or concerns about 1559 you can reach me there um yeah i do have this hackmd document which is a list of different 1559 resources so just some intro materials if people want to learn about it uh if you're there's sections about miners about ux about econ um so whatever kind of part you're interested in uh there's there should be something there for you so yeah we can definitely add that to the show notes perfect well it's been so great having you both on unchained thank you so much thanks for having me awesome thanks guys have a good one thanks so much for joining us today to learn more more about taylor tim and eip1559 check out the show notes for this episode unchained is produced by me laura shin with help from anthony yoon daniel ness and mark murdock thanks for listening you 