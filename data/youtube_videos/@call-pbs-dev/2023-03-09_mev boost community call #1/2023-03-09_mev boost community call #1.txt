okay uh hi everyone so this is the second Med boost Community call we'll call it map boost Community call number one because I started zero indexing them and the agenda is in the chat uh let's see here not well we'll see how much we get through um could be a lot depending on the conversations we get into uh the first thing we want to do is go over uh you know upcoming hard Fork Readiness for capella so we just had the sepolia hard fork and I think it went pretty well I don't know if anyone here wants to add anything else to how that went maybe Chris if you uh have any color on that sorry can you repeat the question yeah just how How would how do things go for uh the spolio fork yeah first of all the Advent well our uh stacked worked um there really was yeah from our end on the relay main branch everything is working math boost has a release out and Alpha release that is also linked that I will post a link in the chat here too um we had an issue setting the correct Shanghai override so it only worked a few hours later and I will also link that document again where we summarize the acapella changes but all all this in order from our stack we are in the process of merging like Builder and prism into the the default branches but both my Boost and really if this is already done okay great so yeah after we fix the coordination issues or sorry configuration issues uh everything seemed to be working fine with uh recipolia yep I'd be expected will be on call it too like everything code wise is already predefinalized we are investigating updating to the latest get version but that's not necessarily not necessary on the Builder but you need to set this on however right then manually [Music] latest on Monday okay sounds good um so yeah I think that's probably it for sepulia so we'll just keep moving right into gorley um yeah so this uh hard Fork is on the 14th so just a few days here and yeah again any uh relay operators in the crowd on the last call we had said basically we'd use this call to uh you know do any coordination required for Gurley um are there any relays here who want to chime in uh about that do you feel ready do you not know what you need to do um it sounds like Chris has notes on you know which releases to use and and how to do the upgrade um if you're using the Posh plus relay anything one anyone wants to add hey sure um yeah so it seems uh yeah it's Austin um Asus relay um so it sounds like the uh Med boost relay code is good to go I have been following that pretty closely um I'm a little more uncertain about the block validation guest status I saw there is a um shapella fork or a branch um but so hearing from Chris now that uh it's not this is not necessarily um necessary to uh have Geth updated for that just wondering a little more details there yeah I can add to that on our test Nets we are using the Builder code base as a validation node and the builder at the same time so you can enable the validation logic in the Builder project itself um I will double check if the validation GIF repository is also updated but what is for sure working is the Builder Repository in particular the capella tree let me link that here so you can you can use the capella tree of the Builder to run it as a block validation Gap okay got it will this be the uh the main source or validation moving ahead um is should I consider block validation gath to be kind of deprecated at this point we have internality bits going on whether we want to maintain two repositories that are like largely overlapping but not quite or if we are fine with having the additional Builder overhead in the code also running as a part of the validation gap which would simplify the maintenance and like upgrading but it's not decided yet I would recommend Randy Builder uh project got it thank you hey Chris you said you put together a document or at least maybe that's already put together and you'll share a link to the documents uh with like what exactly relays need to do okay great yeah I will try to write this up a bit more concisely even just for really operators specifically keep in mind that you also need the flashbots prism Fork because we implemented the get withdrawals endpoint that you kind of wanted really to validate that the withdrawals are correct and this is a temporary solution until the SSE events are implemented in hopefully a few weeks until then our really copies at least needs this prison Fork to provide the withdrawals okay and to be clear uh will anyone need to supply like a Shanghai override or something like that or if they use the right branches and releases then everything will be good to go on prism it's good to go yeah yeah I I will post more updates we are currently not yet on the latest get release that wouldn't require the Shanghai override um I will certainly post an update uh tomorrow about the details okay yeah that works yeah so just to elaborate uh basically like the the Gorly configuration is hard-coded in later Geth releases the voter code sounds like it's not uh you know using that yet um Chris will make it clear it sounds like how to have the configuration done in time and yeah okay so sounds like the code is pretty ready to go uh again if you're a really operator hopefully you are listening and you feel prepared um if you don't I guess Reach Out um to me or someone of flashbots or someone else you you trust to help with this and yeah I mean it should be pretty exciting um one question I could ask is how we want to think about testing this um well we just look at the usual boost metrics and see that it works I don't know if anyone has thoughts on that I guess relays will know quickly if uh everything stops working at the fork yeah right the release internally will throw arrows if there is something not working or pillow submission is not accepted and I think paritosh runs a large number of golly proposals so whatever release are configured there we should also be quick to know any issues that that arise from through parotosh right yeah that's a good point I don't think Paris on this quality no that's okay but I can follow up with him um yeah okay great so I don't know anything else for gorley does everyone feel ready I think I think that's pretty much it it sounds like uh there might be a few more details on uh you know the exact software releases and how to run them that Chris will work on but otherwise sounds like we're ready to go I have a question what's the best Communication channel for the relayer these days say today if I have an alert system it's going off I see a bunch of amazing blog I want to look at some related channels and see whether they have recorded anything where um where's the best place for that where are the winners hanging out yeah that's a good question uh someone here wants to chime in my understanding is that most relays have some sort of web interface you know like just their website and uh perhaps there's like a status page link from there um but I think it's pretty up to the relays as like how they communicate some of them may not um separately if you see something and want to just alert everyone I suggest using uh maybe the eth r d Discord Channel or maybe the flash watch channel one of these to try and get in front of relays but that being said do any relays on the call have uh have anything more specific here there is a relay channel on the flash Sports Discord that I constantly monitor foreign Ty channel is also a place that all the relays are um aware of okay so yeah flash plus relay channel do we know exactly the name of that one relays okay on the general anyway okay um great I can grab a link to that in the notes after and I'll grab a link to The Ether D Channel block construction and one thing to consider I mean this might just be some like async coordination we can do but uh we can consider like a mailing list of sorts for like sort of critical issues I know this is something a lot of the client teams do both at the Al and cl layer and this could be just like one quick way to get very urgent things in front of everyone as we need to uh Thanks Max there's a link in the chat um cool so anything else on chappella Alex asked in the chat about this email list uh we wouldn't just need to make one and like people could subscribe as they want to ah the name I will let uh I'll let you come up with one so okay that sounds pretty good I think the next Point uh we'll move to is the optimistic relay um I don't know if Justin or Mike if you want to give an update on where things are out there I think there's been a lot of progress since last call maybe something is uh on the way to be rolled out yeah um I can give a quick update here I'm on the road so hopefully there's not too much background noise I'm in an Uber but yeah I guess just so everyone's on the same page let me link to the pr here so this is this is kind of the context here again for anyone who wasn't in the last call um this is a change we're proposing for relays where instead of validating the block submissions as they come in and before they're before marking those bids eligible to win the auction we defer that block validation till later this should hopefully improve the block submission block submission latency so yeah we have um I guess in terms of status we're getting close to launching in prod we've been running in Gurley quite smoothly um we're just working out the last details of of getting the the code read based onto the capella changes um we've been in contact with a few Builders who are interested in kind of piloting for us and have have some kind of initial interest there um yeah I guess the one other link I wanted to kind of plug Justin um Justin link the Builder onboarding doc so that um can show what the process is I guess on the Builder's side as far as posting collateral and kind of signing up for this for this role of optimistic relay and the last thing I wanted to share was a kind of broader road map let me copy this link in that we've been working on and this hopefully should help contextualize what what we think of optimistic relaying and how it fits in the broader in trying to PBS landscape so yeah that's kind of the update on our end we're thinking um hopefully next week we'll we'll have some optimistic moving begin that might shift depending on if if we can make sure that everything is is working on the software side but yeah I guess that's the main update do you have anything to add there Justin yeah I guess uh one thing that we've been doing is trying to dramatically reduce the amount of simulation errors that we're seeing on the relay and there's kind of two things that we've done number one is that we've found various edge cases in the relay infrastructure that lead to simulation errors which shouldn't happen so for example there was an artificial constraint on the Block size um you know you there were blocks that were valid blocks that were just being kind of considered to be invalid because of of their size so that that should kind of actually improve the liveness of ethereum it means that these bigger blocks will will make it Unchained more easily going going forward but there's a kind of a long tail of such edge cases that we found um you know maybe 10 or so that were in the process of of fixing or have already fixed and we're pushing some PRS Upstream to the flashbots repo well to to reduce these edge cases and then another set of of edge cases is on the Builder side so it turns out that various Builders have bugs in the sense that when they create their blocks just some some issues with them and so what we've done is we have a very meticulously gone through every single error from the on the Builder side and kind of told them about these errors um I'm in contact with most Builders but there's a few Builders I don't have contact details of so if you're a builder that I haven't approached yet please contact me because it's you know more likely than not that you are producing uh some some invalid blocks um and so this should kind of help the whole ecosystem I guess because uh it means that there's less spam on the relays and the things kind of run smoother and then generally speaking the signal to noise is is is higher and all of this work is kind of a part of the the leg work to to get optimistic relaying running where basically we don't want any uh any simulation errors but one thing I do want to highlight again is that if there is a builder bug more likely than not it will be caught extremely early and lead to an early demotion without um kind of a bad block ever winning uh the auction so I'm I'm still not expecting a bad bad bad bids to to lead to on-chain incidents with a Miss lot but if if that were to happen as described in the in the dock that I linked uh we're gonna write a postmortem which will be public so basically we're trying to be as transparent as possible about these these unchain events and they should happen you know exceedingly rarely and from experiments on growly it sounds like you haven't really run into too many issues yeah right so basically we've been running um addressing some of these simulation errors either on the relay end or on the Builder end um and now we have you know several days worth of blocks thousands and thousands of submissions without any simulation errors so we're we're pretty confident that the fixes are are doing are working as intended and yeah just kind of upstreaming which ones seem relevant making tweaks on the relay on our end and um kind of communicating with Builders if if it seems to be on the Builder end yeah I mean that approach sounds good I think at a high level uh definitely I think uh if one of you can call out these different PRS uh to the relay code at least that would be really good just so that we could get more eyes on it um you know I understand there can be edge cases but we should just make sure there are reasons to you know remove these edge cases and they weren't there for a good reason in the first place for sure yeah um I'm away from my computer but I'll call you can share them okay yeah great um yeah so that's all exciting to hear um I think another big question is like upstreaming the whole optimistic relay into the mainstream flashbots relay code last time there is I think maybe some discussion around was this a good idea is it's not a good idea um I don't know if anyone here on the call wants to chime in further on that I believe that's still the plan of uh of the ultrasound team is to Upstream this code so one data point that I want to put forward so if you go on the relay.network slash Builders it's a new dashboard that's been built by the the the rated.network uh guys and um basically what they do is that for every Builder they show the relay distribution of of winning blocks and it's very interesting and one one data point that really stands out to me is the the fourth row blocks route if you look at blocks route 96.6 sorry Justin what was the link uh let me put it in the uh okay I tried to go to what you I thought you said ah okay thank you yeah rated.network which generally speaking is an amazing website uh and they they have this new uh data on builders so the the data point I want to highlight is is actually I'll just uh share this so people can see I think that might be helpful uh can people see my screen there yes okay so yeah yeah we can see on this fourth row blocks route it's very different from the other rows so blocks route is the Builder is connected to many different relays it's connected to flashbots to ultrasound to agnostic and and and to their own relay but as you can see the blue portion which is the blocks route portion it's a 96.6 percent most of their blocks are actually being won by their own relay now I don't know 100 for sure but my suspicion is that there is some vertical integration going on whereby the relay is not simulating the or I should say re-simulating the the blocks um that come from from the Builder and so basically they're running in optimistic mode essentially uh and that's kind of the the reason why I want to bring this up is I just want to highlight the power of optimistic relaying it just really dramatically changes the the equation so the one what I think will happen is that once we set up optimistic relaying for some of these builders the optimistic real the ultrasound relay is basically going to be winning most of the auctions and so it's kind of almost going to be a forcing function for the whole ecosystem to move on to optimistic relaying um and so that might be a good reason to eventually at least um merge in the the optimistic relaying logic in the the flashbots repo okay so at least from my perspective I think we're definitely open to having the conversation about upstreaming I think it's like an early stage conversation to me like I think the work and the experimentation that's going on is super interesting um I think our worry or concerns would be like more from the market integrity and like Market structure side and like you know we kind of view our role in the Mev boost ecosystem and Mev in general as as kind of uh um you know standard setting in some way um and so we have to think through like what are all the possible effects on on Market structure and like the key kind of vector that I would be thinking about that through myself is like centralization uh what are the additional like centralization pressures of like Capital requirements and also like you know possibly like uh opening new games versus by making like certain changes to the relay so like I think we do need to do that analysis and have those conversations but it's like we've just started thinking about this stuff and like putting out content and engaging with the people who are working on it so I see it as like a starting point we're definitely not against upstreaming it especially you know um if like some of these concerns can be can be mitigated or resolved like a few practical concerns I have like that are low hanging fruit one is I would still like very strongly advocate for including a path to win a full block without needing uh collateral um I think there's many like I think preserving like the one-off permissionless nature of like block construction and allowing for re-simulation is an important Market property to like allow for new entrants basically and people who have edges that are like not latency related Etc to like enter the market um so I think that's like a low hanging fruit but then there's like some deeper questions around like collateral latency upstreaming into L1 Etc and like I think those are still early researchy kind of questions and like I do appreciate uh everyone who's who's been like providing content I am reading it and thinking about this myself now also um yeah I guess is there anything else to say on that front not really I guess my long-term dream this is somewhat relevant for Mev boost is to move towards a relayless system is like my meme um and that's not obviously there will always be like relays from like a network perspective but I don't think we should have like trusted parties that exert any centralization pressure in like a network role called quote unquote relay and that includes flashbots like I would like to eventually the goal would be to deprecate that functionality um so the other angle other than decentralization pressure that I would want to reason about this through is like does this require any changes that would obviate our ability to like later Upstream this role or whatever else we want to do with it does it kind of remove any flexibility from that boost development there so those are kind of my angles I wish I had a better answer but like I'm thinking about it very hard and like I'm sure the next month will be interesting in exploring these things so a couple points on whether you brought up I think number one is the low hanging fruit that you highlighted has already been picked so by default uh Builders are in the non-optimistic mode meaning that they don't need any collateral and that will always be the case um it you can think of the optimistic mode as being kind of an ultra high priority queue so we already have the low priority higher priority and then there's kind of this optimistic priority which is a kind of a new priority setting almost um and it's it's opt-in um and right now we're capping the amount of collateral to one Eve to try and and keep the the collateral requirements uh very low and one nif is actually sufficient to capture the the vast majority of blocks from a from a quantitative standpoint yeah yeah I think that's great and I think the low hanging fruit uh great to hear that and I think the low hanging fruit approach is great and like we do also need to take into account Mev is super spiky and there will be like many Black Swan blocks for which the validator does really want to like check with high Assurance because there's significant incentive to cheat them um so I I would want to preserve that just for network robustness but it sounds like that's already in there um so I think that's that's good I do still worry about the centralizing effect of like having this more privileged set that's like my vague fear but I don't think it's like a total deal breaker or anything just something said to reason right so on the point of the spikiness uh Whenever there is a block with more than one info value in the bid that gets simulated the current way it's not optimistically relayed and the reason right okay um and I guess you know what the thing that we're trying to optimize for is um you know more blocks being relayed by by non-censoring relays and uh what one of the reasons why uh you know you're talking about changes in Market structure uh optimistic relaying is pretty bad for censoring relays and the reason is that in order to know whether or not you want to censor a block you need to simulate it I mean you can do some you know string matching and and look at sender addresses and recipient addresses uh without simulation but that that won't give you like the Deep cool stack inspection that is currently happening on on sanitary relays and then there's a optimistic version V2 where basically where we will optimistically relay bids without even downloading the data so it turns out that it takes about 100 milliseconds just to download the block as the bits and bytes and so with optimistic reading a V2 which has already been implemented um you're saving 100 milliseconds and that really completely removes the censorship opportunity even for the easy strength matching on the the sender and recipient um addresses um now another kind of big Market structure that we want to push for and is the one you've highlighted is this this dream of removing the relays all together and you know from a EF research perspective the way that we achieve this dream is through and trying PBS and actually uh we we made a hire recently we hired Mike to join different Foundation his first day was on the the first of March nine days ago um and his title is enshrined PBS coordinator so his sole mission is you know in a way to remove the need for relays and and we we kind of see optimistic relaying as steps towards and Shrine PBS because what is enshrine PBS it's basically just the removal of of the relays and optimistic relaying is the partial removal of relay so the removal of the relay from the simulation standpoint in V1 the removal of the relay and even downloading the data and verifying the availability of the the payload is V2 and then we have this V3 version of optimistic relaying where the critical path from a networking networking perspective doesn't even involve the relay there's a there can be a direct you know TCP connection from the Builder to the proposer and the relay only Acts as a date availability Oracle And as a mediator and a custodian of the collateral but in in in no way is it in in the critical path and that's essentially what uh enshrine PBS is except that with Android PBS the custodian is the beacon chain itself and the data availability Oracle is a committee a trustless committee instead of being a a trusted relay that acts as the the oracle and so we kind of see um optimistic relaying as being an accelerationism um for for the for entering PDS and the removal of relays yeah I mean I fully buy into the narrative I just worry more about like the Practical um details of it um so for example like you know I I agree like it's great to kind of make changes that make censorship more difficult um I think if we were to actually entrench ourselves let's say we're in a world where like nav boost reaches some sub-optimal moloch the way like Bitcoin development has or like ethl1 did for a while and like we're stuck with the med boost status quo and like enshrine PBS takes a long time um you know we still do need to like consider the current market structure and I'm not sure like if we freeze that game theory if this change actually does necessarily penalize like is is good for Market structure like vis-a-vis censorship I think maybe it is maybe it's not I'm like less strongly convinced than you are because for example it may just let's say like the censoring actors like really really like you know cannot cannot comply with anything other than censorship right I'm not saying this is the case this is not flashblock's opinion I'm just gaming out some Game Theory with you here right then like you may in this change kind of require more of a permission list or side Channel validation of sensor transactions or something like that or like different forms of liability on the Builder or Etc like Regulators may look at different aspects of the stack so I think from a technical perspective it does make censorship part harder in some ways it's like from my analysis I'm very hesitant to project that out so like we end up in an economic game with like less actual censorship so like and again I'm not saying it will have more censorship that's also not what I'm saying I'm just saying like the effect seems less clear to me um than it would to you um I do think like we will analyze this so like I will commit to the next month I'll work on this and kind of come up with some opinion on like you know do I feel this is like uh are there any clear like centralization risks for the market structure or anything like that if there aren't and like I don't see any like I'm I would personally support upstreaming the change and like my my North Star there would be like let's make sure we don't remove any optionality from like in Shrine PBS because I think in Shrine PBS like we all agree on this call is like the most important thing that we're iterating towards as like a meth boost community and like protecting that is like by far the most important goal at least for me um so yeah assuming like uh I'll I'll do some thinking on it and I would at least support it if if it does kind of play out in like the game theory I see as like this path to enshrine PBS and it does make censorship more difficult I think those are all great things on the topic of censorship um the ultrasound team has uh recently deployed some some new dashboards that provide uh kind of insights so if you go to relay.ultrasound the money and you scroll down a little bit um there's a relay censorship dashboard um Lido operator censorship dashboard we started with Lido because Lido had a grant but we will expand this to more operators and build a censorship so for example on the Builder side of things we tell you how many Pub Keys each Builder has and also how many of these Pub keys are censoring and we tell you the dominance and things like that and we we also look at the impact of censorship on on the network so in the last seven days 326 transactions suffered a delay from apprenticeship and the average delay was 48.8 seconds so it's like from a in the grand scheme of things the the actual impact of censorship is very very low nowadays but at least now we have the data so that we can you know how do you calculate the uh the delay so we have um mempool data which basically looks at when a transaction is first seen on the mempool in three different geographies so Asia us and EU um and then we look at the timestamp of when the transaction was actually confirmed and we we take the Delta between uh between these timestamps so I I would say that's like not an entirely accurate statistic and actually the delay is probably much better than that because what you really need to look at is like when would it otherwise have been mined so like I would suggest refining the statistic as like when is there a different bid for that relay slot that would have had that transaction that got beaten by a censored block and then what's the Delta from like that block being mined to the block where the sensor transaction eventually gets mined basically yeah that's exactly right so what you're saying is that the the delay should be computed in blocks basically where the transaction could have been included but for some reason it was not included I also like doing it in seconds but just like at the Block Level yeah yeah for sure so we actually prioritized the in one of the widgets if you search for TX delay it's kind of on the right it tells you one block two block one block so we actually measure the the delay in blocks and we also tell you the delay in seconds um but yeah and then if you if you scroll to towards the the bottom of the website you actually can see um the delay in blocks so if you unselect the on sanctions and you only have the sanctioned ones you'll see the the the the delayed transactions there 326 transactions and for each one you have a a delay in blocks please I think that's super interesting thanks for building that yeah so now at least from a data standpoint we have built a database which has all the metadata that we could think could be relevant we have for each block who was the proposer who was the builder which relays relay that block and we also know if it contains uh o5 or other other transactions that may be censored and we also have all the mempool data so if you want to do some data analysis we've done the the heavy lifting of building the database and uh we we can give you access to the to the database to run your own queries yeah it's really exciting uh Julian you had a hand uh yes um so I remember on the last call we had um some relay operators to uh kind of Express concerns about the additional responsibilities that uh upstreaming this change would incur for them so things like holding collateral managing dot on potential legal implications because of that so I was just wondering if any any of those people are here today and would like to talk about like what this change would mean for them um that seems to me like something that should be taken into consideration you know whether streaming this is going to kind of effect who is able to run relays at the moment hi everyone I can probably pick up uh Max from acet we've been thinking about the or stuff pretty carefully we've had a couple of chats with Justin about it um I think similar to others I feel this is inevitable because that latency path it wants to be optimized and in many ways we're supportive because it will reduce a relays operating costs much of which is is the simulation stuff um on the other hand there are some Dynamics at play here um which Phil pointed out to do is around centralization some of them are pretty difficult to reason about at the moment but certainly on the relay side you know we effectively become um a financial entity which is responsible for some kind of collateral and are there AML are there kyc requirements we're not really clear about that we're not lawyers so on one hand you can see that it can reduce censorship but on the other it puts the relay in a bit of a bind of a position because it's not really clear who the builders are so what we think will likely happen here is that you'll end up forming quite tight coupling relationships between relays and builders in order to try and navigate some of these additional responsibilities and and that does have a tendency to kind of create barriers to entry on both sides of this and it yeah it may reduce some some of the network resilience we've seen where a builder is shooting out blocks to multiple reloads at once um but we haven't got to the end of this and I'm and we're thinking about it a lot still we'll publish something soon so yeah I think those are great points would just love to point out some potential collaborations that I think we love on our side one of them is on the data that you were talking about Justin which is like can we help like analyze refine create more dashboards uh collaborate somehow on that um I think we want we're doing like many things on the data side so happy to see if that makes sense um and also um on yeah I think I think Max was the one who was just talking about the the relay and I think we should definitely I think those are all amazing points on like the market structure the different requirements for the roles um I was speaking more from like a technologist Network point of view but I think those things also need to be carefully thought through and would be happy to have more conversations about that too thank you so full disclosure um so we we've been talking to a lot of Builders about this um and so far on the Builder side of things there's a lot of excitement but there there was one exception so one of the builders one of the smaller builders uh and uh I'd say a more conservative jurisdiction uh told us that um you know from from their perspective it might create a like more accounting like headaches um and or you know there's some legal questions um you know precisely around you know this idea of standing collateral to us and they kind of suggested that in order to send money to us there would need to be some sort of contract legal contract um now you know the ultrasound relay operators is is not Incorporated you know with just a bunch of of you know random people on the internet um so you know in in terms of setting up contracts it's not not necessarily straightforward it's not necessarily something that we want to do um but yeah just wanted to point out that actually this concern on the relay side is also an existing concern for at least one of the builders yeah so we wouldn't want to make it harder for a bunch of random dudes on the internet to start a new relay which is you know what you all have done and I think it's been super valuable and like I definitely want to protect that ability on both the relay and Builder side maybe along these lines um in the current uh optimistic relaying Builder onboarding guide um this it seems like it's a pretty manual process right now which involves the Builder just posting one eighth of collateral to um relate ultrasound.heath um which I haven't checked if that's just a a regular address or uh if there's some kind of contract there um what are the current thoughts around the long-term future of this um if enshrined PBS is a long ways out um are there some kinds of solutions that would involve some more complicated system like a some sort of a multi-sig but successful from multiple relays or or a contract of of some sort that if maybe some of the responsibility for holding the collateral or um authorizing the payouts to proposers if that were offloaded to some other group of entities um could there be some reduction in the legal concerns or or possibly uh make things simpler from a technical technically onboarding more relays into the process right so right now relay the or standard if um doesn't point to anything uh it will point to a simple eoa um not a contract um in terms of fancy things uh yes you can have a multi-sig you can also have very simply a standard address no multi-sig it's just that the uh the custodian is some third party custodian um and you know if someone wants to step up you know someone with reputation you know maybe if a scan or I don't know rocket pool or I have no idea they're just trusted entities want to step up as relay custodians I think that could be a new role which is created which could help reduce some of the concerns for the for the Relay operators that don't want to touch the financial side at all foreign I mean on that note we're actually also happy to be a custodian for other relays um so we're we're happy to to hold custody of funds for uh for for your relay and um I think what I what I also uh told you is uh we we're actually happy to be a guarantor for most of the builders so what do I mean by guarantor I mean that um we would actually provide collateral for the Builder or using our own funds so we wouldn't be receiving like funds externally we'll just be putting our own collateral just because we trust most of the builders we believe that the reputation of a builder is worth orders of magnitude War more than one if and so if and when there is an event for example a build a bug um then the the Builder would be more than happy to to directly refund the proposer as opposed to burning their reputation and and running away with this one bad block um so we're happy to be a guarantor um which means that uh you know if you trust us then you actually don't don't need to receive collateral from uh from from the builders and if if and when a bad block happens again you don't need to touch any money and the reason is that the Builder can directly you know refund the The Proposal fee recipient so it's a direct transfer from the Builder to the proposer and the relay does not need to be a financial intermediary in that transaction I think it's worth calling out their smart contract designs different things we could do on chain that move you know a lot of this responsibility away from centralized parties like for example uh the ultrasound team um and yeah that being said I think it then comes down to jurisdiction as to like what it actually means to like custodian you know custody funds uh here or there and anyway yeah it's it's definitely an interesting question uh there are two hands uh I think Alex was up and then we'll go to Phil thanks um I guess this is a question for for Justin and Mike I'm looking at the uh towards and Shrine PBS an optimistic roadmap from from Mike I'm trying to ascertain at which point would you not have this escrow anymore just like centralized escort anymore it sounds like it's in it exists in multiple steps right yeah so we would need the escort in all three of I guess V1 V2 and V3 as described in that document there um the reason being even in V3 where the optimistic relay is just behaving as essentially an oracle for the both the header appearing um the sign header appearing on time and then the the block body appearing on time um if either of those I guess if the if the Builder commits a header that wins but doesn't publish the block on time then the proposer is is still missing that slot so they need to be refunded um so basically even in that case where the the messages are happening over the the gossip Channel over the P2P layer and the the relay is just observing the the mempool at this point or the the P2P layer um the relay still needs to hold that collateral in case that uh the block isn't published on time so yeah kind of all all three of the iterations require that collateral still being there so maybe excuse this stupid question and follow up here but once you go to epbs and you have a committee do you expect the committee to be holding the collateral so in in epbs um I guess that this behaves slightly differently in that um if you know the there'll be they'll need to be some form of of unconditional payment basically and if the um if the Builder submits a block or a bid that gets signed and doesn't get produced then um that's only gonna damage the Builder right like so whatever mechanism we end up doing in epbs the The Proposal won't necessarily need to be refunded it'll just be an unconditional payment um from the Builder is that does that answer your question I'm not sure if I'm understanding it quite right but another one the beacon chain is holding the the collateral the beacon chain itself is a trustless custodian okay um I have more questions but I guess there's others on the call I'll ask you thank you both yeah and I think we can uh again have a follow-up call we can probably dig into some more of these details specifically there but that being said let's keep things moving uh Phil I think you had to end up but you took it down did you have anything you want I did I forgot what I wanted to say it's great uh Chris yeah I just wanted to ask photos for your opinion because you have been uh commenting on the prs2 and seeing their strong opinions and would love to hear you maybe outline your way of thinking about this sure I'm not sure if I am neutered or not um uh yeah so we uh I have a personal and an arbitrum uh different opinion on this so let me tell you what uh I think it heals this uh if we didn't have PBS at all if we didn't have flash votes and we didn't have map boost and I wanted to submit a Blog with a transaction that someone didn't want it to be Unchained then unless you hold a lot of stake uh and I am a proposition and I am proposing this transaction and you need to hold a lot of stake to be able to Fork it out so for my blog to not appear on chain you either are the next Proposal with a lot of stake and try to Fork it out or you hold a lot of stake to be able to Fork out several blocks in a row uh with uh flashpots now with the sort of PBS that we have at this moment uh the relayer can cheat you and the relayer can tell you uh I'm gonna produce for you A Blog that is going to not trigger whatever form you have of going back to local execution for example we would go back to local execution if the local payload would pay us more so if there is a transaction that wants to be censored and it's been a lot and the Builder wants to censor it uh it won't be able because a relayer would just check uh what that the bid has to be high enough uh but then really you can lie to us and the relay cannot produce the block and then we're placing a trust assumption on the relay with optimistic relay distrust assumption goes to the Builder and this is this is a killer for many many reasons because now any Builder that wants to censor a transaction will just have to stake one it uh paid whatever bid is or trigger whatever save Salvage we have on our clients to go call back to for local execution it will just produce an invalid block slashing himself one if and Eclipse a block that would not be possible otherwise uh that so this is in General on this skills a lot of statistical analysis that we want to do on on chain for L1 but now speaking as an employee of an L2 let me tell you what is the application that we want to have this and why Roll-Ups need this uh yes you could do that one off and let me tell you why one off is already good enough uh a very simple statistical analysis says that if you hold 60 or less of the state which is already a lot so so that means 60 of people are willing to Fork blocks and ninety percent of people are willing to censor so these are very very strong numbers even under those circumstances in less than half an hour under those circumstances only ten percent of people are not censoring and 40 percent of people or less or more are not willing to Fork under those circumstances you would see two blocks in a row missing in a period of less than half an hour this is without optimistic relay without the music relay this does not need to happen because just adopt the Builder which is slash himself one if and just produce another Builder and slash himself one in and the problem with this is that if a roll-up wants to reduce the challenge period by this statistical analysis to save half an hour one hour then the sequencer himself can actually just produce himself as a builder slash himself choose a couple of it and take out a billion dollars from the from the roller so this this I think is something that kills it moves trans assumptions from the relay at this moment to the Builder and this is unacceptable I mean I don't completely understand because if a builder wants to uh basically censor one's one block the next block they just need to pay a bribe to be the top bed and then they can make an empty block or whatever uh or even you know even better they they create a block which does extract me view and and doesn't include the one transaction that they want to censor so it it just seems very sub-optimal to uh to create a battery right but they need to do this they need to trigger they need to avoid triggering the they need to avoid triggering the local execution changes that we want so for example if we have inclusion lists then we would want them to be enforced uh that would be one thing the other one would be just if we we we see a transaction we we see that the a transaction in Spain a lot or that the B this Spain um I'm sorry the local payload is playing a lot then the Builder was was going to have to pay more than whatever the local payload is paying okay so you're assuming a world where there's some sort of inclusion list which is implemented oh that would be optimal but even without inclusion list already this would work just I want to fall back whenever the bid is not high enough this would force the Builder to pay as high as the sensor the sensoring transaction is willing to pay at least this much that is already the case no well uh in this now if the Builder doesn't want to play this and he cannot get away with this but with your system the Builder is going to have to pay it up to one each because he could just lie what is the bid and not produce any block and since the block or produce an invalid block and since the block has not been checked this puts a bound on the number on the amount of money that he has to pay I I don't completely understand even with optimistic relaying um you know if the sensor transaction is willing to pay X if to be included then uh the bid needs to be at least you know greater than than x if optimistic ruling the Builder can send you the bid and say I'm gonna pay 32 if no never pay it no that doesn't work and the reason is because if x is greater than one if one if being the amount of collateral that we're capping at at the moment then we fall back to the full simulation so in that case uh so you will not accept uh up so at least we're okay so this is better so we're putting a cap on the amount of on the bid that the Builder had well this is necessary because if someone bids a million if then you know we we need a guarantee that they can pay the million if okay at least this kills that uh and it leaves me with the the point that it's impossible to implement inclusion lists but at least that's that kills one of the attacking The Grieving vectors but you see but you see what my my endpoint is that with this system a builder can Eclipse a block which I'm hoping that we would we would eventually have systems that a builder cannot arbitrarily prevent a block from being produced right I understand your your end game I also understand your use case with uh you know as a layer two and an arbitrary like my understanding is that uh you know aubergine has a seven day you know challenge period and uh you know if if even you know ten percent of of the validators don't use a map boost then you know you're going to get inclusion of your block of your of your fraud proof extremely quickly but I I do understand your your goal now and I'll think about it yeah it's not even for for it's not even for this this is about creating a censorship on chain a sensor Oracle and chain and there's a big difference between like 700 or 800 blocks missing assuming arbitrary 14 to 130 blocks missing assuming not arbitrary parking uh but also for Concepts that would be very useful and change the notion of safe head also is much better without Builders without the trust assumption on Builders versus uh validators being able to Eclipse arbitrary blocks it's much easier to prove that the last head is actually not workable without optimistic relay so this kind of things I think should be thought more and it should be there should be a public discussion and not in Channels with 24 people like this one uh about optimistic relay this should be the full community involved in this because I do think that actually it increa it may decrease the censoring of of fat transactions and we might see tornado cash transactions getting at earlier but I think it's it prevents uh it doesn't help on censorship where we're censoring particular transactions might be more expensive so I don't think it changes anything um you know if we were to have it tomorrow it wouldn't change anything but uh happy to hear counter Arguments for sure and to chime in with the other point POTUS like this is a public call anyone can attend uh we're recording them trying to like get them as widely distributed as possible so I think this is a good forum for having these conversations um yeah you know if there are other people you think should be involved or see this feel free to direct them here okay so we have about 30 minutes left are there any other topics on the optimistic relay we want to discuss right now uh it sounds like you know there's been a lot of thought around the design there's a rollout on Gurley and it sounds like uh there's there'll be a gradual scale up um and we'll just gather more data see how that goes um yeah it's been a really great conversation and obviously it looks like there are other things to consider and that's why we're here is to find those points and and make that happen so yeah there was one of their point uh to bring up again this is maybe more for the relays and I'm not sure what representation we have uh and it was essentially around relay sustainability so right now relays uh basically run this as just a pure cost uh there's no funding model or sustainability model and many of the early teams have reached out to me uh wanting to discuss this and uh yeah brainstorm ways to to make this sustainable in the long run because while we all are working towards epbs I could very much be the case that we have the Memphis Market structure we have today for you know the next year if not several years so it's definitely important uh are any relays on the call who wanted to chime in on this point so my my point of view is that um you know I try and make an assessment of the cost I agree that it is a public good that needs to be funded by public good funding and then the question is how much does it cost and my rough estimate is a hundred thousand dollars per year per relay so if we have uh 10 relay operators which we don't we have a bit less than that um and it takes three years which I think is reasonably conservative well okay let's be extra conservative let's say it takes five years to get to and trying PBS then you know five times ten times a hundred thousand dollars that's five million dollars which in the grand scheme of things is not a large amount of public goods funding especially if it's a a cost that's spread out over five years um and I think what we've seen is that we already have funders right we already have for example flashbots which is funding its own relay and effectively is providing Publix good funding for for its own relay same for ultrasound same for Estes same for agnostic and you know these could be different entities for agnostic it turns out it's it's gnosis who has you know a large Treasury um and you know in some cases it it's individuals funding this in some cases it's institutions but I don't think we have a public skilled funding problem partly because uh the amounts are relatively small for our space um and because you know empirically we've seen that uh for several months now these relays are being funded yeah I think that makes a lot of sense uh Justin do you have any thoughts on relays charging for their services because then at that point we can move out of the domain of public goods have this be more you know a very typical business charge for API access or something like this yeah I think it's very difficult because there is this race to the to zero in terms of of fees and if you if you start charging then you have fewer Builders and and you start losing and I think some some of the relay operators you know kind of don't want to charge though we don't want to charge maybe flash boss doesn't want to charge and then it becomes very difficult to compete versus a relay that that doesn't want to charge I also think that just do going through the work of you know being a financial institution that's you know to the previous point of all the AMA AML and kyc now you need to start receiving funds from these unknown Builders blah blah blah I think this is a much more you know relevant Point than than the collateral which is just meant to be sitting there and returned after a period of time uh basically not not going to a third party it's just being returned to the sender um and also just the engineering work of setting up all the everything is sounds a little just you know not not worth not worth the effort and also from our perspective you know the ocean project is about building you know public goods and and we don't it's not really in our ethos to be uh to be charging for this yeah I mean I think that all makes sense um to the extent that you know different organizations will want to provide us as a public good then there will be really options that do not charge and then it does also enforce this sort of ceiling almost of zero of what a relay could charge um that being said I think we'll want to keep an eye on how things evolve because I think we get to a place where there are some relays today that view this more is a for-profit you know another arm of their business and would get to a place where they decide hey this is not worth our time and in the long run that means there are a few relays and that might not be a world we want but again I guess it's just this trade-off we will just keep exploring there are two hands up uh Phil I think you had yours and then we'll go to Max um yeah so I I both agree and disagree with Justin like I think it's not necessarily a burning issue and I agree with the market Dynamic analysis of charging fees being difficult also the reason that we've kind of avoided ourselves going in this direction is because my meta game theory is like it's easier to Upstream a public good than like a business um just from like an evolutionary point of view if we are stuck with this Market structure for a long time that being said I don't think it's like totally outside the scope of like relays and or if people want to experiment with that it's whatever that's just what what like my flashbots uh you know native analysis of it so far I do think it's still worth asking the question of like can we do better even though there is there are parties that are interested and like aligned with running this infrastructure you know what if a new entry wants to come in and they're like super aligned but like they don't they just don't have the means it seems to me that there's no path for them right now that's super obvious and maybe that's like a low hanging fruit that we can fix if we do want to view it and promote it as a public good I'm even thinking of you know you Justin the ultrasound Money Team or even agnostic like it took some time for agnostic to run a relay and like we were even trying to like kind of prod them into that for a while and there was resistance there and like it's understandable it's a lot of devops work it's distracting it's like infrastructure heavy work that you know a lot of teams aren't set up to do even if they want to or would be aligned with it plus it's expensive and like you know plus it's politically sometimes complex in in the limit of like you know having to come and like present positions to other relays and things like that so I think there are barriers and like maybe we can reduce these more and maybe that would be good so that like you know teams like ultrasound don't rely on like a big external treasury um or you know like uh Ultra ultrasound doesn't have to make as much of or sorry uh agnostic doesn't have to make as much of a business decision on like how distracting is this from our core Focus uh kind of just lessen that burden to to get started maybe it is worth doing Max uh hey um Justin I think 100 000 a year is probably it's probably right if you take people away from that but I'll give you the Asus perspective which is um that often and I are funding this directly with no no funding at the moment um and our time uh it's quite uh dedicated as well we uh have looked for public goods funding for this from a variety of sources and have been turned down at every uh every ask because I think there's a real fear from funding bodies that they might somehow impact the the market here I guess I'd say that the you know the the actually the role of a of a relay here is you know ideally to be as as neutral as possible and the issue that we have is if we start accepting money from Builders then um who are sometimes Keen to pay you know on side Channel and then we would compromise that neutrality and I think if you look through you know the list of relays at the moment most of them are either being funded by a builder or by a side Channel deal or you know buy a a company that are making profit through their own erc20 token anywhere and if we want to get past that we're going to have to have this conversation at some point at the same time I acknowledge that the engineering here is tricky and that you could actually just incentivize some kind of centralization again which might be um you know difficult because yeah so I I don't know what the answer is but um it's a struggle for Easter so I know that um when Austin was at East Denver uh blocks route and block naked were both talking about this as being a burning issue for them as well um I think we should explore it further I think another way to get around this is to like have alternate paths so like you could provide funding but maybe it comes with strengths or like requires a certain organizational structure for accepting that kind of funding so then like new entrants have a choice of like do we want to kind of get immediately into the market take this funding and run a public good and like structure ourselves that way or we don't want to run a public good and then we have to find some other path to make this work but I do agree like that public good option seems like very hard to make work today and one side note here on public skills funding um I've been invited to be a so-called badge holder for optimism and they basically have this retroactive public goods funding round number two and it's roughly 25 million dollars [Music] um you know maybe some of those 25 million dollars could be routed towards relay you know that's like five lifetimes worth of of funding for all all the relays across five years so I'd say okay I acknowledge that you know maybe getting funding so far has been difficult but uh this this could change very quickly with with things like the optimism public school funding it is also an option to be more activist about this on the map boost side which not to derail the conversation completely but it relates to like the early precursor conversations of this call of like should there be a foundation specifically for Mev public goods how do we govern that boost et cetera I think these are all kind of like intertwined questions because there are some universes where like the nav boost Community leaders play more of in like activist role in kind of building these funding rails and like Distributing the capital and things like that and there are worlds where like the governance and that side of things are more separate yeah relays are in a privileged position right and it would be ideal if all the relays were clear about how they were funded because if if they're making side Channels with with Builders then the rest of the ethereum community and the validators in particular might suspect that that you know comes with some compromises and it would be ideal to get all of that out there so having a public channel for funding these things just seems far preferential to putting relays in a position where they need to go and ask yeah kind of building on that just a little more um I know talking with block native this is one of their big concerns right now is that uh the lack of a Universal kind of unified charge all the builders equally public kind of funding model means that relays are pushed to create these side Channel deals um and and block native actually shared a couple of those with me they've made deals with certain Builders to get prioritized access um and and so this is an incentive that occurs because of the lack of a more Universal funding method um and I guess yeah just reiterating the it's worth considering the um the impact on neutrality that that may have yeah these are all really interesting points I mean something that so One Vision I think Phil's kind of painting was basically yeah there's some entity that is going around going to optimism going to you know Bitcoin uh with their quadratic funding rounds these like different public goods services and saying hey you know relays need x per year to run the relays here's why this is important uh and sort of doing that fundraising um yeah it's a really interesting point um probably preferable to like keep it quote more decentralized right so if relays could kind of figure it out on their own how to do this independently that might be preferable but yeah that being said if if this you know the Memphis Community would like greatly greatly benefit from having some like uh you know more precise coordination there that I think that's very important to explore I agree I I will asterisk with like I don't think like just creating a sustainable funding model with relays is enough to like sidestep a lot of these side Channel incentives block native mentioned like if the side channels offer you way more than the the fees right then there's no incentive not to like still take the side channels uh especially if it becomes like if if the current status quo or like a lot of these are housed in like either for-profit or more ad hoc entities continues there's like no obligation not to make those deals um so I I do think it would help a little but it I don't think it completely solves the problem yeah it certainly doesn't solve it for the reasons you gave but maybe it can make it easier for either new relays to enter or for existing relays to uh maintain just covering their base costs okay uh anything else this has been a great call there's there's been a lot a lot of good conversation um I suppose we'll just open it up unless there's more on the relay funding Point uh point then we can just open it up to uh open discussion and if there's nothing there then we can go ahead and wrap up a little bit early I do have one question around the the validation nodes like right now uh the ocean relay only runs um kind of a fork of geff as a validation no simulation node and I I think I'm not sure but I think the flashbot code base has only been built with Gaff in mind and so at the relay level you know it seems like um if there's some sort of consensus bug on on Gaff then uh we we don't benefit from the the client diversity that we've we've managed to establish at the validator level um so I guess um is it correct that the the flashback codebase only supports gef and if so uh other steps to to have more diversity in terms of execution clients for simulation yeah it's a great topic uh the flashbots infrastructure is only built on gef the validation logic itself though is rather straightforward and it's a single additional Json RPC method that would conceivably be relatively easily important to other clients like never mind or others I think any of the teams could do that with kind of flow effort and it would be great to have more diversity here just to give some additional color the reason this is the case and it was built that way is because when we were looking at like the merge landscape it was looking like Geth would be like by far the dominant execution layer client and so the ad hoc logic was like it's less severe than like the resulting Network break would be and you probably want to be uh conforming to the dominant logic in like that chain split scenario anyway but I do think you know given that like a lot of people have written execution clients and things like that like it is it should it's probably time to like Multiplex that but that's historically why it kind of was built that way I mean one reason why relays might be especially interested in having other clients is performance I think geff is one of the I guess slower simulation uh execution clients and so whenever you you're not in optimistic mode whenever you know the value is greater than the collateral or the Builder just doesn't have collateral then um having a very very fast uh execution client is important and I know re for example or ref I don't know how it's pronounced um is quite a bit faster than Gavin maybe never mind as well I I don't really know or Aragon I think reth is like being purposely kind of designed for that right speed um and so yeah I do agree it'll be useful to swap in with the asterisk of consensus failures being possible if you know some of the optimizations shouldn't really be there right I mean one of the things that we've been thinking about is um a multi uh execution uh client system whereby um you when a bit comes in you immediately simulate it uh with your your Ultra fast uh simulation engine which could be ref and then you know a few hundreds of milliseconds later you also simulate it uh on GIF but that's kind of outside of the critical path and therefore whatever reason there's a mismatch between ref and and gef then for the the next slots going forward um you you disable ref and you just you just use gef so like in the worst case uh there will be one uh one slot with with a bad block so it's kind of like uh optimistic relaying but uh on the for the for the execution clients yeah it's a good idea so I guess to make this concrete like uh is the action item here support this RPC to various clients and like does anyone want to do that work slash who is going to do that work I can definitely take the charge here um yeah I mean there's a couple things so Chris has been pushing for Block validation and there's uh this SSC endpoint or uh building the block and yeah agree with everything we've said that it's important to have a client diversity at these other parts of the stock um so yeah I can definitely see what's there I've also been talking some uh with georgius about this use case with ref and yeah I think it'd be really cool to to see through and yeah this sort of multi-client almost multi-proof Thing Justin just described all sounds like good ideas okay anything else anyone has I was not sure we'd go for an hour and a half but uh there's a lot to talk about maybe I want to pump my post about geographic decentralization I'm trying to spread the meme and uh probably a broader conversation to be had there but uh Curious to to hear people's feedback on the post also if you have some time to read it sure is that okay thanks Chris yeah there's a uh Forum Post in the chat that Chris just dropped so please take a look okay uh I think I'll go ahead and call it thank you everyone for participating uh I think this is a really interesting call we covered all sorts of things uh again as we can see there's there's a lot here a lot to to work through and discuss um thanks everyone for being orderly with like the Zoom decorum and using hands and things that was helpful just in terms of moderating and yeah thanks again uh you know here's hoping that gorilla goes well I I feel pretty pretty hopeful for it and yeah I think we will uh keep having these calls uh as we need them so I'll see some of you around in the future calls thanks for moderating Alex great call thank you thanks all the ad great job Alex thanks for making this happen [Music] 